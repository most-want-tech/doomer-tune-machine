function sE(n,e){for(var s=0;s<e.length;s++){const r=e[s];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();function d_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fm={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function iE(){if(E1)return Tl;E1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:n,type:r,key:u,ref:o!==void 0?o:null,props:l}}return Tl.Fragment=e,Tl.jsx=s,Tl.jsxs=s,Tl}var A1;function rE(){return A1||(A1=1,fm.exports=iE()),fm.exports}var E=rE(),hm={exports:{}},Cl={},mm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1;function aE(){return M1||(M1=1,(function(n){function e(O,I){var F=O.length;O.push(I);e:for(;0<F;){var $=F-1>>>1,ne=O[$];if(0<o(ne,I))O[$]=I,O[F]=ne,F=$;else break e}}function s(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var I=O[0],F=O.pop();if(F!==I){O[0]=F;e:for(var $=0,ne=O.length,V=ne>>>1;$<V;){var G=2*($+1)-1,X=O[G],te=G+1,re=O[te];if(0>o(X,F))te<ne&&0>o(re,X)?(O[$]=re,O[te]=F,$=te):(O[$]=X,O[G]=F,$=G);else if(te<ne&&0>o(re,F))O[$]=re,O[te]=F,$=te;else break e}}return I}function o(O,I){var F=O.sortIndex-I.sortIndex;return F!==0?F:O.id-I.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],h=[],g=1,p=null,y=3,b=!1,x=!1,_=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function B(O){for(var I=s(h);I!==null;){if(I.callback===null)r(h);else if(I.startTime<=O)r(h),I.sortIndex=I.expirationTime,e(f,I);else break;I=s(h)}}function R(O){if(_=!1,B(O),!x)if(s(f)!==null)x=!0,z||(z=!0,H());else{var I=s(h);I!==null&&ce(R,I.startTime-O)}}var z=!1,D=-1,k=5,W=-1;function U(){return T?!0:!(n.unstable_now()-W<k)}function j(){if(T=!1,z){var O=n.unstable_now();W=O;var I=!0;try{e:{x=!1,_&&(_=!1,M(D),D=-1),b=!0;var F=y;try{t:{for(B(O),p=s(f);p!==null&&!(p.expirationTime>O&&U());){var $=p.callback;if(typeof $=="function"){p.callback=null,y=p.priorityLevel;var ne=$(p.expirationTime<=O);if(O=n.unstable_now(),typeof ne=="function"){p.callback=ne,B(O),I=!0;break t}p===s(f)&&r(f),B(O)}else r(f);p=s(f)}if(p!==null)I=!0;else{var V=s(h);V!==null&&ce(R,V.startTime-O),I=!1}}break e}finally{p=null,y=F,b=!1}I=void 0}}finally{I?H():z=!1}}}var H;if(typeof N=="function")H=function(){N(j)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ee=K.port2;K.port1.onmessage=j,H=function(){ee.postMessage(null)}}else H=function(){C(j,0)};function ce(O,I){D=C(function(){O(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(O){switch(y){case 1:case 2:case 3:var I=3;break;default:I=y}var F=y;y=I;try{return O()}finally{y=F}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(O,I){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=y;y=O;try{return I()}finally{y=F}},n.unstable_scheduleCallback=function(O,I,F){var $=n.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?$+F:$):F=$,O){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=F+ne,O={id:g++,callback:I,priorityLevel:O,startTime:F,expirationTime:ne,sortIndex:-1},F>$?(O.sortIndex=F,e(h,O),s(f)===null&&O===s(h)&&(_?(M(D),D=-1):_=!0,ce(R,F-$))):(O.sortIndex=ne,e(f,O),x||b||(x=!0,z||(z=!0,H()))),O},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(O){var I=y;return function(){var F=y;y=I;try{return O.apply(this,arguments)}finally{y=F}}}})(pm)),pm}var O1;function oE(){return O1||(O1=1,mm.exports=aE()),mm.exports}var gm={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function lE(){if(N1)return ke;N1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=y&&V[y]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function C(V,G,X){this.props=V,this.context=G,this.refs=T,this.updater=X||x}C.prototype.isReactComponent={},C.prototype.setState=function(V,G){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,G,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function M(){}M.prototype=C.prototype;function N(V,G,X){this.props=V,this.context=G,this.refs=T,this.updater=X||x}var B=N.prototype=new M;B.constructor=N,_(B,C.prototype),B.isPureReactComponent=!0;var R=Array.isArray;function z(){}var D={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function W(V,G,X){var te=X.ref;return{$$typeof:n,type:V,key:G,ref:te!==void 0?te:null,props:X}}function U(V,G){return W(V.type,G,V.props)}function j(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function H(V){var G={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(X){return G[X]})}var K=/\/+/g;function ee(V,G){return typeof V=="object"&&V!==null&&V.key!=null?H(""+V.key):G.toString(36)}function ce(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(z,z):(V.status="pending",V.then(function(G){V.status==="pending"&&(V.status="fulfilled",V.value=G)},function(G){V.status==="pending"&&(V.status="rejected",V.reason=G)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function O(V,G,X,te,re){var ue=typeof V;(ue==="undefined"||ue==="boolean")&&(V=null);var oe=!1;if(V===null)oe=!0;else switch(ue){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(V.$$typeof){case n:case e:oe=!0;break;case g:return oe=V._init,O(oe(V._payload),G,X,te,re)}}if(oe)return re=re(V),oe=te===""?"."+ee(V,0):te,R(re)?(X="",oe!=null&&(X=oe.replace(K,"$&/")+"/"),O(re,G,X,"",function(Ae){return Ae})):re!=null&&(j(re)&&(re=U(re,X+(re.key==null||V&&V.key===re.key?"":(""+re.key).replace(K,"$&/")+"/")+oe)),G.push(re)),1;oe=0;var ie=te===""?".":te+":";if(R(V))for(var we=0;we<V.length;we++)te=V[we],ue=ie+ee(te,we),oe+=O(te,G,X,ue,re);else if(we=b(V),typeof we=="function")for(V=we.call(V),we=0;!(te=V.next()).done;)te=te.value,ue=ie+ee(te,we++),oe+=O(te,G,X,ue,re);else if(ue==="object"){if(typeof V.then=="function")return O(ce(V),G,X,te,re);throw G=String(V),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return oe}function I(V,G,X){if(V==null)return V;var te=[],re=0;return O(V,te,"","",function(ue){return G.call(X,ue,re++)}),te}function F(V){if(V._status===-1){var G=V._result;G=G(),G.then(function(X){(V._status===0||V._status===-1)&&(V._status=1,V._result=X)},function(X){(V._status===0||V._status===-1)&&(V._status=2,V._result=X)}),V._status===-1&&(V._status=0,V._result=G)}if(V._status===1)return V._result.default;throw V._result}var $=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ne={map:I,forEach:function(V,G,X){I(V,function(){G.apply(this,arguments)},X)},count:function(V){var G=0;return I(V,function(){G++}),G},toArray:function(V){return I(V,function(G){return G})||[]},only:function(V){if(!j(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return ke.Activity=p,ke.Children=ne,ke.Component=C,ke.Fragment=s,ke.Profiler=o,ke.PureComponent=N,ke.StrictMode=r,ke.Suspense=f,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ke.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},ke.cache=function(V){return function(){return V.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(V,G,X){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var te=_({},V.props),re=V.key;if(G!=null)for(ue in G.key!==void 0&&(re=""+G.key),G)!k.call(G,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&G.ref===void 0||(te[ue]=G[ue]);var ue=arguments.length-2;if(ue===1)te.children=X;else if(1<ue){for(var oe=Array(ue),ie=0;ie<ue;ie++)oe[ie]=arguments[ie+2];te.children=oe}return W(V.type,re,te)},ke.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},ke.createElement=function(V,G,X){var te,re={},ue=null;if(G!=null)for(te in G.key!==void 0&&(ue=""+G.key),G)k.call(G,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(re[te]=G[te]);var oe=arguments.length-2;if(oe===1)re.children=X;else if(1<oe){for(var ie=Array(oe),we=0;we<oe;we++)ie[we]=arguments[we+2];re.children=ie}if(V&&V.defaultProps)for(te in oe=V.defaultProps,oe)re[te]===void 0&&(re[te]=oe[te]);return W(V,ue,re)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(V){return{$$typeof:d,render:V}},ke.isValidElement=j,ke.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:F}},ke.memo=function(V,G){return{$$typeof:h,type:V,compare:G===void 0?null:G}},ke.startTransition=function(V){var G=D.T,X={};D.T=X;try{var te=V(),re=D.S;re!==null&&re(X,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(z,$)}catch(ue){$(ue)}finally{G!==null&&X.types!==null&&(G.types=X.types),D.T=G}},ke.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ke.use=function(V){return D.H.use(V)},ke.useActionState=function(V,G,X){return D.H.useActionState(V,G,X)},ke.useCallback=function(V,G){return D.H.useCallback(V,G)},ke.useContext=function(V){return D.H.useContext(V)},ke.useDebugValue=function(){},ke.useDeferredValue=function(V,G){return D.H.useDeferredValue(V,G)},ke.useEffect=function(V,G){return D.H.useEffect(V,G)},ke.useEffectEvent=function(V){return D.H.useEffectEvent(V)},ke.useId=function(){return D.H.useId()},ke.useImperativeHandle=function(V,G,X){return D.H.useImperativeHandle(V,G,X)},ke.useInsertionEffect=function(V,G){return D.H.useInsertionEffect(V,G)},ke.useLayoutEffect=function(V,G){return D.H.useLayoutEffect(V,G)},ke.useMemo=function(V,G){return D.H.useMemo(V,G)},ke.useOptimistic=function(V,G){return D.H.useOptimistic(V,G)},ke.useReducer=function(V,G,X){return D.H.useReducer(V,G,X)},ke.useRef=function(V){return D.H.useRef(V)},ke.useState=function(V){return D.H.useState(V)},ke.useSyncExternalStore=function(V,G,X){return D.H.useSyncExternalStore(V,G,X)},ke.useTransition=function(){return D.H.useTransition()},ke.version="19.2.0",ke}var R1;function _p(){return R1||(R1=1,gm.exports=lE()),gm.exports}var vm={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function cE(){if(k1)return rn;k1=1;var n=_p();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,h,g){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:p==null?null:""+p,children:f,containerInfo:h,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(f,h,null,g)},rn.flushSync=function(f){var h=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=g,r.d.f()}},rn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},rn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},rn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,p=d(g,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):g==="script"&&r.d.X(f,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},rn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},rn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,p=d(g,h.crossOrigin);r.d.L(f,g,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},rn.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},rn.requestFormReset=function(f){r.d.r(f)},rn.unstable_batchedUpdates=function(f,h){return f(h)},rn.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},rn.useFormStatus=function(){return u.H.useHostTransitionStatus()},rn.version="19.2.0",rn}var D1;function f_(){if(D1)return vm.exports;D1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vm.exports=cE(),vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function uE(){if(V1)return Cl;V1=1;var n=oE(),e=_p(),s=f_();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function u(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function f(t){if(l(t)!==t)throw Error(r(188))}function h(t){var i=t.alternate;if(!i){if(i=l(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,c=i;;){var m=a.return;if(m===null)break;var v=m.alternate;if(v===null){if(c=m.return,c!==null){a=c;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===a)return f(m),t;if(v===c)return f(m),i;v=v.sibling}throw Error(r(188))}if(a.return!==c.return)a=m,c=v;else{for(var S=!1,A=m.child;A;){if(A===a){S=!0,a=m,c=v;break}if(A===c){S=!0,c=m,a=v;break}A=A.sibling}if(!S){for(A=v.child;A;){if(A===a){S=!0,a=v,c=m;break}if(A===c){S=!0,c=v,a=m;break}A=A.sibling}if(!S)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),N=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var K=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===K?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case z:return"SuspenseList";case W:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case N:return t.displayName||"Context";case M:return(t._context.displayName||"Context")+".Consumer";case B:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:ee(t.type)||"Memo";case k:i=t._payload,t=t._init;try{return ee(t(i))}catch{}}return null}var ce=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},$=[],ne=-1;function V(t){return{current:t}}function G(t){0>ne||(t.current=$[ne],$[ne]=null,ne--)}function X(t,i){ne++,$[ne]=t.current,t.current=i}var te=V(null),re=V(null),ue=V(null),oe=V(null);function ie(t,i){switch(X(ue,i),X(re,t),X(te,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Xy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Xy(i),t=Qy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(te),X(te,t)}function we(){G(te),G(re),G(ue)}function Ae(t){t.memoizedState!==null&&X(oe,t);var i=te.current,a=Qy(i,t.type);i!==a&&(X(re,t),X(te,a))}function Oe(t){re.current===t&&(G(te),G(re)),oe.current===t&&(G(oe),_l._currentValue=F)}var Ce,Dt;function vt(t){if(Ce===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ce=i&&i[1]||"",Dt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+t+Dt}var he=!1;function be(t,i){if(!t||he)return"";he=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var Q=J}Reflect.construct(t,[],le)}else{try{le.call()}catch(J){Q=J}t.call(le.prototype)}}else{try{throw Error()}catch(J){Q=J}(le=t())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),S=v[0],A=v[1];if(S&&A){var P=S.split(`
`),Y=A.split(`
`);for(m=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(c===P.length||m===Y.length)for(c=P.length-1,m=Y.length-1;1<=c&&0<=m&&P[c]!==Y[m];)m--;for(;1<=c&&0<=m;c--,m--)if(P[c]!==Y[m]){if(c!==1||m!==1)do if(c--,m--,0>m||P[c]!==Y[m]){var se=`
`+P[c].replace(" at new "," at ");return t.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",t.displayName)),se}while(1<=c&&0<=m);break}}}finally{he=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?vt(a):""}function Ze(t,i){switch(t.tag){case 26:case 27:case 5:return vt(t.type);case 16:return vt("Lazy");case 13:return t.child!==i&&i!==null?vt("Suspense Fallback"):vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return be(t.type,!1);case 11:return be(t.type.render,!1);case 1:return be(t.type,!0);case 31:return vt("Activity");default:return""}}function $e(t){try{var i="",a=null;do i+=Ze(t,a),a=t,t=t.return;while(t);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Me=Object.prototype.hasOwnProperty,st=n.unstable_scheduleCallback,qt=n.unstable_cancelCallback,yt=n.unstable_shouldYield,pn=n.unstable_requestPaint,Lt=n.unstable_now,ko=n.unstable_getCurrentPriorityLevel,Hs=n.unstable_ImmediatePriority,rc=n.unstable_UserBlockingPriority,pr=n.unstable_NormalPriority,Do=n.unstable_LowPriority,qs=n.unstable_IdlePriority,ac=n.log,wi=n.unstable_setDisableYieldValue,gr=null,un=null;function ts(t){if(typeof ac=="function"&&wi(t),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(gr,t)}catch{}}var nn=Math.clz32?Math.clz32:bs,ef=Math.log,Vo=Math.LN2;function bs(t){return t>>>=0,t===0?32:31-(ef(t)/Vo|0)|0}var ea=256,ta=262144,vr=4194304;function _s(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Re(t,i,a){var c=t.pendingLanes;if(c===0)return 0;var m=0,v=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var A=c&134217727;return A!==0?(c=A&~v,c!==0?m=_s(c):(S&=A,S!==0?m=_s(S):a||(a=A&~t,a!==0&&(m=_s(a))))):(A=c&~v,A!==0?m=_s(A):S!==0?m=_s(S):a||(a=c&~t,a!==0&&(m=_s(a)))),m===0?0:i!==0&&i!==m&&(i&v)===0&&(v=m&-m,a=i&-i,v>=a||v===32&&(a&4194048)!==0)?i:m}function bt(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Wt(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sn(){var t=vr;return vr<<=1,(vr&62914560)===0&&(vr=4194304),t}function xi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Tt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gn(t,i,a,c,m,v){var S=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,P=t.expirationTimes,Y=t.hiddenUpdates;for(a=S&~a;0<a;){var se=31-nn(a),le=1<<se;A[se]=0,P[se]=-1;var Q=Y[se];if(Q!==null)for(Y[se]=null,se=0;se<Q.length;se++){var J=Q[se];J!==null&&(J.lane&=-536870913)}a&=~le}c!==0&&yr(t,c,0),v!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=v&~(S&~i))}function yr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var c=31-nn(i);t.entangledLanes|=i,t.entanglements[c]=t.entanglements[c]|1073741824|a&261930}function vn(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var c=31-nn(a),m=1<<c;m&i|t[c]&i&&(t[c]|=i),a&=~m}}function yn(t,i){var a=i&-i;return a=(a&42)!==0?1:na(a),(a&(t.suspendedLanes|i))!==0?0:a}function na(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ns(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tf(){var t=I.p;return t!==0?t:(t=window.event,t===void 0?32:b1(t.type))}function z0(t,i){var a=I.p;try{return I.p=t,i()}finally{I.p=a}}var Si=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Si,bn="__reactProps$"+Si,sa="__reactContainer$"+Si,nf="__reactEvents$"+Si,GT="__reactListeners$"+Si,ZT="__reactHandles$"+Si,B0="__reactResources$"+Si,zo="__reactMarker$"+Si;function sf(t){delete t[Qt],delete t[bn],delete t[nf],delete t[GT],delete t[ZT]}function ia(t){var i=t[Qt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[sa]||a[Qt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=s1(t);t!==null;){if(a=t[Qt])return a;t=s1(t)}return i}t=a,a=t.parentNode}return null}function ra(t){if(t=t[Qt]||t[sa]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Bo(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function aa(t){var i=t[B0];return i||(i=t[B0]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Gt(t){t[zo]=!0}var I0=new Set,P0={};function br(t,i){oa(t,i),oa(t+"Capture",i)}function oa(t,i){for(P0[t]=i,t=0;t<i.length;t++)I0.add(i[t])}var YT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),F0={},L0={};function XT(t){return Me.call(L0,t)?!0:Me.call(F0,t)?!1:YT.test(t)?L0[t]=!0:(F0[t]=!0,!1)}function oc(t,i,a){if(XT(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function lc(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ws(t,i,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+c)}}function Un(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function j0(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function QT(t,i,a){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,v=c.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return m.call(this)},set:function(S){a=""+S,v.call(this,S)}}),Object.defineProperty(t,i,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function rf(t){if(!t._valueTracker){var i=j0(t)?"checked":"value";t._valueTracker=QT(t,i,""+t[i])}}function U0(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return t&&(c=j0(t)?t.checked?"true":"false":t.value),t=c,t!==a?(i.setValue(t),!0):!1}function cc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $T=/[\n"\\]/g;function Hn(t){return t.replace($T,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function af(t,i,a,c,m,v,S,A){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),i!=null?S==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Un(i)):t.value!==""+Un(i)&&(t.value=""+Un(i)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),i!=null?of(t,S,Un(i)):a!=null?of(t,S,Un(a)):c!=null&&t.removeAttribute("value"),m==null&&v!=null&&(t.defaultChecked=!!v),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Un(A):t.removeAttribute("name")}function H0(t,i,a,c,m,v,S,A){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),i!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){rf(t);return}a=a!=null?""+Un(a):"",i=i!=null?""+Un(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=A?t.checked:!!c,t.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),rf(t)}function of(t,i,a){i==="number"&&cc(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function la(t,i,a,c){if(t=t.options,i){i={};for(var m=0;m<a.length;m++)i["$"+a[m]]=!0;for(a=0;a<t.length;a++)m=i.hasOwnProperty("$"+t[a].value),t[a].selected!==m&&(t[a].selected=m),m&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Un(a),i=null,m=0;m<t.length;m++){if(t[m].value===a){t[m].selected=!0,c&&(t[m].defaultSelected=!0);return}i!==null||t[m].disabled||(i=t[m])}i!==null&&(i.selected=!0)}}function q0(t,i,a){if(i!=null&&(i=""+Un(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Un(a):""}function W0(t,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(r(92));if(ce(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=Un(i),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c),rf(t)}function ca(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var KT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function G0(t,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":c?t.setProperty(i,a):typeof a!="number"||a===0||KT.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Z0(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&a[m]!==c&&G0(t,m,c)}else for(var v in i)i.hasOwnProperty(v)&&G0(t,v,i[v])}function lf(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),e2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uc(t){return e2.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gs(){}var cf=null;function uf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ua=null,da=null;function Y0(t){var i=ra(t);if(i&&(t=i.stateNode)){var a=t[bn]||null;e:switch(t=i.stateNode,i.type){case"input":if(af(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Hn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==t&&c.form===t.form){var m=c[bn]||null;if(!m)throw Error(r(90));af(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===t.form&&U0(c)}break e;case"textarea":q0(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&la(t,!!a.multiple,i,!1)}}}var df=!1;function X0(t,i,a){if(df)return t(i,a);df=!0;try{var c=t(i);return c}finally{if(df=!1,(ua!==null||da!==null)&&($c(),ua&&(i=ua,t=da,da=ua=null,Y0(i),t)))for(i=0;i<t.length;i++)Y0(t[i])}}function Io(t,i){var a=t.stateNode;if(a===null)return null;var c=a[bn]||null;if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ff=!1;if(Zs)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){ff=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{ff=!1}var Ti=null,hf=null,dc=null;function Q0(){if(dc)return dc;var t,i=hf,a=i.length,c,m="value"in Ti?Ti.value:Ti.textContent,v=m.length;for(t=0;t<a&&i[t]===m[t];t++);var S=a-t;for(c=1;c<=S&&i[a-c]===m[v-c];c++);return dc=m.slice(t,1<c?1-c:void 0)}function fc(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function hc(){return!0}function $0(){return!1}function _n(t){function i(a,c,m,v,S){this._reactName=a,this._targetInst=m,this.type=c,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(v):v[A]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?hc:$0,this.isPropagationStopped=$0,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hc)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hc)},persist:function(){},isPersistent:hc}),i}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mc=_n(_r),Fo=p({},_r,{view:0,detail:0}),t2=_n(Fo),mf,pf,Lo,pc=p({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lo&&(Lo&&t.type==="mousemove"?(mf=t.screenX-Lo.screenX,pf=t.screenY-Lo.screenY):pf=mf=0,Lo=t),mf)},movementY:function(t){return"movementY"in t?t.movementY:pf}}),K0=_n(pc),n2=p({},pc,{dataTransfer:0}),s2=_n(n2),i2=p({},Fo,{relatedTarget:0}),gf=_n(i2),r2=p({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),a2=_n(r2),o2=p({},_r,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l2=_n(o2),c2=p({},_r,{data:0}),J0=_n(c2),u2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h2(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=f2[t])?!!i[t]:!1}function vf(){return h2}var m2=p({},Fo,{key:function(t){if(t.key){var i=u2[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=fc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?d2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vf,charCode:function(t){return t.type==="keypress"?fc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p2=_n(m2),g2=p({},pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eg=_n(g2),v2=p({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vf}),y2=_n(v2),b2=p({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),_2=_n(b2),w2=p({},pc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x2=_n(w2),S2=p({},_r,{newState:0,oldState:0}),T2=_n(S2),C2=[9,13,27,32],yf=Zs&&"CompositionEvent"in window,jo=null;Zs&&"documentMode"in document&&(jo=document.documentMode);var E2=Zs&&"TextEvent"in window&&!jo,tg=Zs&&(!yf||jo&&8<jo&&11>=jo),ng=" ",sg=!1;function ig(t,i){switch(t){case"keyup":return C2.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fa=!1;function A2(t,i){switch(t){case"compositionend":return rg(i);case"keypress":return i.which!==32?null:(sg=!0,ng);case"textInput":return t=i.data,t===ng&&sg?null:t;default:return null}}function M2(t,i){if(fa)return t==="compositionend"||!yf&&ig(t,i)?(t=Q0(),dc=hf=Ti=null,fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return tg&&i.locale!=="ko"?null:i.data;default:return null}}var O2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!O2[t.type]:i==="textarea"}function og(t,i,a,c){ua?da?da.push(c):da=[c]:ua=c,i=iu(i,"onChange"),0<i.length&&(a=new mc("onChange","change",null,a,c),t.push({event:a,listeners:i}))}var Uo=null,Ho=null;function N2(t){Hy(t,0)}function gc(t){var i=Bo(t);if(U0(i))return t}function lg(t,i){if(t==="change")return i}var cg=!1;if(Zs){var bf;if(Zs){var _f="oninput"in document;if(!_f){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),_f=typeof ug.oninput=="function"}bf=_f}else bf=!1;cg=bf&&(!document.documentMode||9<document.documentMode)}function dg(){Uo&&(Uo.detachEvent("onpropertychange",fg),Ho=Uo=null)}function fg(t){if(t.propertyName==="value"&&gc(Ho)){var i=[];og(i,Ho,t,uf(t)),X0(N2,i)}}function R2(t,i,a){t==="focusin"?(dg(),Uo=i,Ho=a,Uo.attachEvent("onpropertychange",fg)):t==="focusout"&&dg()}function k2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gc(Ho)}function D2(t,i){if(t==="click")return gc(i)}function V2(t,i){if(t==="input"||t==="change")return gc(i)}function z2(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Rn=typeof Object.is=="function"?Object.is:z2;function qo(t,i){if(Rn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var m=a[c];if(!Me.call(i,m)||!Rn(t[m],i[m]))return!1}return!0}function hg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,i){var a=hg(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=i&&c>=i)return{node:a,offset:i-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hg(a)}}function pg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?pg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=cc(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=cc(t.document)}return i}function wf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var B2=Zs&&"documentMode"in document&&11>=document.documentMode,ha=null,xf=null,Wo=null,Sf=!1;function vg(t,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||ha==null||ha!==cc(c)||(c=ha,"selectionStart"in c&&wf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Wo&&qo(Wo,c)||(Wo=c,c=iu(xf,"onSelect"),0<c.length&&(i=new mc("onSelect","select",null,i,a),t.push({event:i,listeners:c}),i.target=ha)))}function wr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ma={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},Tf={},yg={};Zs&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function xr(t){if(Tf[t])return Tf[t];if(!ma[t])return t;var i=ma[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in yg)return Tf[t]=i[a];return t}var bg=xr("animationend"),_g=xr("animationiteration"),wg=xr("animationstart"),I2=xr("transitionrun"),P2=xr("transitionstart"),F2=xr("transitioncancel"),xg=xr("transitionend"),Sg=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function ss(t,i){Sg.set(t,i),br(i,[t])}var vc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],pa=0,Ef=0;function yc(){for(var t=pa,i=Ef=pa=0;i<t;){var a=qn[i];qn[i++]=null;var c=qn[i];qn[i++]=null;var m=qn[i];qn[i++]=null;var v=qn[i];if(qn[i++]=null,c!==null&&m!==null){var S=c.pending;S===null?m.next=m:(m.next=S.next,S.next=m),c.pending=m}v!==0&&Tg(a,m,v)}}function bc(t,i,a,c){qn[pa++]=t,qn[pa++]=i,qn[pa++]=a,qn[pa++]=c,Ef|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Af(t,i,a,c){return bc(t,i,a,c),_c(t)}function Sr(t,i){return bc(t,null,null,i),_c(t)}function Tg(t,i,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var m=!1,v=t.return;v!==null;)v.childLanes|=a,c=v.alternate,c!==null&&(c.childLanes|=a),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(m=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,m&&i!==null&&(m=31-nn(a),t=v.hiddenUpdates,c=t[m],c===null?t[m]=[i]:c.push(i),i.lane=a|536870912),v):null}function _c(t){if(50<hl)throw hl=0,Bh=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ga={};function L2(t,i,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,i,a,c){return new L2(t,i,a,c)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ys(t,i){var a=t.alternate;return a===null?(a=kn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function wc(t,i,a,c,m,v){var S=0;if(c=t,typeof t=="function")Mf(t)&&(S=1);else if(typeof t=="string")S=WC(t,a,te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case W:return t=kn(31,a,i,m),t.elementType=W,t.lanes=v,t;case _:return Tr(a.children,m,v,i);case T:S=8,m|=24;break;case C:return t=kn(12,a,i,m|2),t.elementType=C,t.lanes=v,t;case R:return t=kn(13,a,i,m),t.elementType=R,t.lanes=v,t;case z:return t=kn(19,a,i,m),t.elementType=z,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:S=10;break e;case M:S=9;break e;case B:S=11;break e;case D:S=14;break e;case k:S=16,c=null;break e}S=29,a=Error(r(130,t===null?"null":typeof t,"")),c=null}return i=kn(S,a,i,m),i.elementType=t,i.type=c,i.lanes=v,i}function Tr(t,i,a,c){return t=kn(7,t,c,i),t.lanes=a,t}function Of(t,i,a){return t=kn(6,t,null,i),t.lanes=a,t}function Eg(t){var i=kn(18,null,null,0);return i.stateNode=t,i}function Nf(t,i,a){return i=kn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ag=new WeakMap;function Wn(t,i){if(typeof t=="object"&&t!==null){var a=Ag.get(t);return a!==void 0?a:(i={value:t,source:i,stack:$e(i)},Ag.set(t,i),i)}return{value:t,source:i,stack:$e(i)}}var va=[],ya=0,xc=null,Go=0,Gn=[],Zn=0,Ci=null,ws=1,xs="";function Xs(t,i){va[ya++]=Go,va[ya++]=xc,xc=t,Go=i}function Mg(t,i,a){Gn[Zn++]=ws,Gn[Zn++]=xs,Gn[Zn++]=Ci,Ci=t;var c=ws;t=xs;var m=32-nn(c)-1;c&=~(1<<m),a+=1;var v=32-nn(i)+m;if(30<v){var S=m-m%5;v=(c&(1<<S)-1).toString(32),c>>=S,m-=S,ws=1<<32-nn(i)+m|a<<m|c,xs=v+t}else ws=1<<v|a<<m|c,xs=t}function Rf(t){t.return!==null&&(Xs(t,1),Mg(t,1,0))}function kf(t){for(;t===xc;)xc=va[--ya],va[ya]=null,Go=va[--ya],va[ya]=null;for(;t===Ci;)Ci=Gn[--Zn],Gn[Zn]=null,xs=Gn[--Zn],Gn[Zn]=null,ws=Gn[--Zn],Gn[Zn]=null}function Og(t,i){Gn[Zn++]=ws,Gn[Zn++]=xs,Gn[Zn++]=Ci,ws=i.id,xs=i.overflow,Ci=t}var $t=null,mt=null,We=!1,Ei=null,Yn=!1,Df=Error(r(519));function Ai(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(Wn(i,t)),Df}function Ng(t){var i=t.stateNode,a=t.type,c=t.memoizedProps;switch(i[Qt]=t,i[bn]=c,a){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(a=0;a<pl.length;a++)je(pl[a],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),H0(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),W0(i,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||Zy(i.textContent,a)?(c.popover!=null&&(je("beforetoggle",i),je("toggle",i)),c.onScroll!=null&&je("scroll",i),c.onScrollEnd!=null&&je("scrollend",i),c.onClick!=null&&(i.onclick=Gs),i=!0):i=!1,i||Ai(t,!0)}function Rg(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:$t=$t.return}}function ba(t){if(t!==$t)return!1;if(!We)return Rg(t),We=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$h(t.type,t.memoizedProps)),a=!a),a&&mt&&Ai(t),Rg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));mt=n1(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));mt=n1(t)}else i===27?(i=mt,ji(t.type)?(t=nm,nm=null,mt=t):mt=i):mt=$t?Qn(t.stateNode.nextSibling):null;return!0}function Cr(){mt=$t=null,We=!1}function Vf(){var t=Ei;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),Ei=null),t}function Zo(t){Ei===null?Ei=[t]:Ei.push(t)}var zf=V(null),Er=null,Qs=null;function Mi(t,i,a){X(zf,i._currentValue),i._currentValue=a}function $s(t){t._currentValue=zf.current,G(zf)}function Bf(t,i,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===a)break;t=t.return}}function If(t,i,a,c){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var v=m.dependencies;if(v!==null){var S=m.child;v=v.firstContext;e:for(;v!==null;){var A=v;v=m;for(var P=0;P<i.length;P++)if(A.context===i[P]){v.lanes|=a,A=v.alternate,A!==null&&(A.lanes|=a),Bf(v.return,a,t),c||(S=null);break e}v=A.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=a,v=S.alternate,v!==null&&(v.lanes|=a),Bf(S,a,t),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===t){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function _a(t,i,a,c){t=null;for(var m=i,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var A=m.type;Rn(m.pendingProps.value,S.value)||(t!==null?t.push(A):t=[A])}}else if(m===oe.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(_l):t=[_l])}m=m.return}t!==null&&If(i,t,a,c),i.flags|=262144}function Sc(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ar(t){Er=t,Qs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return kg(Er,t)}function Tc(t,i){return Er===null&&Ar(t),kg(t,i)}function kg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qs===null){if(t===null)throw Error(r(308));Qs=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qs=Qs.next=i;return a}var j2=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},U2=n.unstable_scheduleCallback,H2=n.unstable_NormalPriority,Vt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new j2,data:new Map,refCount:0}}function Yo(t){t.refCount--,t.refCount===0&&U2(H2,function(){t.controller.abort()})}var Xo=null,Ff=0,wa=0,xa=null;function q2(t,i){if(Xo===null){var a=Xo=[];Ff=0,wa=Uh(),xa={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Ff++,i.then(Dg,Dg),i}function Dg(){if(--Ff===0&&Xo!==null){xa!==null&&(xa.status="fulfilled");var t=Xo;Xo=null,wa=0,xa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function W2(t,i){var a=[],c={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return t.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<a.length;m++)(0,a[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),c}var Vg=O.S;O.S=function(t,i){vy=Lt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&q2(t,i),Vg!==null&&Vg(t,i)};var Mr=V(null);function Lf(){var t=Mr.current;return t!==null?t:ut.pooledCache}function Cc(t,i){i===null?X(Mr,Mr.current):X(Mr,i.pool)}function zg(){var t=Lf();return t===null?null:{parent:Vt._currentValue,pool:t}}var Sa=Error(r(460)),jf=Error(r(474)),Ec=Error(r(542)),Ac={then:function(){}};function Bg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ig(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gs,Gs),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Fg(t),t;default:if(typeof i.status=="string")i.then(Gs,Gs);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Fg(t),t}throw Nr=i,Sa}}function Or(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Nr=a,Sa):a}}var Nr=null;function Pg(){if(Nr===null)throw Error(r(459));var t=Nr;return Nr=null,t}function Fg(t){if(t===Sa||t===Ec)throw Error(r(483))}var Ta=null,Qo=0;function Mc(t){var i=Qo;return Qo+=1,Ta===null&&(Ta=[]),Ig(Ta,t,i)}function $o(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Oc(t,i){throw i.$$typeof===y?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Lg(t){function i(q,L){if(t){var Z=q.deletions;Z===null?(q.deletions=[L],q.flags|=16):Z.push(L)}}function a(q,L){if(!t)return null;for(;L!==null;)i(q,L),L=L.sibling;return null}function c(q){for(var L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function m(q,L){return q=Ys(q,L),q.index=0,q.sibling=null,q}function v(q,L,Z){return q.index=Z,t?(Z=q.alternate,Z!==null?(Z=Z.index,Z<L?(q.flags|=67108866,L):Z):(q.flags|=67108866,L)):(q.flags|=1048576,L)}function S(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function A(q,L,Z,ae){return L===null||L.tag!==6?(L=Of(Z,q.mode,ae),L.return=q,L):(L=m(L,Z),L.return=q,L)}function P(q,L,Z,ae){var xe=Z.type;return xe===_?se(q,L,Z.props.children,ae,Z.key):L!==null&&(L.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===k&&Or(xe)===L.type)?(L=m(L,Z.props),$o(L,Z),L.return=q,L):(L=wc(Z.type,Z.key,Z.props,null,q.mode,ae),$o(L,Z),L.return=q,L)}function Y(q,L,Z,ae){return L===null||L.tag!==4||L.stateNode.containerInfo!==Z.containerInfo||L.stateNode.implementation!==Z.implementation?(L=Nf(Z,q.mode,ae),L.return=q,L):(L=m(L,Z.children||[]),L.return=q,L)}function se(q,L,Z,ae,xe){return L===null||L.tag!==7?(L=Tr(Z,q.mode,ae,xe),L.return=q,L):(L=m(L,Z),L.return=q,L)}function le(q,L,Z){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Of(""+L,q.mode,Z),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return Z=wc(L.type,L.key,L.props,null,q.mode,Z),$o(Z,L),Z.return=q,Z;case x:return L=Nf(L,q.mode,Z),L.return=q,L;case k:return L=Or(L),le(q,L,Z)}if(ce(L)||H(L))return L=Tr(L,q.mode,Z,null),L.return=q,L;if(typeof L.then=="function")return le(q,Mc(L),Z);if(L.$$typeof===N)return le(q,Tc(q,L),Z);Oc(q,L)}return null}function Q(q,L,Z,ae){var xe=L!==null?L.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return xe!==null?null:A(q,L,""+Z,ae);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===xe?P(q,L,Z,ae):null;case x:return Z.key===xe?Y(q,L,Z,ae):null;case k:return Z=Or(Z),Q(q,L,Z,ae)}if(ce(Z)||H(Z))return xe!==null?null:se(q,L,Z,ae,null);if(typeof Z.then=="function")return Q(q,L,Mc(Z),ae);if(Z.$$typeof===N)return Q(q,L,Tc(q,Z),ae);Oc(q,Z)}return null}function J(q,L,Z,ae,xe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return q=q.get(Z)||null,A(L,q,""+ae,xe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return q=q.get(ae.key===null?Z:ae.key)||null,P(L,q,ae,xe);case x:return q=q.get(ae.key===null?Z:ae.key)||null,Y(L,q,ae,xe);case k:return ae=Or(ae),J(q,L,Z,ae,xe)}if(ce(ae)||H(ae))return q=q.get(Z)||null,se(L,q,ae,xe,null);if(typeof ae.then=="function")return J(q,L,Z,Mc(ae),xe);if(ae.$$typeof===N)return J(q,L,Z,Tc(L,ae),xe);Oc(L,ae)}return null}function pe(q,L,Z,ae){for(var xe=null,Ye=null,ye=L,ze=L=0,He=null;ye!==null&&ze<Z.length;ze++){ye.index>ze?(He=ye,ye=null):He=ye.sibling;var Xe=Q(q,ye,Z[ze],ae);if(Xe===null){ye===null&&(ye=He);break}t&&ye&&Xe.alternate===null&&i(q,ye),L=v(Xe,L,ze),Ye===null?xe=Xe:Ye.sibling=Xe,Ye=Xe,ye=He}if(ze===Z.length)return a(q,ye),We&&Xs(q,ze),xe;if(ye===null){for(;ze<Z.length;ze++)ye=le(q,Z[ze],ae),ye!==null&&(L=v(ye,L,ze),Ye===null?xe=ye:Ye.sibling=ye,Ye=ye);return We&&Xs(q,ze),xe}for(ye=c(ye);ze<Z.length;ze++)He=J(ye,q,ze,Z[ze],ae),He!==null&&(t&&He.alternate!==null&&ye.delete(He.key===null?ze:He.key),L=v(He,L,ze),Ye===null?xe=He:Ye.sibling=He,Ye=He);return t&&ye.forEach(function(Gi){return i(q,Gi)}),We&&Xs(q,ze),xe}function Ee(q,L,Z,ae){if(Z==null)throw Error(r(151));for(var xe=null,Ye=null,ye=L,ze=L=0,He=null,Xe=Z.next();ye!==null&&!Xe.done;ze++,Xe=Z.next()){ye.index>ze?(He=ye,ye=null):He=ye.sibling;var Gi=Q(q,ye,Xe.value,ae);if(Gi===null){ye===null&&(ye=He);break}t&&ye&&Gi.alternate===null&&i(q,ye),L=v(Gi,L,ze),Ye===null?xe=Gi:Ye.sibling=Gi,Ye=Gi,ye=He}if(Xe.done)return a(q,ye),We&&Xs(q,ze),xe;if(ye===null){for(;!Xe.done;ze++,Xe=Z.next())Xe=le(q,Xe.value,ae),Xe!==null&&(L=v(Xe,L,ze),Ye===null?xe=Xe:Ye.sibling=Xe,Ye=Xe);return We&&Xs(q,ze),xe}for(ye=c(ye);!Xe.done;ze++,Xe=Z.next())Xe=J(ye,q,ze,Xe.value,ae),Xe!==null&&(t&&Xe.alternate!==null&&ye.delete(Xe.key===null?ze:Xe.key),L=v(Xe,L,ze),Ye===null?xe=Xe:Ye.sibling=Xe,Ye=Xe);return t&&ye.forEach(function(nE){return i(q,nE)}),We&&Xs(q,ze),xe}function at(q,L,Z,ae){if(typeof Z=="object"&&Z!==null&&Z.type===_&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var xe=Z.key;L!==null;){if(L.key===xe){if(xe=Z.type,xe===_){if(L.tag===7){a(q,L.sibling),ae=m(L,Z.props.children),ae.return=q,q=ae;break e}}else if(L.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===k&&Or(xe)===L.type){a(q,L.sibling),ae=m(L,Z.props),$o(ae,Z),ae.return=q,q=ae;break e}a(q,L);break}else i(q,L);L=L.sibling}Z.type===_?(ae=Tr(Z.props.children,q.mode,ae,Z.key),ae.return=q,q=ae):(ae=wc(Z.type,Z.key,Z.props,null,q.mode,ae),$o(ae,Z),ae.return=q,q=ae)}return S(q);case x:e:{for(xe=Z.key;L!==null;){if(L.key===xe)if(L.tag===4&&L.stateNode.containerInfo===Z.containerInfo&&L.stateNode.implementation===Z.implementation){a(q,L.sibling),ae=m(L,Z.children||[]),ae.return=q,q=ae;break e}else{a(q,L);break}else i(q,L);L=L.sibling}ae=Nf(Z,q.mode,ae),ae.return=q,q=ae}return S(q);case k:return Z=Or(Z),at(q,L,Z,ae)}if(ce(Z))return pe(q,L,Z,ae);if(H(Z)){if(xe=H(Z),typeof xe!="function")throw Error(r(150));return Z=xe.call(Z),Ee(q,L,Z,ae)}if(typeof Z.then=="function")return at(q,L,Mc(Z),ae);if(Z.$$typeof===N)return at(q,L,Tc(q,Z),ae);Oc(q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,L!==null&&L.tag===6?(a(q,L.sibling),ae=m(L,Z),ae.return=q,q=ae):(a(q,L),ae=Of(Z,q.mode,ae),ae.return=q,q=ae),S(q)):a(q,L)}return function(q,L,Z,ae){try{Qo=0;var xe=at(q,L,Z,ae);return Ta=null,xe}catch(ye){if(ye===Sa||ye===Ec)throw ye;var Ye=kn(29,ye,null,q.mode);return Ye.lanes=ae,Ye.return=q,Ye}finally{}}}var Rr=Lg(!0),jg=Lg(!1),Oi=!1;function Uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ni(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ri(t,i,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ke&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=_c(t),Tg(t,null,a),i}return bc(t,c,i,a),_c(t)}function Ko(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,vn(t,a)}}function qf(t,i){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var m=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?m=v=S:v=v.next=S,a=a.next}while(a!==null);v===null?m=v=i:v=v.next=i}else m=v=i;a={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Wf=!1;function Jo(){if(Wf){var t=xa;if(t!==null)throw t}}function el(t,i,a,c){Wf=!1;var m=t.updateQueue;Oi=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var P=A,Y=P.next;P.next=null,S===null?v=Y:S.next=Y,S=P;var se=t.alternate;se!==null&&(se=se.updateQueue,A=se.lastBaseUpdate,A!==S&&(A===null?se.firstBaseUpdate=Y:A.next=Y,se.lastBaseUpdate=P))}if(v!==null){var le=m.baseState;S=0,se=Y=P=null,A=v;do{var Q=A.lane&-536870913,J=Q!==A.lane;if(J?(Ue&Q)===Q:(c&Q)===Q){Q!==0&&Q===wa&&(Wf=!0),se!==null&&(se=se.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=t,Ee=A;Q=i;var at=a;switch(Ee.tag){case 1:if(pe=Ee.payload,typeof pe=="function"){le=pe.call(at,le,Q);break e}le=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ee.payload,Q=typeof pe=="function"?pe.call(at,le,Q):pe,Q==null)break e;le=p({},le,Q);break e;case 2:Oi=!0}}Q=A.callback,Q!==null&&(t.flags|=64,J&&(t.flags|=8192),J=m.callbacks,J===null?m.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},se===null?(Y=se=J,P=le):se=se.next=J,S|=Q;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;J=A,A=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);se===null&&(P=le),m.baseState=P,m.firstBaseUpdate=Y,m.lastBaseUpdate=se,v===null&&(m.shared.lanes=0),Bi|=S,t.lanes=S,t.memoizedState=le}}function Ug(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Hg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ug(a[t],i)}var Ca=V(null),Nc=V(0);function qg(t,i){t=ai,X(Nc,t),X(Ca,i),ai=t|i.baseLanes}function Gf(){X(Nc,ai),X(Ca,Ca.current)}function Zf(){ai=Nc.current,G(Ca),G(Nc)}var Dn=V(null),Xn=null;function ki(t){var i=t.alternate;X(Nt,Nt.current&1),X(Dn,t),Xn===null&&(i===null||Ca.current!==null||i.memoizedState!==null)&&(Xn=t)}function Yf(t){X(Nt,Nt.current),X(Dn,t),Xn===null&&(Xn=t)}function Wg(t){t.tag===22?(X(Nt,Nt.current),X(Dn,t),Xn===null&&(Xn=t)):Di()}function Di(){X(Nt,Nt.current),X(Dn,Dn.current)}function Vn(t){G(Dn),Xn===t&&(Xn=null),G(Nt)}var Nt=V(0);function Rc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||em(a)||tm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ks=0,Ve=null,it=null,zt=null,kc=!1,Ea=!1,kr=!1,Dc=0,tl=0,Aa=null,G2=0;function Ct(){throw Error(r(321))}function Xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Rn(t[a],i[a]))return!1;return!0}function Qf(t,i,a,c,m,v){return Ks=v,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,O.H=t===null||t.memoizedState===null?Mv:dh,kr=!1,v=a(c,m),kr=!1,Ea&&(v=Zg(i,a,c,m)),Gg(t),v}function Gg(t){O.H=il;var i=it!==null&&it.next!==null;if(Ks=0,zt=it=Ve=null,kc=!1,tl=0,Aa=null,i)throw Error(r(300));t===null||Bt||(t=t.dependencies,t!==null&&Sc(t)&&(Bt=!0))}function Zg(t,i,a,c){Ve=t;var m=0;do{if(Ea&&(Aa=null),tl=0,Ea=!1,25<=m)throw Error(r(301));if(m+=1,zt=it=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}O.H=Ov,v=i(a,c)}while(Ea);return v}function Z2(){var t=O.H,i=t.useState()[0];return i=typeof i.then=="function"?nl(i):i,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Ve.flags|=1024),i}function $f(){var t=Dc!==0;return Dc=0,t}function Kf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Jf(t){if(kc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}kc=!1}Ks=0,zt=it=Ve=null,Ea=!1,tl=Dc=0,Aa=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ve.memoizedState=zt=t:zt=zt.next=t,zt}function Rt(){if(it===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var i=zt===null?Ve.memoizedState:zt.next;if(i!==null)zt=i,it=t;else{if(t===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},zt===null?Ve.memoizedState=zt=t:zt=zt.next=t}return zt}function Vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var i=tl;return tl+=1,Aa===null&&(Aa=[]),t=Ig(Aa,t,i),i=Ve,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,O.H=i===null||i.memoizedState===null?Mv:dh),t}function zc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===N)return Kt(t)}throw Error(r(438,String(t)))}function eh(t){var i=null,a=Ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=Ve.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Vc(),Ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),c=0;c<t;c++)a[c]=U;return i.index++,a}function Js(t,i){return typeof i=="function"?i(t):i}function Bc(t){var i=Rt();return th(i,it,t)}function th(t,i,a){var c=t.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var m=t.baseQueue,v=c.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}i.baseQueue=m=v,c.pending=null}if(v=t.baseState,m===null)t.memoizedState=v;else{i=m.next;var A=S=null,P=null,Y=i,se=!1;do{var le=Y.lane&-536870913;if(le!==Y.lane?(Ue&le)===le:(Ks&le)===le){var Q=Y.revertLane;if(Q===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),le===wa&&(se=!0);else if((Ks&Q)===Q){Y=Y.next,Q===wa&&(se=!0);continue}else le={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(A=P=le,S=v):P=P.next=le,Ve.lanes|=Q,Bi|=Q;le=Y.action,kr&&a(v,le),v=Y.hasEagerState?Y.eagerState:a(v,le)}else Q={lane:le,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(A=P=Q,S=v):P=P.next=Q,Ve.lanes|=le,Bi|=le;Y=Y.next}while(Y!==null&&Y!==i);if(P===null?S=v:P.next=A,!Rn(v,t.memoizedState)&&(Bt=!0,se&&(a=xa,a!==null)))throw a;t.memoizedState=v,t.baseState=S,t.baseQueue=P,c.lastRenderedState=v}return m===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function nh(t){var i=Rt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var c=a.dispatch,m=a.pending,v=i.memoizedState;if(m!==null){a.pending=null;var S=m=m.next;do v=t(v,S.action),S=S.next;while(S!==m);Rn(v,i.memoizedState)||(Bt=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),a.lastRenderedState=v}return[v,c]}function Yg(t,i,a){var c=Ve,m=Rt(),v=We;if(v){if(a===void 0)throw Error(r(407));a=a()}else a=i();var S=!Rn((it||m).memoizedState,a);if(S&&(m.memoizedState=a,Bt=!0),m=m.queue,rh($g.bind(null,c,m,t),[t]),m.getSnapshot!==i||S||zt!==null&&zt.memoizedState.tag&1){if(c.flags|=2048,Ma(9,{destroy:void 0},Qg.bind(null,c,m,a,i),null),ut===null)throw Error(r(349));v||(Ks&127)!==0||Xg(c,i,a)}return a}function Xg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ve.updateQueue,i===null?(i=Vc(),Ve.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Qg(t,i,a,c){i.value=a,i.getSnapshot=c,Kg(i)&&Jg(t)}function $g(t,i,a){return a(function(){Kg(i)&&Jg(t)})}function Kg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Rn(t,a)}catch{return!0}}function Jg(t){var i=Sr(t,2);i!==null&&Cn(i,t,2)}function sh(t){var i=dn();if(typeof t=="function"){var a=t;if(t=a(),kr){ts(!0);try{a()}finally{ts(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:t},i}function ev(t,i,a,c){return t.baseState=a,th(t,it,typeof c=="function"?c:Js)}function Y2(t,i,a,c,m){if(Fc(t))throw Error(r(485));if(t=i.action,t!==null){var v={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};O.T!==null?a(!0):v.isTransition=!1,c(v),a=i.pending,a===null?(v.next=i.pending=v,tv(i,v)):(v.next=a.next,i.pending=a.next=v)}}function tv(t,i){var a=i.action,c=i.payload,m=t.state;if(i.isTransition){var v=O.T,S={};O.T=S;try{var A=a(m,c),P=O.S;P!==null&&P(S,A),nv(t,i,A)}catch(Y){ih(t,i,Y)}finally{v!==null&&S.types!==null&&(v.types=S.types),O.T=v}}else try{v=a(m,c),nv(t,i,v)}catch(Y){ih(t,i,Y)}}function nv(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){sv(t,i,c)},function(c){return ih(t,i,c)}):sv(t,i,a)}function sv(t,i,a){i.status="fulfilled",i.value=a,iv(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,tv(t,a)))}function ih(t,i,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,iv(i),i=i.next;while(i!==c)}t.action=null}function iv(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function rv(t,i){return i}function av(t,i){if(We){var a=ut.formState;if(a!==null){e:{var c=Ve;if(We){if(mt){t:{for(var m=mt,v=Yn;m.nodeType!==8;){if(!v){m=null;break t}if(m=Qn(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){mt=Qn(m.nextSibling),c=m.data==="F!";break e}}Ai(c)}c=!1}c&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rv,lastRenderedState:i},a.queue=c,a=Cv.bind(null,Ve,c),c.dispatch=a,c=sh(!1),v=uh.bind(null,Ve,!1,c.queue),c=dn(),m={state:i,dispatch:null,action:t,pending:null},c.queue=m,a=Y2.bind(null,Ve,m,v,a),m.dispatch=a,c.memoizedState=t,[i,a,!1]}function ov(t){var i=Rt();return lv(i,it,t)}function lv(t,i,a){if(i=th(t,i,rv)[0],t=Bc(Js)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=nl(i)}catch(S){throw S===Sa?Ec:S}else c=i;i=Rt();var m=i.queue,v=m.dispatch;return a!==i.memoizedState&&(Ve.flags|=2048,Ma(9,{destroy:void 0},X2.bind(null,m,a),null)),[c,v,t]}function X2(t,i){t.action=i}function cv(t){var i=Rt(),a=it;if(a!==null)return lv(i,a,t);Rt(),i=i.memoizedState,a=Rt();var c=a.queue.dispatch;return a.memoizedState=t,[i,c,!1]}function Ma(t,i,a,c){return t={tag:t,create:a,deps:c,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=Vc(),Ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,i.lastEffect=t),t}function uv(){return Rt().memoizedState}function Ic(t,i,a,c){var m=dn();Ve.flags|=t,m.memoizedState=Ma(1|i,{destroy:void 0},a,c===void 0?null:c)}function Pc(t,i,a,c){var m=Rt();c=c===void 0?null:c;var v=m.memoizedState.inst;it!==null&&c!==null&&Xf(c,it.memoizedState.deps)?m.memoizedState=Ma(i,v,a,c):(Ve.flags|=t,m.memoizedState=Ma(1|i,v,a,c))}function dv(t,i){Ic(8390656,8,t,i)}function rh(t,i){Pc(2048,8,t,i)}function Q2(t){Ve.flags|=4;var i=Ve.updateQueue;if(i===null)i=Vc(),Ve.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function fv(t){var i=Rt().memoizedState;return Q2({ref:i,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function hv(t,i){return Pc(4,2,t,i)}function mv(t,i){return Pc(4,4,t,i)}function pv(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function gv(t,i,a){a=a!=null?a.concat([t]):null,Pc(4,4,pv.bind(null,i,t),a)}function ah(){}function vv(t,i){var a=Rt();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&Xf(i,c[1])?c[0]:(a.memoizedState=[t,i],t)}function yv(t,i){var a=Rt();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&Xf(i,c[1]))return c[0];if(c=t(),kr){ts(!0);try{t()}finally{ts(!1)}}return a.memoizedState=[c,i],c}function oh(t,i,a){return a===void 0||(Ks&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=by(),Ve.lanes|=t,Bi|=t,a)}function bv(t,i,a,c){return Rn(a,i)?a:Ca.current!==null?(t=oh(t,a,c),Rn(t,i)||(Bt=!0),t):(Ks&42)===0||(Ks&1073741824)!==0&&(Ue&261930)===0?(Bt=!0,t.memoizedState=a):(t=by(),Ve.lanes|=t,Bi|=t,i)}function _v(t,i,a,c,m){var v=I.p;I.p=v!==0&&8>v?v:8;var S=O.T,A={};O.T=A,uh(t,!1,i,a);try{var P=m(),Y=O.S;if(Y!==null&&Y(A,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var se=W2(P,c);sl(t,i,se,In(t))}else sl(t,i,c,In(t))}catch(le){sl(t,i,{then:function(){},status:"rejected",reason:le},In())}finally{I.p=v,S!==null&&A.types!==null&&(S.types=A.types),O.T=S}}function $2(){}function lh(t,i,a,c){if(t.tag!==5)throw Error(r(476));var m=wv(t).queue;_v(t,m,i,F,a===null?$2:function(){return xv(t),a(c)})}function wv(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:F},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xv(t){var i=wv(t);i.next===null&&(i=t.alternate.memoizedState),sl(t,i.next.queue,{},In())}function ch(){return Kt(_l)}function Sv(){return Rt().memoizedState}function Tv(){return Rt().memoizedState}function K2(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();t=Ni(a);var c=Ri(i,t,a);c!==null&&(Cn(c,i,a),Ko(c,i,a)),i={cache:Pf()},t.payload=i;return}i=i.return}}function J2(t,i,a){var c=In();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fc(t)?Ev(i,a):(a=Af(t,i,a,c),a!==null&&(Cn(a,t,c),Av(a,i,c)))}function Cv(t,i,a){var c=In();sl(t,i,a,c)}function sl(t,i,a,c){var m={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fc(t))Ev(i,m);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var S=i.lastRenderedState,A=v(S,a);if(m.hasEagerState=!0,m.eagerState=A,Rn(A,S))return bc(t,i,m,0),ut===null&&yc(),!1}catch{}finally{}if(a=Af(t,i,m,c),a!==null)return Cn(a,t,c),Av(a,i,c),!0}return!1}function uh(t,i,a,c){if(c={lane:2,revertLane:Uh(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Fc(t)){if(i)throw Error(r(479))}else i=Af(t,a,c,2),i!==null&&Cn(i,t,2)}function Fc(t){var i=t.alternate;return t===Ve||i!==null&&i===Ve}function Ev(t,i){Ea=kc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Av(t,i,a){if((a&4194048)!==0){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,vn(t,a)}}var il={readContext:Kt,use:zc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};il.useEffectEvent=Ct;var Mv={readContext:Kt,use:zc,useCallback:function(t,i){return dn().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:dv,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ic(4194308,4,pv.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ic(4194308,4,t,i)},useInsertionEffect:function(t,i){Ic(4,2,t,i)},useMemo:function(t,i){var a=dn();i=i===void 0?null:i;var c=t();if(kr){ts(!0);try{t()}finally{ts(!1)}}return a.memoizedState=[c,i],c},useReducer:function(t,i,a){var c=dn();if(a!==void 0){var m=a(i);if(kr){ts(!0);try{a(i)}finally{ts(!1)}}}else m=i;return c.memoizedState=c.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},c.queue=t,t=t.dispatch=J2.bind(null,Ve,t),[c.memoizedState,t]},useRef:function(t){var i=dn();return t={current:t},i.memoizedState=t},useState:function(t){t=sh(t);var i=t.queue,a=Cv.bind(null,Ve,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ah,useDeferredValue:function(t,i){var a=dn();return oh(a,t,i)},useTransition:function(){var t=sh(!1);return t=_v.bind(null,Ve,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var c=Ve,m=dn();if(We){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ut===null)throw Error(r(349));(Ue&127)!==0||Xg(c,i,a)}m.memoizedState=a;var v={value:a,getSnapshot:i};return m.queue=v,dv($g.bind(null,c,v,t),[t]),c.flags|=2048,Ma(9,{destroy:void 0},Qg.bind(null,c,v,a,i),null),a},useId:function(){var t=dn(),i=ut.identifierPrefix;if(We){var a=xs,c=ws;a=(c&~(1<<32-nn(c)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Dc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=G2++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ch,useFormState:av,useActionState:av,useOptimistic:function(t){var i=dn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=uh.bind(null,Ve,!0,a),a.dispatch=i,[t,i]},useMemoCache:eh,useCacheRefresh:function(){return dn().memoizedState=K2.bind(null,Ve)},useEffectEvent:function(t){var i=dn(),a={impl:t};return i.memoizedState=a,function(){if((Ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},dh={readContext:Kt,use:zc,useCallback:vv,useContext:Kt,useEffect:rh,useImperativeHandle:gv,useInsertionEffect:hv,useLayoutEffect:mv,useMemo:yv,useReducer:Bc,useRef:uv,useState:function(){return Bc(Js)},useDebugValue:ah,useDeferredValue:function(t,i){var a=Rt();return bv(a,it.memoizedState,t,i)},useTransition:function(){var t=Bc(Js)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:Yg,useId:Sv,useHostTransitionStatus:ch,useFormState:ov,useActionState:ov,useOptimistic:function(t,i){var a=Rt();return ev(a,it,t,i)},useMemoCache:eh,useCacheRefresh:Tv};dh.useEffectEvent=fv;var Ov={readContext:Kt,use:zc,useCallback:vv,useContext:Kt,useEffect:rh,useImperativeHandle:gv,useInsertionEffect:hv,useLayoutEffect:mv,useMemo:yv,useReducer:nh,useRef:uv,useState:function(){return nh(Js)},useDebugValue:ah,useDeferredValue:function(t,i){var a=Rt();return it===null?oh(a,t,i):bv(a,it.memoizedState,t,i)},useTransition:function(){var t=nh(Js)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:Yg,useId:Sv,useHostTransitionStatus:ch,useFormState:cv,useActionState:cv,useOptimistic:function(t,i){var a=Rt();return it!==null?ev(a,it,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:eh,useCacheRefresh:Tv};Ov.useEffectEvent=fv;function fh(t,i,a,c){i=t.memoizedState,a=a(c,i),a=a==null?i:p({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hh={enqueueSetState:function(t,i,a){t=t._reactInternals;var c=In(),m=Ni(c);m.payload=i,a!=null&&(m.callback=a),i=Ri(t,m,c),i!==null&&(Cn(i,t,c),Ko(i,t,c))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var c=In(),m=Ni(c);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=Ri(t,m,c),i!==null&&(Cn(i,t,c),Ko(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=In(),c=Ni(a);c.tag=2,i!=null&&(c.callback=i),i=Ri(t,c,a),i!==null&&(Cn(i,t,a),Ko(i,t,a))}};function Nv(t,i,a,c,m,v,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,v,S):i.prototype&&i.prototype.isPureReactComponent?!qo(a,c)||!qo(m,v):!0}function Rv(t,i,a,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==t&&hh.enqueueReplaceState(i,i.state,null)}function Dr(t,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(t=t.defaultProps){a===i&&(a=p({},a));for(var m in t)a[m]===void 0&&(a[m]=t[m])}return a}function kv(t){vc(t)}function Dv(t){console.error(t)}function Vv(t){vc(t)}function Lc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function zv(t,i,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function mh(t,i,a){return a=Ni(a),a.tag=3,a.payload={element:null},a.callback=function(){Lc(t,i)},a}function Bv(t){return t=Ni(t),t.tag=3,t}function Iv(t,i,a,c){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var v=c.value;t.payload=function(){return m(v)},t.callback=function(){zv(i,a,c)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){zv(i,a,c),typeof m!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function eC(t,i,a,c,m){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&_a(i,a,m,!0),a=Dn.current,a!==null){switch(a.tag){case 31:case 13:return Xn===null?Kc():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=m,c===Ac?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),Fh(t,c,m)),!1;case 22:return a.flags|=65536,c===Ac?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),Fh(t,c,m)),!1}throw Error(r(435,a.tag))}return Fh(t,c,m),Kc(),!1}if(We)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==Df&&(t=Error(r(422),{cause:c}),Zo(Wn(t,a)))):(c!==Df&&(i=Error(r(423),{cause:c}),Zo(Wn(i,a))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,c=Wn(c,a),m=mh(t.stateNode,c,m),qf(t,m),Et!==4&&(Et=2)),!1;var v=Error(r(520),{cause:c});if(v=Wn(v,a),fl===null?fl=[v]:fl.push(v),Et!==4&&(Et=2),i===null)return!0;c=Wn(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=m&-m,a.lanes|=t,t=mh(a.stateNode,c,t),qf(a,t),!1;case 1:if(i=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ii===null||!Ii.has(v))))return a.flags|=65536,m&=-m,a.lanes|=m,m=Bv(m),Iv(m,t,a,c),qf(a,m),!1}a=a.return}while(a!==null);return!1}var ph=Error(r(461)),Bt=!1;function Jt(t,i,a,c){i.child=t===null?jg(i,null,a,c):Rr(i,t.child,a,c)}function Pv(t,i,a,c,m){a=a.render;var v=i.ref;if("ref"in c){var S={};for(var A in c)A!=="ref"&&(S[A]=c[A])}else S=c;return Ar(i),c=Qf(t,i,a,S,v,m),A=$f(),t!==null&&!Bt?(Kf(t,i,m),ei(t,i,m)):(We&&A&&Rf(i),i.flags|=1,Jt(t,i,c,m),i.child)}function Fv(t,i,a,c,m){if(t===null){var v=a.type;return typeof v=="function"&&!Mf(v)&&v.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=v,Lv(t,i,v,c,m)):(t=wc(a.type,null,c,i,i.mode,m),t.ref=i.ref,t.return=i,i.child=t)}if(v=t.child,!Sh(t,m)){var S=v.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(S,c)&&t.ref===i.ref)return ei(t,i,m)}return i.flags|=1,t=Ys(v,c),t.ref=i.ref,t.return=i,i.child=t}function Lv(t,i,a,c,m){if(t!==null){var v=t.memoizedProps;if(qo(v,c)&&t.ref===i.ref)if(Bt=!1,i.pendingProps=c=v,Sh(t,m))(t.flags&131072)!==0&&(Bt=!0);else return i.lanes=t.lanes,ei(t,i,m)}return gh(t,i,a,c,m)}function jv(t,i,a,c){var m=c.children,v=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|a:a,t!==null){for(c=i.child=t.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~v}else c=0,i.child=null;return Uv(t,i,v,a,c)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cc(i,v!==null?v.cachePool:null),v!==null?qg(i,v):Gf(),Wg(i);else return c=i.lanes=536870912,Uv(t,i,v!==null?v.baseLanes|a:a,a,c)}else v!==null?(Cc(i,v.cachePool),qg(i,v),Di(),i.memoizedState=null):(t!==null&&Cc(i,null),Gf(),Di());return Jt(t,i,m,a),i.child}function rl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Uv(t,i,a,c,m){var v=Lf();return v=v===null?null:{parent:Vt._currentValue,pool:v},i.memoizedState={baseLanes:a,cachePool:v},t!==null&&Cc(i,null),Gf(),Wg(i),t!==null&&_a(t,i,c,!0),i.childLanes=m,null}function jc(t,i){return i=Hc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Hv(t,i,a){return Rr(i,t.child,null,a),t=jc(i,i.pendingProps),t.flags|=2,Vn(i),i.memoizedState=null,t}function tC(t,i,a){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(We){if(c.mode==="hidden")return t=jc(i,c),i.lanes=536870912,rl(null,t);if(Yf(i),(t=mt)?(t=t1(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ci!==null?{id:ws,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},a=Eg(t),a.return=i,i.child=a,$t=i,mt=null)):t=null,t===null)throw Ai(i);return i.lanes=536870912,null}return jc(i,c)}var v=t.memoizedState;if(v!==null){var S=v.dehydrated;if(Yf(i),m)if(i.flags&256)i.flags&=-257,i=Hv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Bt||_a(t,i,a,!1),m=(a&t.childLanes)!==0,Bt||m){if(c=ut,c!==null&&(S=yn(c,a),S!==0&&S!==v.retryLane))throw v.retryLane=S,Sr(t,S),Cn(c,t,S),ph;Kc(),i=Hv(t,i,a)}else t=v.treeContext,mt=Qn(S.nextSibling),$t=i,We=!0,Ei=null,Yn=!1,t!==null&&Og(i,t),i=jc(i,c),i.flags|=4096;return i}return t=Ys(t.child,{mode:c.mode,children:c.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Uc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function gh(t,i,a,c,m){return Ar(i),a=Qf(t,i,a,c,void 0,m),c=$f(),t!==null&&!Bt?(Kf(t,i,m),ei(t,i,m)):(We&&c&&Rf(i),i.flags|=1,Jt(t,i,a,m),i.child)}function qv(t,i,a,c,m,v){return Ar(i),i.updateQueue=null,a=Zg(i,c,a,m),Gg(t),c=$f(),t!==null&&!Bt?(Kf(t,i,v),ei(t,i,v)):(We&&c&&Rf(i),i.flags|=1,Jt(t,i,a,v),i.child)}function Wv(t,i,a,c,m){if(Ar(i),i.stateNode===null){var v=ga,S=a.contextType;typeof S=="object"&&S!==null&&(v=Kt(S)),v=new a(c,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=hh,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=c,v.state=i.memoizedState,v.refs={},Uf(i),S=a.contextType,v.context=typeof S=="object"&&S!==null?Kt(S):ga,v.state=i.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(fh(i,a,S,c),v.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&hh.enqueueReplaceState(v,v.state,null),el(i,c,v,m),Jo(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(t===null){v=i.stateNode;var A=i.memoizedProps,P=Dr(a,A);v.props=P;var Y=v.context,se=a.contextType;S=ga,typeof se=="object"&&se!==null&&(S=Kt(se));var le=a.getDerivedStateFromProps;se=typeof le=="function"||typeof v.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,se||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A||Y!==S)&&Rv(i,v,c,S),Oi=!1;var Q=i.memoizedState;v.state=Q,el(i,c,v,m),Jo(),Y=i.memoizedState,A||Q!==Y||Oi?(typeof le=="function"&&(fh(i,a,le,c),Y=i.memoizedState),(P=Oi||Nv(i,a,P,c,Q,Y,S))?(se||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Y),v.props=c,v.state=Y,v.context=S,c=P):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Hf(t,i),S=i.memoizedProps,se=Dr(a,S),v.props=se,le=i.pendingProps,Q=v.context,Y=a.contextType,P=ga,typeof Y=="object"&&Y!==null&&(P=Kt(Y)),A=a.getDerivedStateFromProps,(Y=typeof A=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==le||Q!==P)&&Rv(i,v,c,P),Oi=!1,Q=i.memoizedState,v.state=Q,el(i,c,v,m),Jo();var J=i.memoizedState;S!==le||Q!==J||Oi||t!==null&&t.dependencies!==null&&Sc(t.dependencies)?(typeof A=="function"&&(fh(i,a,A,c),J=i.memoizedState),(se=Oi||Nv(i,a,se,c,Q,J,P)||t!==null&&t.dependencies!==null&&Sc(t.dependencies))?(Y||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,J,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,J,P)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=J),v.props=c,v.state=J,v.context=P,c=se):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),c=!1)}return v=c,Uc(t,i),c=(i.flags&128)!==0,v||c?(v=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,t!==null&&c?(i.child=Rr(i,t.child,null,m),i.child=Rr(i,null,a,m)):Jt(t,i,a,m),i.memoizedState=v.state,t=i.child):t=ei(t,i,m),t}function Gv(t,i,a,c){return Cr(),i.flags|=256,Jt(t,i,a,c),i.child}var vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yh(t){return{baseLanes:t,cachePool:zg()}}function bh(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Bn),t}function Zv(t,i,a){var c=i.pendingProps,m=!1,v=(i.flags&128)!==0,S;if((S=v)||(S=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),S&&(m=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,t===null){if(We){if(m?ki(i):Di(),(t=mt)?(t=t1(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ci!==null?{id:ws,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},a=Eg(t),a.return=i,i.child=a,$t=i,mt=null)):t=null,t===null)throw Ai(i);return tm(t)?i.lanes=32:i.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(Di(),m=i.mode,A=Hc({mode:"hidden",children:A},m),c=Tr(c,m,a,null),A.return=i,c.return=i,A.sibling=c,i.child=A,c=i.child,c.memoizedState=yh(a),c.childLanes=bh(t,S,a),i.memoizedState=vh,rl(null,c)):(ki(i),_h(i,A))}var P=t.memoizedState;if(P!==null&&(A=P.dehydrated,A!==null)){if(v)i.flags&256?(ki(i),i.flags&=-257,i=wh(t,i,a)):i.memoizedState!==null?(Di(),i.child=t.child,i.flags|=128,i=null):(Di(),A=c.fallback,m=i.mode,c=Hc({mode:"visible",children:c.children},m),A=Tr(A,m,a,null),A.flags|=2,c.return=i,A.return=i,c.sibling=A,i.child=c,Rr(i,t.child,null,a),c=i.child,c.memoizedState=yh(a),c.childLanes=bh(t,S,a),i.memoizedState=vh,i=rl(null,c));else if(ki(i),tm(A)){if(S=A.nextSibling&&A.nextSibling.dataset,S)var Y=S.dgst;S=Y,c=Error(r(419)),c.stack="",c.digest=S,Zo({value:c,source:null,stack:null}),i=wh(t,i,a)}else if(Bt||_a(t,i,a,!1),S=(a&t.childLanes)!==0,Bt||S){if(S=ut,S!==null&&(c=yn(S,a),c!==0&&c!==P.retryLane))throw P.retryLane=c,Sr(t,c),Cn(S,t,c),ph;em(A)||Kc(),i=wh(t,i,a)}else em(A)?(i.flags|=192,i.child=t.child,i=null):(t=P.treeContext,mt=Qn(A.nextSibling),$t=i,We=!0,Ei=null,Yn=!1,t!==null&&Og(i,t),i=_h(i,c.children),i.flags|=4096);return i}return m?(Di(),A=c.fallback,m=i.mode,P=t.child,Y=P.sibling,c=Ys(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,Y!==null?A=Ys(Y,A):(A=Tr(A,m,a,null),A.flags|=2),A.return=i,c.return=i,c.sibling=A,i.child=c,rl(null,c),c=i.child,A=t.child.memoizedState,A===null?A=yh(a):(m=A.cachePool,m!==null?(P=Vt._currentValue,m=m.parent!==P?{parent:P,pool:P}:m):m=zg(),A={baseLanes:A.baseLanes|a,cachePool:m}),c.memoizedState=A,c.childLanes=bh(t,S,a),i.memoizedState=vh,rl(t.child,c)):(ki(i),a=t.child,t=a.sibling,a=Ys(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,t!==null&&(S=i.deletions,S===null?(i.deletions=[t],i.flags|=16):S.push(t)),i.child=a,i.memoizedState=null,a)}function _h(t,i){return i=Hc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Hc(t,i){return t=kn(22,t,null,i),t.lanes=0,t}function wh(t,i,a){return Rr(i,t.child,null,a),t=_h(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Yv(t,i,a){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Bf(t.return,i,a)}function xh(t,i,a,c,m,v){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:m,treeForkCount:v}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=c,S.tail=a,S.tailMode=m,S.treeForkCount=v)}function Xv(t,i,a){var c=i.pendingProps,m=c.revealOrder,v=c.tail;c=c.children;var S=Nt.current,A=(S&2)!==0;if(A?(S=S&1|2,i.flags|=128):S&=1,X(Nt,S),Jt(t,i,c,a),c=We?Go:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yv(t,a,i);else if(t.tag===19)Yv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(a=i.child,m=null;a!==null;)t=a.alternate,t!==null&&Rc(t)===null&&(m=a),a=a.sibling;a=m,a===null?(m=i.child,i.child=null):(m=a.sibling,a.sibling=null),xh(i,!1,m,a,v,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=i.child,i.child=null;m!==null;){if(t=m.alternate,t!==null&&Rc(t)===null){i.child=m;break}t=m.sibling,m.sibling=a,a=m,m=t}xh(i,!0,a,null,v,c);break;case"together":xh(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function ei(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Bi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(_a(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Ys(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ys(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Sh(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Sc(t)))}function nC(t,i,a){switch(i.tag){case 3:ie(i,i.stateNode.containerInfo),Mi(i,Vt,t.memoizedState.cache),Cr();break;case 27:case 5:Ae(i);break;case 4:ie(i,i.stateNode.containerInfo);break;case 10:Mi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Yf(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ki(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Zv(t,i,a):(ki(i),t=ei(t,i,a),t!==null?t.sibling:null);ki(i);break;case 19:var m=(t.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(_a(t,i,a,!1),c=(a&i.childLanes)!==0),m){if(c)return Xv(t,i,a);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),X(Nt,Nt.current),c)break;return null;case 22:return i.lanes=0,jv(t,i,a,i.pendingProps);case 24:Mi(i,Vt,t.memoizedState.cache)}return ei(t,i,a)}function Qv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Bt=!0;else{if(!Sh(t,a)&&(i.flags&128)===0)return Bt=!1,nC(t,i,a);Bt=(t.flags&131072)!==0}else Bt=!1,We&&(i.flags&1048576)!==0&&Mg(i,Go,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(t=Or(i.elementType),i.type=t,typeof t=="function")Mf(t)?(c=Dr(t,c),i.tag=1,i=Wv(null,i,t,c,a)):(i.tag=0,i=gh(null,i,t,c,a));else{if(t!=null){var m=t.$$typeof;if(m===B){i.tag=11,i=Pv(null,i,t,c,a);break e}else if(m===D){i.tag=14,i=Fv(null,i,t,c,a);break e}}throw i=ee(t)||t,Error(r(306,i,""))}}return i;case 0:return gh(t,i,i.type,i.pendingProps,a);case 1:return c=i.type,m=Dr(c,i.pendingProps),Wv(t,i,c,m,a);case 3:e:{if(ie(i,i.stateNode.containerInfo),t===null)throw Error(r(387));c=i.pendingProps;var v=i.memoizedState;m=v.element,Hf(t,i),el(i,c,null,a);var S=i.memoizedState;if(c=S.cache,Mi(i,Vt,c),c!==v.cache&&If(i,[Vt],a,!0),Jo(),c=S.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Gv(t,i,c,a);break e}else if(c!==m){m=Wn(Error(r(424)),i),Zo(m),i=Gv(t,i,c,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(mt=Qn(t.firstChild),$t=i,We=!0,Ei=null,Yn=!0,a=jg(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cr(),c===m){i=ei(t,i,a);break e}Jt(t,i,c,a)}i=i.child}return i;case 26:return Uc(t,i),t===null?(a=o1(i.type,null,i.pendingProps,null))?i.memoizedState=a:We||(a=i.type,t=i.pendingProps,c=ru(ue.current).createElement(a),c[Qt]=i,c[bn]=t,en(c,a,t),Gt(c),i.stateNode=c):i.memoizedState=o1(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ae(i),t===null&&We&&(c=i.stateNode=i1(i.type,i.pendingProps,ue.current),$t=i,Yn=!0,m=mt,ji(i.type)?(nm=m,mt=Qn(c.firstChild)):mt=m),Jt(t,i,i.pendingProps.children,a),Uc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&We&&((m=c=mt)&&(c=kC(c,i.type,i.pendingProps,Yn),c!==null?(i.stateNode=c,$t=i,mt=Qn(c.firstChild),Yn=!1,m=!0):m=!1),m||Ai(i)),Ae(i),m=i.type,v=i.pendingProps,S=t!==null?t.memoizedProps:null,c=v.children,$h(m,v)?c=null:S!==null&&$h(m,S)&&(i.flags|=32),i.memoizedState!==null&&(m=Qf(t,i,Z2,null,null,a),_l._currentValue=m),Uc(t,i),Jt(t,i,c,a),i.child;case 6:return t===null&&We&&((t=a=mt)&&(a=DC(a,i.pendingProps,Yn),a!==null?(i.stateNode=a,$t=i,mt=null,t=!0):t=!1),t||Ai(i)),null;case 13:return Zv(t,i,a);case 4:return ie(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=Rr(i,null,c,a):Jt(t,i,c,a),i.child;case 11:return Pv(t,i,i.type,i.pendingProps,a);case 7:return Jt(t,i,i.pendingProps,a),i.child;case 8:return Jt(t,i,i.pendingProps.children,a),i.child;case 12:return Jt(t,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,Mi(i,i.type,c.value),Jt(t,i,c.children,a),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,Ar(i),m=Kt(m),c=c(m),i.flags|=1,Jt(t,i,c,a),i.child;case 14:return Fv(t,i,i.type,i.pendingProps,a);case 15:return Lv(t,i,i.type,i.pendingProps,a);case 19:return Xv(t,i,a);case 31:return tC(t,i,a);case 22:return jv(t,i,a,i.pendingProps);case 24:return Ar(i),c=Kt(Vt),t===null?(m=Lf(),m===null&&(m=ut,v=Pf(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=a),m=v),i.memoizedState={parent:c,cache:m},Uf(i),Mi(i,Vt,m)):((t.lanes&a)!==0&&(Hf(t,i),el(i,null,null,a),Jo()),m=t.memoizedState,v=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Mi(i,Vt,c)):(c=v.cache,Mi(i,Vt,c),c!==m.cache&&If(i,[Vt],a,!0))),Jt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ti(t){t.flags|=4}function Th(t,i,a,c,m){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(Sy())t.flags|=8192;else throw Nr=Ac,jf}else t.flags&=-16777217}function $v(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!f1(i))if(Sy())t.flags|=8192;else throw Nr=Ac,jf}function qc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?sn():536870912,t.lanes|=i,ka|=i)}function al(t,i){if(!We)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function pt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(i)for(var m=t.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=c,t.childLanes=a,i}function sC(t,i,a){var c=i.pendingProps;switch(kf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(i),null;case 1:return pt(i),null;case 3:return a=i.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),$s(Vt),we(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ba(i)?ti(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vf())),pt(i),null;case 26:var m=i.type,v=i.memoizedState;return t===null?(ti(i),v!==null?(pt(i),$v(i,v)):(pt(i),Th(i,m,null,c,a))):v?v!==t.memoizedState?(ti(i),pt(i),$v(i,v)):(pt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==c&&ti(i),pt(i),Th(i,m,t,c,a)),null;case 27:if(Oe(i),a=ue.current,m=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&ti(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return pt(i),null}t=te.current,ba(i)?Ng(i):(t=i1(m,c,a),i.stateNode=t,ti(i))}return pt(i),null;case 5:if(Oe(i),m=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&ti(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return pt(i),null}if(v=te.current,ba(i))Ng(i);else{var S=ru(ue.current);switch(v){case 1:v=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:v=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":v=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":v=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":v=S.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?S.createElement("select",{is:c.is}):S.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?S.createElement(m,{is:c.is}):S.createElement(m)}}v[Qt]=i,v[bn]=c;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)v.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=v;e:switch(en(v,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ti(i)}}return pt(i),Th(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==c&&ti(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(t=ue.current,ba(i)){if(t=i.stateNode,a=i.memoizedProps,c=null,m=$t,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}t[Qt]=i,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Zy(t.nodeValue,a)),t||Ai(i,!0)}else t=ru(t).createTextNode(c),t[Qt]=i,i.stateNode=t}return pt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(c=ba(i),a!==null){if(t===null){if(!c)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Qt]=i}else Cr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),t=!1}else a=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Vn(i),i):(Vn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return pt(i),null;case 13:if(c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=ba(i),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(r(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Qt]=i}else Cr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),m=!1}else m=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Vn(i),i):(Vn(i),null)}return Vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=c!==null,t=t!==null&&t.memoizedState!==null,a&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),qc(i,i.updateQueue),pt(i),null);case 4:return we(),t===null&&Gh(i.stateNode.containerInfo),pt(i),null;case 10:return $s(i.type),pt(i),null;case 19:if(G(Nt),c=i.memoizedState,c===null)return pt(i),null;if(m=(i.flags&128)!==0,v=c.rendering,v===null)if(m)al(c,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(v=Rc(t),v!==null){for(i.flags|=128,al(c,!1),t=v.updateQueue,i.updateQueue=t,qc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Cg(a,t),a=a.sibling;return X(Nt,Nt.current&1|2),We&&Xs(i,c.treeForkCount),i.child}t=t.sibling}c.tail!==null&&Lt()>Xc&&(i.flags|=128,m=!0,al(c,!1),i.lanes=4194304)}else{if(!m)if(t=Rc(v),t!==null){if(i.flags|=128,m=!0,t=t.updateQueue,i.updateQueue=t,qc(i,t),al(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!We)return pt(i),null}else 2*Lt()-c.renderingStartTime>Xc&&a!==536870912&&(i.flags|=128,m=!0,al(c,!1),i.lanes=4194304);c.isBackwards?(v.sibling=i.child,i.child=v):(t=c.last,t!==null?t.sibling=v:i.child=v,c.last=v)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Lt(),t.sibling=null,a=Nt.current,X(Nt,m?a&1|2:a&1),We&&Xs(i,c.treeForkCount),t):(pt(i),null);case 22:case 23:return Vn(i),Zf(),c=i.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&(pt(i),i.subtreeFlags&6&&(i.flags|=8192)):pt(i),a=i.updateQueue,a!==null&&qc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),t!==null&&G(Mr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$s(Vt),pt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function iC(t,i){switch(kf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $s(Vt),we(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Oe(i),null;case 31:if(i.memoizedState!==null){if(Vn(i),i.alternate===null)throw Error(r(340));Cr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Cr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return G(Nt),null;case 4:return we(),null;case 10:return $s(i.type),null;case 22:case 23:return Vn(i),Zf(),t!==null&&G(Mr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $s(Vt),null;case 25:return null;default:return null}}function Kv(t,i){switch(kf(i),i.tag){case 3:$s(Vt),we();break;case 26:case 27:case 5:Oe(i);break;case 4:we();break;case 31:i.memoizedState!==null&&Vn(i);break;case 13:Vn(i);break;case 19:G(Nt);break;case 10:$s(i.type);break;case 22:case 23:Vn(i),Zf(),t!==null&&G(Mr);break;case 24:$s(Vt)}}function ol(t,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var m=c.next;a=m;do{if((a.tag&t)===t){c=void 0;var v=a.create,S=a.inst;c=v(),S.destroy=c}a=a.next}while(a!==m)}}catch(A){tt(i,i.return,A)}}function Vi(t,i,a){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&t)===t){var S=c.inst,A=S.destroy;if(A!==void 0){S.destroy=void 0,m=i;var P=a,Y=A;try{Y()}catch(se){tt(m,P,se)}}}c=c.next}while(c!==v)}}catch(se){tt(i,i.return,se)}}function Jv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Hg(i,a)}catch(c){tt(t,t.return,c)}}}function ey(t,i,a){a.props=Dr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){tt(t,i,c)}}function ll(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(m){tt(t,i,m)}}function Ss(t,i){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(m){tt(t,i,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){tt(t,i,m)}else a.current=null}function ty(t){var i=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(m){tt(t,t.return,m)}}function Ch(t,i,a){try{var c=t.stateNode;EC(c,t.type,a,i),c[bn]=i}catch(m){tt(t,t.return,m)}}function ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ji(t.type)||t.tag===4}function Eh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ji(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ah(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gs));else if(c!==4&&(c===27&&ji(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ah(t,i,a),t=t.sibling;t!==null;)Ah(t,i,a),t=t.sibling}function Wc(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(c!==4&&(c===27&&ji(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Wc(t,i,a),t=t.sibling;t!==null;)Wc(t,i,a),t=t.sibling}function sy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);en(i,c,a),i[Qt]=t,i[bn]=a}catch(v){tt(t,t.return,v)}}var ni=!1,It=!1,Mh=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function rC(t,i){if(t=t.containerInfo,Xh=fu,t=gg(t),wf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var m=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var S=0,A=-1,P=-1,Y=0,se=0,le=t,Q=null;t:for(;;){for(var J;le!==a||m!==0&&le.nodeType!==3||(A=S+m),le!==v||c!==0&&le.nodeType!==3||(P=S+c),le.nodeType===3&&(S+=le.nodeValue.length),(J=le.firstChild)!==null;)Q=le,le=J;for(;;){if(le===t)break t;if(Q===a&&++Y===m&&(A=S),Q===v&&++se===c&&(P=S),(J=le.nextSibling)!==null)break;le=Q,Q=le.parentNode}le=J}a=A===-1||P===-1?null:{start:A,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qh={focusedElem:t,selectionRange:a},fu=!1,Zt=i;Zt!==null;)if(i=Zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Zt=t;else for(;Zt!==null;){switch(i=Zt,v=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)m=t[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,a=i,m=v.memoizedProps,v=v.memoizedState,c=a.stateNode;try{var pe=Dr(a.type,m);t=c.getSnapshotBeforeUpdate(pe,v),c.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){tt(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Jh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Zt=t;break}Zt=i.return}}function ry(t,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:ii(t,a),c&4&&ol(5,a);break;case 1:if(ii(t,a),c&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(S){tt(a,a.return,S)}else{var m=Dr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(m,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){tt(a,a.return,S)}}c&64&&Jv(a),c&512&&ll(a,a.return);break;case 3:if(ii(t,a),c&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Hg(t,i)}catch(S){tt(a,a.return,S)}}break;case 27:i===null&&c&4&&sy(a);case 26:case 5:ii(t,a),i===null&&c&4&&ty(a),c&512&&ll(a,a.return);break;case 12:ii(t,a);break;case 31:ii(t,a),c&4&&ly(t,a);break;case 13:ii(t,a),c&4&&cy(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mC.bind(null,a),VC(t,a))));break;case 22:if(c=a.memoizedState!==null||ni,!c){i=i!==null&&i.memoizedState!==null||It,m=ni;var v=It;ni=c,(It=i)&&!v?ri(t,a,(a.subtreeFlags&8772)!==0):ii(t,a),ni=m,It=v}break;case 30:break;default:ii(t,a)}}function ay(t){var i=t.alternate;i!==null&&(t.alternate=null,ay(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&sf(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,wn=!1;function si(t,i,a){for(a=a.child;a!==null;)oy(t,i,a),a=a.sibling}function oy(t,i,a){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(gr,a)}catch{}switch(a.tag){case 26:It||Ss(a,i),si(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ss(a,i);var c=_t,m=wn;ji(a.type)&&(_t=a.stateNode,wn=!1),si(t,i,a),vl(a.stateNode),_t=c,wn=m;break;case 5:It||Ss(a,i);case 6:if(c=_t,m=wn,_t=null,si(t,i,a),_t=c,wn=m,_t!==null)if(wn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(v){tt(a,i,v)}else try{_t.removeChild(a.stateNode)}catch(v){tt(a,i,v)}break;case 18:_t!==null&&(wn?(t=_t,Jy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),La(t)):Jy(_t,a.stateNode));break;case 4:c=_t,m=wn,_t=a.stateNode.containerInfo,wn=!0,si(t,i,a),_t=c,wn=m;break;case 0:case 11:case 14:case 15:Vi(2,a,i),It||Vi(4,a,i),si(t,i,a);break;case 1:It||(Ss(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&ey(a,i,c)),si(t,i,a);break;case 21:si(t,i,a);break;case 22:It=(c=It)||a.memoizedState!==null,si(t,i,a),It=c;break;default:si(t,i,a)}}function ly(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{La(t)}catch(a){tt(i,i.return,a)}}}function cy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{La(t)}catch(a){tt(i,i.return,a)}}function aC(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new iy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new iy),i;default:throw Error(r(435,t.tag))}}function Gc(t,i){var a=aC(t);i.forEach(function(c){if(!a.has(c)){a.add(c);var m=pC.bind(null,t,c);c.then(m,m)}})}function xn(t,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var m=a[c],v=t,S=i,A=S;e:for(;A!==null;){switch(A.tag){case 27:if(ji(A.type)){_t=A.stateNode,wn=!1;break e}break;case 5:_t=A.stateNode,wn=!1;break e;case 3:case 4:_t=A.stateNode.containerInfo,wn=!0;break e}A=A.return}if(_t===null)throw Error(r(160));oy(v,S,m),_t=null,wn=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)uy(i,t),i=i.sibling}var is=null;function uy(t,i){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(i,t),Sn(t),c&4&&(Vi(3,t,t.return),ol(3,t),Vi(5,t,t.return));break;case 1:xn(i,t),Sn(t),c&512&&(It||a===null||Ss(a,a.return)),c&64&&ni&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var m=is;if(xn(i,t),Sn(t),c&512&&(It||a===null||Ss(a,a.return)),c&4){var v=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":v=m.getElementsByTagName("title")[0],(!v||v[zo]||v[Qt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(c),m.head.insertBefore(v,m.querySelector("head > title"))),en(v,c,a),v[Qt]=t,Gt(v),c=v;break e;case"link":var S=u1("link","href",m).get(c+(a.href||""));if(S){for(var A=0;A<S.length;A++)if(v=S[A],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(A,1);break t}}v=m.createElement(c),en(v,c,a),m.head.appendChild(v);break;case"meta":if(S=u1("meta","content",m).get(c+(a.content||""))){for(A=0;A<S.length;A++)if(v=S[A],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(A,1);break t}}v=m.createElement(c),en(v,c,a),m.head.appendChild(v);break;default:throw Error(r(468,c))}v[Qt]=t,Gt(v),c=v}t.stateNode=c}else d1(m,t.type,t.stateNode);else t.stateNode=c1(m,c,t.memoizedProps);else v!==c?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,c===null?d1(m,t.type,t.stateNode):c1(m,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Ch(t,t.memoizedProps,a.memoizedProps)}break;case 27:xn(i,t),Sn(t),c&512&&(It||a===null||Ss(a,a.return)),a!==null&&c&4&&Ch(t,t.memoizedProps,a.memoizedProps);break;case 5:if(xn(i,t),Sn(t),c&512&&(It||a===null||Ss(a,a.return)),t.flags&32){m=t.stateNode;try{ca(m,"")}catch(pe){tt(t,t.return,pe)}}c&4&&t.stateNode!=null&&(m=t.memoizedProps,Ch(t,m,a!==null?a.memoizedProps:m)),c&1024&&(Mh=!0);break;case 6:if(xn(i,t),Sn(t),c&4){if(t.stateNode===null)throw Error(r(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(pe){tt(t,t.return,pe)}}break;case 3:if(lu=null,m=is,is=au(i.containerInfo),xn(i,t),is=m,Sn(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{La(i.containerInfo)}catch(pe){tt(t,t.return,pe)}Mh&&(Mh=!1,dy(t));break;case 4:c=is,is=au(t.stateNode.containerInfo),xn(i,t),Sn(t),is=c;break;case 12:xn(i,t),Sn(t);break;case 31:xn(i,t),Sn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Gc(t,c)));break;case 13:xn(i,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yc=Lt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Gc(t,c)));break;case 22:m=t.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,Y=ni,se=It;if(ni=Y||m,It=se||P,xn(i,t),It=se,ni=Y,Sn(t),c&8192)e:for(i=t.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(a===null||P||ni||It||Vr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){P=a=i;try{if(v=P.stateNode,m)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{A=P.stateNode;var le=P.memoizedProps.style,Q=le!=null&&le.hasOwnProperty("display")?le.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){tt(P,P.return,pe)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=m?"":P.memoizedProps}catch(pe){tt(P,P.return,pe)}}}else if(i.tag===18){if(a===null){P=i;try{var J=P.stateNode;m?e1(J,!0):e1(P.stateNode,!1)}catch(pe){tt(P,P.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Gc(t,a))));break;case 19:xn(i,t),Sn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Gc(t,c)));break;case 30:break;case 21:break;default:xn(i,t),Sn(t)}}function Sn(t){var i=t.flags;if(i&2){try{for(var a,c=t.return;c!==null;){if(ny(c)){a=c;break}c=c.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var m=a.stateNode,v=Eh(t);Wc(t,v,m);break;case 5:var S=a.stateNode;a.flags&32&&(ca(S,""),a.flags&=-33);var A=Eh(t);Wc(t,A,S);break;case 3:case 4:var P=a.stateNode.containerInfo,Y=Eh(t);Ah(t,Y,P);break;default:throw Error(r(161))}}catch(se){tt(t,t.return,se)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;dy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ii(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ry(t,i.alternate,i),i=i.sibling}function Vr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Vi(4,i,i.return),Vr(i);break;case 1:Ss(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ey(i,i.return,a),Vr(i);break;case 27:vl(i.stateNode);case 26:case 5:Ss(i,i.return),Vr(i);break;case 22:i.memoizedState===null&&Vr(i);break;case 30:Vr(i);break;default:Vr(i)}t=t.sibling}}function ri(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=t,v=i,S=v.flags;switch(v.tag){case 0:case 11:case 15:ri(m,v,a),ol(4,v);break;case 1:if(ri(m,v,a),c=v,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){tt(c,c.return,Y)}if(c=v,m=c.updateQueue,m!==null){var A=c.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)Ug(P[m],A)}catch(Y){tt(c,c.return,Y)}}a&&S&64&&Jv(v),ll(v,v.return);break;case 27:sy(v);case 26:case 5:ri(m,v,a),a&&c===null&&S&4&&ty(v),ll(v,v.return);break;case 12:ri(m,v,a);break;case 31:ri(m,v,a),a&&S&4&&ly(m,v);break;case 13:ri(m,v,a),a&&S&4&&cy(m,v);break;case 22:v.memoizedState===null&&ri(m,v,a),ll(v,v.return);break;case 30:break;default:ri(m,v,a)}i=i.sibling}}function Oh(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Yo(a))}function Nh(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yo(t))}function rs(t,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fy(t,i,a,c),i=i.sibling}function fy(t,i,a,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:rs(t,i,a,c),m&2048&&ol(9,i);break;case 1:rs(t,i,a,c);break;case 3:rs(t,i,a,c),m&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yo(t)));break;case 12:if(m&2048){rs(t,i,a,c),t=i.stateNode;try{var v=i.memoizedProps,S=v.id,A=v.onPostCommit;typeof A=="function"&&A(S,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){tt(i,i.return,P)}}else rs(t,i,a,c);break;case 31:rs(t,i,a,c);break;case 13:rs(t,i,a,c);break;case 23:break;case 22:v=i.stateNode,S=i.alternate,i.memoizedState!==null?v._visibility&2?rs(t,i,a,c):cl(t,i):v._visibility&2?rs(t,i,a,c):(v._visibility|=2,Oa(t,i,a,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&Oh(S,i);break;case 24:rs(t,i,a,c),m&2048&&Nh(i.alternate,i);break;default:rs(t,i,a,c)}}function Oa(t,i,a,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=t,S=i,A=a,P=c,Y=S.flags;switch(S.tag){case 0:case 11:case 15:Oa(v,S,A,P,m),ol(8,S);break;case 23:break;case 22:var se=S.stateNode;S.memoizedState!==null?se._visibility&2?Oa(v,S,A,P,m):cl(v,S):(se._visibility|=2,Oa(v,S,A,P,m)),m&&Y&2048&&Oh(S.alternate,S);break;case 24:Oa(v,S,A,P,m),m&&Y&2048&&Nh(S.alternate,S);break;default:Oa(v,S,A,P,m)}i=i.sibling}}function cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,c=i,m=c.flags;switch(c.tag){case 22:cl(a,c),m&2048&&Oh(c.alternate,c);break;case 24:cl(a,c),m&2048&&Nh(c.alternate,c);break;default:cl(a,c)}i=i.sibling}}var ul=8192;function Na(t,i,a){if(t.subtreeFlags&ul)for(t=t.child;t!==null;)hy(t,i,a),t=t.sibling}function hy(t,i,a){switch(t.tag){case 26:Na(t,i,a),t.flags&ul&&t.memoizedState!==null&&GC(a,is,t.memoizedState,t.memoizedProps);break;case 5:Na(t,i,a);break;case 3:case 4:var c=is;is=au(t.stateNode.containerInfo),Na(t,i,a),is=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=ul,ul=16777216,Na(t,i,a),ul=c):Na(t,i,a));break;default:Na(t,i,a)}}function my(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function dl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];Zt=c,gy(c,t)}my(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)py(t),t=t.sibling}function py(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Vi(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Zc(t)):dl(t);break;default:dl(t)}}function Zc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];Zt=c,gy(c,t)}my(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Vi(8,i,i.return),Zc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Zc(i));break;default:Zc(i)}t=t.sibling}}function gy(t,i){for(;Zt!==null;){var a=Zt;switch(a.tag){case 0:case 11:case 15:Vi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Zt=c;else e:for(a=t;Zt!==null;){c=Zt;var m=c.sibling,v=c.return;if(ay(c),c===a){Zt=null;break e}if(m!==null){m.return=v,Zt=m;break e}Zt=v}}}var oC={getCacheForType:function(t){var i=Kt(Vt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Kt(Vt).controller.signal}},lC=typeof WeakMap=="function"?WeakMap:Map,Ke=0,ut=null,Le=null,Ue=0,et=0,zn=null,zi=!1,Ra=!1,Rh=!1,ai=0,Et=0,Bi=0,zr=0,kh=0,Bn=0,ka=0,fl=null,Tn=null,Dh=!1,Yc=0,vy=0,Xc=1/0,Qc=null,Ii=null,jt=0,Pi=null,Da=null,oi=0,Vh=0,zh=null,yy=null,hl=0,Bh=null;function In(){return(Ke&2)!==0&&Ue!==0?Ue&-Ue:O.T!==null?Uh():tf()}function by(){if(Bn===0)if((Ue&536870912)===0||We){var t=ta;ta<<=1,(ta&3932160)===0&&(ta=262144),Bn=t}else Bn=536870912;return t=Dn.current,t!==null&&(t.flags|=32),Bn}function Cn(t,i,a){(t===ut&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Va(t,0),Fi(t,Ue,Bn,!1)),Tt(t,a),((Ke&2)===0||t!==ut)&&(t===ut&&((Ke&2)===0&&(zr|=a),Et===4&&Fi(t,Ue,Bn,!1)),Ts(t))}function _y(t,i,a){if((Ke&6)!==0)throw Error(r(327));var c=!a&&(i&127)===0&&(i&t.expiredLanes)===0||bt(t,i),m=c?dC(t,i):Ph(t,i,!0),v=c;do{if(m===0){Ra&&!c&&Fi(t,i,0,!1);break}else{if(a=t.current.alternate,v&&!cC(a)){m=Ph(t,i,!1),v=!1;continue}if(m===2){if(v=i,t.errorRecoveryDisabledLanes&v)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var A=t;m=fl;var P=A.current.memoizedState.isDehydrated;if(P&&(Va(A,S).flags|=256),S=Ph(A,S,!1),S!==2){if(Rh&&!P){A.errorRecoveryDisabledLanes|=v,zr|=v,m=4;break e}v=Tn,Tn=m,v!==null&&(Tn===null?Tn=v:Tn.push.apply(Tn,v))}m=S}if(v=!1,m!==2)continue}}if(m===1){Va(t,0),Fi(t,i,0,!0);break}e:{switch(c=t,v=m,v){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Fi(c,i,Bn,!zi);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(m=Yc+300-Lt(),10<m)){if(Fi(c,i,Bn,!zi),Re(c,0,!0)!==0)break e;oi=i,c.timeoutHandle=$y(wy.bind(null,c,a,Tn,Qc,Dh,i,Bn,zr,ka,zi,v,"Throttled",-0,0),m);break e}wy(c,a,Tn,Qc,Dh,i,Bn,zr,ka,zi,v,null,-0,0)}}break}while(!0);Ts(t)}function wy(t,i,a,c,m,v,S,A,P,Y,se,le,Q,J){if(t.timeoutHandle=-1,le=i.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gs},hy(i,v,le);var pe=(v&62914560)===v?Yc-Lt():(v&4194048)===v?vy-Lt():0;if(pe=ZC(le,pe),pe!==null){oi=v,t.cancelPendingCommit=pe(Oy.bind(null,t,i,v,a,c,m,S,A,P,se,le,null,Q,J)),Fi(t,v,S,!Y);return}}Oy(t,i,v,a,c,m,S,A,P)}function cC(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var m=a[c],v=m.getSnapshot;m=m.value;try{if(!Rn(v(),m))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fi(t,i,a,c){i&=~kh,i&=~zr,t.suspendedLanes|=i,t.pingedLanes&=~i,c&&(t.warmLanes|=i),c=t.expirationTimes;for(var m=i;0<m;){var v=31-nn(m),S=1<<v;c[v]=-1,m&=~S}a!==0&&yr(t,a,i)}function $c(){return(Ke&6)===0?(ml(0),!1):!0}function Ih(){if(Le!==null){if(et===0)var t=Le.return;else t=Le,Qs=Er=null,Jf(t),Ta=null,Qo=0,t=Le;for(;t!==null;)Kv(t.alternate,t),t=t.return;Le=null}}function Va(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,OC(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),oi=0,Ih(),ut=t,Le=a=Ys(t.current,null),Ue=i,et=0,zn=null,zi=!1,Ra=bt(t,i),Rh=!1,ka=Bn=kh=zr=Bi=Et=0,Tn=fl=null,Dh=!1,(i&8)!==0&&(i|=i&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=i;0<c;){var m=31-nn(c),v=1<<m;i|=t[m],c&=~v}return ai=i,yc(),a}function xy(t,i){Ve=null,O.H=il,i===Sa||i===Ec?(i=Pg(),et=3):i===jf?(i=Pg(),et=4):et=i===ph?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,zn=i,Le===null&&(Et=1,Lc(t,Wn(i,t.current)))}function Sy(){var t=Dn.current;return t===null?!0:(Ue&4194048)===Ue?Xn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Xn:!1}function Ty(){var t=O.H;return O.H=il,t===null?il:t}function Cy(){var t=O.A;return O.A=oC,t}function Kc(){Et=4,zi||(Ue&4194048)!==Ue&&Dn.current!==null||(Ra=!0),(Bi&134217727)===0&&(zr&134217727)===0||ut===null||Fi(ut,Ue,Bn,!1)}function Ph(t,i,a){var c=Ke;Ke|=2;var m=Ty(),v=Cy();(ut!==t||Ue!==i)&&(Qc=null,Va(t,i)),i=!1;var S=Et;e:do try{if(et!==0&&Le!==null){var A=Le,P=zn;switch(et){case 8:Ih(),S=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var Y=et;if(et=0,zn=null,za(t,A,P,Y),a&&Ra){S=0;break e}break;default:Y=et,et=0,zn=null,za(t,A,P,Y)}}uC(),S=Et;break}catch(se){xy(t,se)}while(!0);return i&&t.shellSuspendCounter++,Qs=Er=null,Ke=c,O.H=m,O.A=v,Le===null&&(ut=null,Ue=0,yc()),S}function uC(){for(;Le!==null;)Ey(Le)}function dC(t,i){var a=Ke;Ke|=2;var c=Ty(),m=Cy();ut!==t||Ue!==i?(Qc=null,Xc=Lt()+500,Va(t,i)):Ra=bt(t,i);e:do try{if(et!==0&&Le!==null){i=Le;var v=zn;t:switch(et){case 1:et=0,zn=null,za(t,i,v,1);break;case 2:case 9:if(Bg(v)){et=0,zn=null,Ay(i);break}i=function(){et!==2&&et!==9||ut!==t||(et=7),Ts(t)},v.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Bg(v)?(et=0,zn=null,Ay(i)):(et=0,zn=null,za(t,i,v,7));break;case 5:var S=null;switch(Le.tag){case 26:S=Le.memoizedState;case 5:case 27:var A=Le;if(S?f1(S):A.stateNode.complete){et=0,zn=null;var P=A.sibling;if(P!==null)Le=P;else{var Y=A.return;Y!==null?(Le=Y,Jc(Y)):Le=null}break t}}et=0,zn=null,za(t,i,v,5);break;case 6:et=0,zn=null,za(t,i,v,6);break;case 8:Ih(),Et=6;break e;default:throw Error(r(462))}}fC();break}catch(se){xy(t,se)}while(!0);return Qs=Er=null,O.H=c,O.A=m,Ke=a,Le!==null?0:(ut=null,Ue=0,yc(),Et)}function fC(){for(;Le!==null&&!yt();)Ey(Le)}function Ey(t){var i=Qv(t.alternate,t,ai);t.memoizedProps=t.pendingProps,i===null?Jc(t):Le=i}function Ay(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=qv(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=qv(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Jf(i);default:Kv(a,i),i=Le=Cg(i,ai),i=Qv(a,i,ai)}t.memoizedProps=t.pendingProps,i===null?Jc(t):Le=i}function za(t,i,a,c){Qs=Er=null,Jf(i),Ta=null,Qo=0;var m=i.return;try{if(eC(t,m,i,a,Ue)){Et=1,Lc(t,Wn(a,t.current)),Le=null;return}}catch(v){if(m!==null)throw Le=m,v;Et=1,Lc(t,Wn(a,t.current)),Le=null;return}i.flags&32768?(We||c===1?t=!0:Ra||(Ue&536870912)!==0?t=!1:(zi=t=!0,(c===2||c===9||c===3||c===6)&&(c=Dn.current,c!==null&&c.tag===13&&(c.flags|=16384))),My(i,t)):Jc(i)}function Jc(t){var i=t;do{if((i.flags&32768)!==0){My(i,zi);return}t=i.return;var a=sC(i.alternate,i,ai);if(a!==null){Le=a;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=t}while(i!==null);Et===0&&(Et=5)}function My(t,i){do{var a=iC(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);Et=6,Le=null}function Oy(t,i,a,c,m,v,S,A,P){t.cancelPendingCommit=null;do eu();while(jt!==0);if((Ke&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(v=i.lanes|i.childLanes,v|=Ef,gn(t,a,v,S,A,P),t===ut&&(Le=ut=null,Ue=0),Da=i,Pi=t,oi=a,Vh=v,zh=m,yy=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gC(pr,function(){return Vy(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=O.T,O.T=null,m=I.p,I.p=2,S=Ke,Ke|=4;try{rC(t,i,a)}finally{Ke=S,I.p=m,O.T=c}}jt=1,Ny(),Ry(),ky()}}function Ny(){if(jt===1){jt=0;var t=Pi,i=Da,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var c=I.p;I.p=2;var m=Ke;Ke|=4;try{uy(i,t);var v=Qh,S=gg(t.containerInfo),A=v.focusedElem,P=v.selectionRange;if(S!==A&&A&&A.ownerDocument&&pg(A.ownerDocument.documentElement,A)){if(P!==null&&wf(A)){var Y=P.start,se=P.end;if(se===void 0&&(se=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(se,A.value.length);else{var le=A.ownerDocument||document,Q=le&&le.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),pe=A.textContent.length,Ee=Math.min(P.start,pe),at=P.end===void 0?Ee:Math.min(P.end,pe);!J.extend&&Ee>at&&(S=at,at=Ee,Ee=S);var q=mg(A,Ee),L=mg(A,at);if(q&&L&&(J.rangeCount!==1||J.anchorNode!==q.node||J.anchorOffset!==q.offset||J.focusNode!==L.node||J.focusOffset!==L.offset)){var Z=le.createRange();Z.setStart(q.node,q.offset),J.removeAllRanges(),Ee>at?(J.addRange(Z),J.extend(L.node,L.offset)):(Z.setEnd(L.node,L.offset),J.addRange(Z))}}}}for(le=[],J=A;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<le.length;A++){var ae=le[A];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}fu=!!Xh,Qh=Xh=null}finally{Ke=m,I.p=c,O.T=a}}t.current=i,jt=2}}function Ry(){if(jt===2){jt=0;var t=Pi,i=Da,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var c=I.p;I.p=2;var m=Ke;Ke|=4;try{ry(t,i.alternate,i)}finally{Ke=m,I.p=c,O.T=a}}jt=3}}function ky(){if(jt===4||jt===3){jt=0,pn();var t=Pi,i=Da,a=oi,c=yy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Da=Pi=null,Dy(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(Ii=null),ns(a),i=i.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(gr,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=O.T,m=I.p,I.p=2,O.T=null;try{for(var v=t.onRecoverableError,S=0;S<c.length;S++){var A=c[S];v(A.value,{componentStack:A.stack})}}finally{O.T=i,I.p=m}}(oi&3)!==0&&eu(),Ts(t),m=t.pendingLanes,(a&261930)!==0&&(m&42)!==0?t===Bh?hl++:(hl=0,Bh=t):hl=0,ml(0)}}function Dy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Yo(i)))}function eu(){return Ny(),Ry(),ky(),Vy()}function Vy(){if(jt!==5)return!1;var t=Pi,i=Vh;Vh=0;var a=ns(oi),c=O.T,m=I.p;try{I.p=32>a?32:a,O.T=null,a=zh,zh=null;var v=Pi,S=oi;if(jt=0,Da=Pi=null,oi=0,(Ke&6)!==0)throw Error(r(331));var A=Ke;if(Ke|=4,py(v.current),fy(v,v.current,S,a),Ke=A,ml(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(gr,v)}catch{}return!0}finally{I.p=m,O.T=c,Dy(t,i)}}function zy(t,i,a){i=Wn(a,i),i=mh(t.stateNode,i,2),t=Ri(t,i,2),t!==null&&(Tt(t,2),Ts(t))}function tt(t,i,a){if(t.tag===3)zy(t,t,a);else for(;i!==null;){if(i.tag===3){zy(i,t,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ii===null||!Ii.has(c))){t=Wn(a,t),a=Bv(2),c=Ri(i,a,2),c!==null&&(Iv(a,c,i,t),Tt(c,2),Ts(c));break}}i=i.return}}function Fh(t,i,a){var c=t.pingCache;if(c===null){c=t.pingCache=new lC;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(a)||(Rh=!0,m.add(a),t=hC.bind(null,t,i,a),i.then(t,t))}function hC(t,i,a){var c=t.pingCache;c!==null&&c.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ut===t&&(Ue&a)===a&&(Et===4||Et===3&&(Ue&62914560)===Ue&&300>Lt()-Yc?(Ke&2)===0&&Va(t,0):kh|=a,ka===Ue&&(ka=0)),Ts(t)}function By(t,i){i===0&&(i=sn()),t=Sr(t,i),t!==null&&(Tt(t,i),Ts(t))}function mC(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),By(t,a)}function pC(t,i){var a=0;switch(t.tag){case 31:case 13:var c=t.stateNode,m=t.memoizedState;m!==null&&(a=m.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),By(t,a)}function gC(t,i){return st(t,i)}var tu=null,Ba=null,Lh=!1,nu=!1,jh=!1,Li=0;function Ts(t){t!==Ba&&t.next===null&&(Ba===null?tu=Ba=t:Ba=Ba.next=t),nu=!0,Lh||(Lh=!0,yC())}function ml(t,i){if(!jh&&nu){jh=!0;do for(var a=!1,c=tu;c!==null;){if(t!==0){var m=c.pendingLanes;if(m===0)var v=0;else{var S=c.suspendedLanes,A=c.pingedLanes;v=(1<<31-nn(42|t)+1)-1,v&=m&~(S&~A),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,Ly(c,v))}else v=Ue,v=Re(c,c===ut?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||bt(c,v)||(a=!0,Ly(c,v));c=c.next}while(a);jh=!1}}function vC(){Iy()}function Iy(){nu=Lh=!1;var t=0;Li!==0&&MC()&&(t=Li);for(var i=Lt(),a=null,c=tu;c!==null;){var m=c.next,v=Py(c,i);v===0?(c.next=null,a===null?tu=m:a.next=m,m===null&&(Ba=a)):(a=c,(t!==0||(v&3)!==0)&&(nu=!0)),c=m}jt!==0&&jt!==5||ml(t),Li!==0&&(Li=0)}function Py(t,i){for(var a=t.suspendedLanes,c=t.pingedLanes,m=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var S=31-nn(v),A=1<<S,P=m[S];P===-1?((A&a)===0||(A&c)!==0)&&(m[S]=Wt(A,i)):P<=i&&(t.expiredLanes|=A),v&=~A}if(i=ut,a=Ue,a=Re(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===i&&(et===2||et===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&qt(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||bt(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(c!==null&&qt(c),ns(a)){case 2:case 8:a=rc;break;case 32:a=pr;break;case 268435456:a=qs;break;default:a=pr}return c=Fy.bind(null,t),a=st(a,c),t.callbackPriority=i,t.callbackNode=a,i}return c!==null&&c!==null&&qt(c),t.callbackPriority=2,t.callbackNode=null,2}function Fy(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(eu()&&t.callbackNode!==a)return null;var c=Ue;return c=Re(t,t===ut?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(_y(t,c,i),Py(t,Lt()),t.callbackNode!=null&&t.callbackNode===a?Fy.bind(null,t):null)}function Ly(t,i){if(eu())return null;_y(t,i,!0)}function yC(){NC(function(){(Ke&6)!==0?st(Hs,vC):Iy()})}function Uh(){if(Li===0){var t=wa;t===0&&(t=ea,ea<<=1,(ea&261888)===0&&(ea=256)),Li=t}return Li}function jy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:uc(""+t)}function Uy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function bC(t,i,a,c,m){if(i==="submit"&&a&&a.stateNode===m){var v=jy((m[bn]||null).action),S=c.submitter;S&&(i=(i=S[bn]||null)?jy(i.formAction):S.getAttribute("formAction"),i!==null&&(v=i,S=null));var A=new mc("action","action",null,c,m);t.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Li!==0){var P=S?Uy(m,S):new FormData(m);lh(a,{pending:!0,data:P,method:m.method,action:v},null,P)}}else typeof v=="function"&&(A.preventDefault(),P=S?Uy(m,S):new FormData(m),lh(a,{pending:!0,data:P,method:m.method,action:v},v,P))},currentTarget:m}]})}}for(var Hh=0;Hh<Cf.length;Hh++){var qh=Cf[Hh],_C=qh.toLowerCase(),wC=qh[0].toUpperCase()+qh.slice(1);ss(_C,"on"+wC)}ss(bg,"onAnimationEnd"),ss(_g,"onAnimationIteration"),ss(wg,"onAnimationStart"),ss("dblclick","onDoubleClick"),ss("focusin","onFocus"),ss("focusout","onBlur"),ss(I2,"onTransitionRun"),ss(P2,"onTransitionStart"),ss(F2,"onTransitionCancel"),ss(xg,"onTransitionEnd"),oa("onMouseEnter",["mouseout","mouseover"]),oa("onMouseLeave",["mouseout","mouseover"]),oa("onPointerEnter",["pointerout","pointerover"]),oa("onPointerLeave",["pointerout","pointerover"]),br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),br("onBeforeInput",["compositionend","keypress","textInput","paste"]),br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function Hy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],m=c.event;c=c.listeners;e:{var v=void 0;if(i)for(var S=c.length-1;0<=S;S--){var A=c[S],P=A.instance,Y=A.currentTarget;if(A=A.listener,P!==v&&m.isPropagationStopped())break e;v=A,m.currentTarget=Y;try{v(m)}catch(se){vc(se)}m.currentTarget=null,v=P}else for(S=0;S<c.length;S++){if(A=c[S],P=A.instance,Y=A.currentTarget,A=A.listener,P!==v&&m.isPropagationStopped())break e;v=A,m.currentTarget=Y;try{v(m)}catch(se){vc(se)}m.currentTarget=null,v=P}}}}function je(t,i){var a=i[nf];a===void 0&&(a=i[nf]=new Set);var c=t+"__bubble";a.has(c)||(qy(i,t,2,!1),a.add(c))}function Wh(t,i,a){var c=0;i&&(c|=4),qy(a,t,c,i)}var su="_reactListening"+Math.random().toString(36).slice(2);function Gh(t){if(!t[su]){t[su]=!0,I0.forEach(function(a){a!=="selectionchange"&&(xC.has(a)||Wh(a,!1,t),Wh(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[su]||(i[su]=!0,Wh("selectionchange",!1,i))}}function qy(t,i,a,c){switch(b1(i)){case 2:var m=QC;break;case 8:m=$C;break;default:m=om}a=m.bind(null,i,a,t),m=void 0,!ff||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?t.addEventListener(i,a,{capture:!0,passive:m}):t.addEventListener(i,a,!0):m!==void 0?t.addEventListener(i,a,{passive:m}):t.addEventListener(i,a,!1)}function Zh(t,i,a,c,m){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var A=c.stateNode.containerInfo;if(A===m)break;if(S===4)for(S=c.return;S!==null;){var P=S.tag;if((P===3||P===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;A!==null;){if(S=ia(A),S===null)return;if(P=S.tag,P===5||P===6||P===26||P===27){c=v=S;continue e}A=A.parentNode}}c=c.return}X0(function(){var Y=v,se=uf(a),le=[];e:{var Q=Sg.get(t);if(Q!==void 0){var J=mc,pe=t;switch(t){case"keypress":if(fc(a)===0)break e;case"keydown":case"keyup":J=p2;break;case"focusin":pe="focus",J=gf;break;case"focusout":pe="blur",J=gf;break;case"beforeblur":case"afterblur":J=gf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=K0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=s2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=y2;break;case bg:case _g:case wg:J=a2;break;case xg:J=_2;break;case"scroll":case"scrollend":J=t2;break;case"wheel":J=x2;break;case"copy":case"cut":case"paste":J=l2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=eg;break;case"toggle":case"beforetoggle":J=T2}var Ee=(i&4)!==0,at=!Ee&&(t==="scroll"||t==="scrollend"),q=Ee?Q!==null?Q+"Capture":null:Q;Ee=[];for(var L=Y,Z;L!==null;){var ae=L;if(Z=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Z===null||q===null||(ae=Io(L,q),ae!=null&&Ee.push(gl(L,ae,Z))),at)break;L=L.return}0<Ee.length&&(Q=new J(Q,pe,null,a,se),le.push({event:Q,listeners:Ee}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",Q&&a!==cf&&(pe=a.relatedTarget||a.fromElement)&&(ia(pe)||pe[sa]))break e;if((J||Q)&&(Q=se.window===se?se:(Q=se.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(pe=a.relatedTarget||a.toElement,J=Y,pe=pe?ia(pe):null,pe!==null&&(at=l(pe),Ee=pe.tag,pe!==at||Ee!==5&&Ee!==27&&Ee!==6)&&(pe=null)):(J=null,pe=Y),J!==pe)){if(Ee=K0,ae="onMouseLeave",q="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=eg,ae="onPointerLeave",q="onPointerEnter",L="pointer"),at=J==null?Q:Bo(J),Z=pe==null?Q:Bo(pe),Q=new Ee(ae,L+"leave",J,a,se),Q.target=at,Q.relatedTarget=Z,ae=null,ia(se)===Y&&(Ee=new Ee(q,L+"enter",pe,a,se),Ee.target=Z,Ee.relatedTarget=at,ae=Ee),at=ae,J&&pe)t:{for(Ee=SC,q=J,L=pe,Z=0,ae=q;ae;ae=Ee(ae))Z++;ae=0;for(var xe=L;xe;xe=Ee(xe))ae++;for(;0<Z-ae;)q=Ee(q),Z--;for(;0<ae-Z;)L=Ee(L),ae--;for(;Z--;){if(q===L||L!==null&&q===L.alternate){Ee=q;break t}q=Ee(q),L=Ee(L)}Ee=null}else Ee=null;J!==null&&Wy(le,Q,J,Ee,!1),pe!==null&&at!==null&&Wy(le,at,pe,Ee,!0)}}e:{if(Q=Y?Bo(Y):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var Ye=lg;else if(ag(Q))if(cg)Ye=V2;else{Ye=k2;var ye=R2}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&lf(Y.elementType)&&(Ye=lg):Ye=D2;if(Ye&&(Ye=Ye(t,Y))){og(le,Ye,a,se);break e}ye&&ye(t,Q,Y),t==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&of(Q,"number",Q.value)}switch(ye=Y?Bo(Y):window,t){case"focusin":(ag(ye)||ye.contentEditable==="true")&&(ha=ye,xf=Y,Wo=null);break;case"focusout":Wo=xf=ha=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,vg(le,a,se);break;case"selectionchange":if(B2)break;case"keydown":case"keyup":vg(le,a,se)}var ze;if(yf)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else fa?ig(t,a)&&(He="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(tg&&a.locale!=="ko"&&(fa||He!=="onCompositionStart"?He==="onCompositionEnd"&&fa&&(ze=Q0()):(Ti=se,hf="value"in Ti?Ti.value:Ti.textContent,fa=!0)),ye=iu(Y,He),0<ye.length&&(He=new J0(He,t,null,a,se),le.push({event:He,listeners:ye}),ze?He.data=ze:(ze=rg(a),ze!==null&&(He.data=ze)))),(ze=E2?A2(t,a):M2(t,a))&&(He=iu(Y,"onBeforeInput"),0<He.length&&(ye=new J0("onBeforeInput","beforeinput",null,a,se),le.push({event:ye,listeners:He}),ye.data=ze)),bC(le,t,Y,a,se)}Hy(le,i)})}function gl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function iu(t,i){for(var a=i+"Capture",c=[];t!==null;){var m=t,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=Io(t,a),m!=null&&c.unshift(gl(t,m,v)),m=Io(t,i),m!=null&&c.push(gl(t,m,v))),t.tag===3)return c;t=t.return}return[]}function SC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wy(t,i,a,c,m){for(var v=i._reactName,S=[];a!==null&&a!==c;){var A=a,P=A.alternate,Y=A.stateNode;if(A=A.tag,P!==null&&P===c)break;A!==5&&A!==26&&A!==27||Y===null||(P=Y,m?(Y=Io(a,v),Y!=null&&S.unshift(gl(a,Y,P))):m||(Y=Io(a,v),Y!=null&&S.push(gl(a,Y,P)))),a=a.return}S.length!==0&&t.push({event:i,listeners:S})}var TC=/\r\n?/g,CC=/\u0000|\uFFFD/g;function Gy(t){return(typeof t=="string"?t:""+t).replace(TC,`
`).replace(CC,"")}function Zy(t,i){return i=Gy(i),Gy(t)===i}function rt(t,i,a,c,m,v){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||ca(t,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&ca(t,""+c);break;case"className":lc(t,"class",c);break;case"tabIndex":lc(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":lc(t,a,c);break;case"style":Z0(t,c,v);break;case"data":if(i!=="object"){lc(t,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=uc(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(i!=="input"&&rt(t,i,"name",m.name,m,null),rt(t,i,"formEncType",m.formEncType,m,null),rt(t,i,"formMethod",m.formMethod,m,null),rt(t,i,"formTarget",m.formTarget,m,null)):(rt(t,i,"encType",m.encType,m,null),rt(t,i,"method",m.method,m,null),rt(t,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=uc(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=Gs);break;case"onScroll":c!=null&&je("scroll",t);break;case"onScrollEnd":c!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=uc(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":je("beforetoggle",t),je("toggle",t),oc(t,"popover",c);break;case"xlinkActuate":Ws(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ws(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ws(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ws(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ws(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ws(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ws(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ws(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ws(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":oc(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=JT.get(a)||a,oc(t,a,c))}}function Yh(t,i,a,c,m,v){switch(a){case"style":Z0(t,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof c=="string"?ca(t,c):(typeof c=="number"||typeof c=="bigint")&&ca(t,""+c);break;case"onScroll":c!=null&&je("scroll",t);break;case"onScrollEnd":c!=null&&je("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!P0.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),i=a.slice(2,m?a.length-7:void 0),v=t[bn]||null,v=v!=null?v[a]:null,typeof v=="function"&&t.removeEventListener(i,v,m),typeof c=="function")){typeof v!="function"&&v!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,c,m);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):oc(t,a,c)}}}function en(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var c=!1,m=!1,v;for(v in a)if(a.hasOwnProperty(v)){var S=a[v];if(S!=null)switch(v){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:rt(t,i,v,S,a,null)}}m&&rt(t,i,"srcSet",a.srcSet,a,null),c&&rt(t,i,"src",a.src,a,null);return;case"input":je("invalid",t);var A=v=S=m=null,P=null,Y=null;for(c in a)if(a.hasOwnProperty(c)){var se=a[c];if(se!=null)switch(c){case"name":m=se;break;case"type":S=se;break;case"checked":P=se;break;case"defaultChecked":Y=se;break;case"value":v=se;break;case"defaultValue":A=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,i));break;default:rt(t,i,c,se,a,null)}}H0(t,v,A,P,Y,S,m,!1);return;case"select":je("invalid",t),c=S=v=null;for(m in a)if(a.hasOwnProperty(m)&&(A=a[m],A!=null))switch(m){case"value":v=A;break;case"defaultValue":S=A;break;case"multiple":c=A;default:rt(t,i,m,A,a,null)}i=v,a=S,t.multiple=!!c,i!=null?la(t,!!c,i,!1):a!=null&&la(t,!!c,a,!0);return;case"textarea":je("invalid",t),v=m=c=null;for(S in a)if(a.hasOwnProperty(S)&&(A=a[S],A!=null))switch(S){case"value":c=A;break;case"defaultValue":m=A;break;case"children":v=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:rt(t,i,S,A,a,null)}W0(t,c,m,v);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(c=a[P],c!=null))switch(P){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:rt(t,i,P,c,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(c=0;c<pl.length;c++)je(pl[c],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(c=a[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:rt(t,i,Y,c,a,null)}return;default:if(lf(i)){for(se in a)a.hasOwnProperty(se)&&(c=a[se],c!==void 0&&Yh(t,i,se,c,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(c=a[A],c!=null&&rt(t,i,A,c,a,null))}function EC(t,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,S=null,A=null,P=null,Y=null,se=null;for(J in a){var le=a[J];if(a.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":P=le;default:c.hasOwnProperty(J)||rt(t,i,J,null,c,le)}}for(var Q in c){var J=c[Q];if(le=a[Q],c.hasOwnProperty(Q)&&(J!=null||le!=null))switch(Q){case"type":v=J;break;case"name":m=J;break;case"checked":Y=J;break;case"defaultChecked":se=J;break;case"value":S=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,i));break;default:J!==le&&rt(t,i,Q,J,c,le)}}af(t,S,A,P,Y,se,v,m);return;case"select":J=S=A=Q=null;for(v in a)if(P=a[v],a.hasOwnProperty(v)&&P!=null)switch(v){case"value":break;case"multiple":J=P;default:c.hasOwnProperty(v)||rt(t,i,v,null,c,P)}for(m in c)if(v=c[m],P=a[m],c.hasOwnProperty(m)&&(v!=null||P!=null))switch(m){case"value":Q=v;break;case"defaultValue":A=v;break;case"multiple":S=v;default:v!==P&&rt(t,i,m,v,c,P)}i=A,a=S,c=J,Q!=null?la(t,!!a,Q,!1):!!c!=!!a&&(i!=null?la(t,!!a,i,!0):la(t,!!a,a?[]:"",!1));return;case"textarea":J=Q=null;for(A in a)if(m=a[A],a.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:rt(t,i,A,null,c,m)}for(S in c)if(m=c[S],v=a[S],c.hasOwnProperty(S)&&(m!=null||v!=null))switch(S){case"value":Q=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==v&&rt(t,i,S,m,c,v)}q0(t,Q,J);return;case"option":for(var pe in a)if(Q=a[pe],a.hasOwnProperty(pe)&&Q!=null&&!c.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:rt(t,i,pe,null,c,Q)}for(P in c)if(Q=c[P],J=a[P],c.hasOwnProperty(P)&&Q!==J&&(Q!=null||J!=null))switch(P){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:rt(t,i,P,Q,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)Q=a[Ee],a.hasOwnProperty(Ee)&&Q!=null&&!c.hasOwnProperty(Ee)&&rt(t,i,Ee,null,c,Q);for(Y in c)if(Q=c[Y],J=a[Y],c.hasOwnProperty(Y)&&Q!==J&&(Q!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:rt(t,i,Y,Q,c,J)}return;default:if(lf(i)){for(var at in a)Q=a[at],a.hasOwnProperty(at)&&Q!==void 0&&!c.hasOwnProperty(at)&&Yh(t,i,at,void 0,c,Q);for(se in c)Q=c[se],J=a[se],!c.hasOwnProperty(se)||Q===J||Q===void 0&&J===void 0||Yh(t,i,se,Q,c,J);return}}for(var q in a)Q=a[q],a.hasOwnProperty(q)&&Q!=null&&!c.hasOwnProperty(q)&&rt(t,i,q,null,c,Q);for(le in c)Q=c[le],J=a[le],!c.hasOwnProperty(le)||Q===J||Q==null&&J==null||rt(t,i,le,Q,c,J)}function Yy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var m=a[c],v=m.transferSize,S=m.initiatorType,A=m.duration;if(v&&A&&Yy(S)){for(S=0,A=m.responseEnd,c+=1;c<a.length;c++){var P=a[c],Y=P.startTime;if(Y>A)break;var se=P.transferSize,le=P.initiatorType;se&&Yy(le)&&(P=P.responseEnd,S+=se*(P<A?1:(A-Y)/(P-Y)))}if(--c,i+=8*(v+S)/(m.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xh=null,Qh=null;function ru(t){return t.nodeType===9?t:t.ownerDocument}function Xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function $h(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Kh=null;function MC(){var t=window.event;return t&&t.type==="popstate"?t===Kh?!1:(Kh=t,!0):(Kh=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,OC=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,NC=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(t){return Ky.resolve(null).then(t).catch(RC)}:$y;function RC(t){setTimeout(function(){throw t})}function ji(t){return t==="head"}function Jy(t,i){var a=i,c=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(c===0){t.removeChild(m),La(i);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,vl(a);for(var v=a.firstChild;v;){var S=v.nextSibling,A=v.nodeName;v[zo]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=S}}else a==="body"&&vl(t.ownerDocument.body);a=m}while(a);La(i)}function e1(t,i){var a=t;t=0;do{var c=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=c}while(a)}function Jh(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jh(a),sf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kC(t,i,a,c){for(;t.nodeType===1;){var m=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[zo])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function DC(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function t1(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Qn(t.nextSibling),t===null))return null;return t}function em(t){return t.data==="$?"||t.data==="$~"}function tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function VC(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var nm=null;function n1(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Qn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function s1(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function i1(t,i,a){switch(i=ru(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function vl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);sf(t)}var $n=new Map,r1=new Set;function au(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var li=I.d;I.d={f:zC,r:BC,D:IC,C:PC,L:FC,m:LC,X:UC,S:jC,M:HC};function zC(){var t=li.f(),i=$c();return t||i}function BC(t){var i=ra(t);i!==null&&i.tag===5&&i.type==="form"?xv(i):li.r(t)}var Ia=typeof document>"u"?null:document;function a1(t,i,a){var c=Ia;if(c&&typeof i=="string"&&i){var m=Hn(i);m='link[rel="'+t+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),r1.has(m)||(r1.add(m),t={rel:t,crossOrigin:a,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),en(i,"link",t),Gt(i),c.head.appendChild(i)))}}function IC(t){li.D(t),a1("dns-prefetch",t,null)}function PC(t,i){li.C(t,i),a1("preconnect",t,i)}function FC(t,i,a){li.L(t,i,a);var c=Ia;if(c&&t&&i){var m='link[rel="preload"][as="'+Hn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+Hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+Hn(a.imageSizes)+'"]')):m+='[href="'+Hn(t)+'"]';var v=m;switch(i){case"style":v=Pa(t);break;case"script":v=Fa(t)}$n.has(v)||(t=p({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),$n.set(v,t),c.querySelector(m)!==null||i==="style"&&c.querySelector(yl(v))||i==="script"&&c.querySelector(bl(v))||(i=c.createElement("link"),en(i,"link",t),Gt(i),c.head.appendChild(i)))}}function LC(t,i){li.m(t,i);var a=Ia;if(a&&t){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Hn(c)+'"][href="'+Hn(t)+'"]',v=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Fa(t)}if(!$n.has(v)&&(t=p({rel:"modulepreload",href:t},i),$n.set(v,t),a.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(v)))return}c=a.createElement("link"),en(c,"link",t),Gt(c),a.head.appendChild(c)}}}function jC(t,i,a){li.S(t,i,a);var c=Ia;if(c&&t){var m=aa(c).hoistableStyles,v=Pa(t);i=i||"default";var S=m.get(v);if(!S){var A={loading:0,preload:null};if(S=c.querySelector(yl(v)))A.loading=5;else{t=p({rel:"stylesheet",href:t,"data-precedence":i},a),(a=$n.get(v))&&sm(t,a);var P=S=c.createElement("link");Gt(P),en(P,"link",t),P._p=new Promise(function(Y,se){P.onload=Y,P.onerror=se}),P.addEventListener("load",function(){A.loading|=1}),P.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ou(S,i,c)}S={type:"stylesheet",instance:S,count:1,state:A},m.set(v,S)}}}function UC(t,i){li.X(t,i);var a=Ia;if(a&&t){var c=aa(a).hoistableScripts,m=Fa(t),v=c.get(m);v||(v=a.querySelector(bl(m)),v||(t=p({src:t,async:!0},i),(i=$n.get(m))&&im(t,i),v=a.createElement("script"),Gt(v),en(v,"link",t),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function HC(t,i){li.M(t,i);var a=Ia;if(a&&t){var c=aa(a).hoistableScripts,m=Fa(t),v=c.get(m);v||(v=a.querySelector(bl(m)),v||(t=p({src:t,async:!0,type:"module"},i),(i=$n.get(m))&&im(t,i),v=a.createElement("script"),Gt(v),en(v,"link",t),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function o1(t,i,a,c){var m=(m=ue.current)?au(m):null;if(!m)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Pa(a.href),a=aa(m).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Pa(a.href);var v=aa(m).hoistableStyles,S=v.get(t);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,S),(v=m.querySelector(yl(t)))&&!v._p&&(S.instance=v,S.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),v||qC(m,t,a,S.state))),i&&c===null)throw Error(r(528,""));return S}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fa(a),a=aa(m).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Pa(t){return'href="'+Hn(t)+'"'}function yl(t){return'link[rel="stylesheet"]['+t+"]"}function l1(t){return p({},t,{"data-precedence":t.precedence,precedence:null})}function qC(t,i,a,c){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=t.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),en(i,"link",a),Gt(i),t.head.appendChild(i))}function Fa(t){return'[src="'+Hn(t)+'"]'}function bl(t){return"script[async]"+t}function c1(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=t.querySelector('style[data-href~="'+Hn(a.href)+'"]');if(c)return i.instance=c,Gt(c),c;var m=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),Gt(c),en(c,"style",m),ou(c,a.precedence,t),i.instance=c;case"stylesheet":m=Pa(a.href);var v=t.querySelector(yl(m));if(v)return i.state.loading|=4,i.instance=v,Gt(v),v;c=l1(a),(m=$n.get(m))&&sm(c,m),v=(t.ownerDocument||t).createElement("link"),Gt(v);var S=v;return S._p=new Promise(function(A,P){S.onload=A,S.onerror=P}),en(v,"link",c),i.state.loading|=4,ou(v,a.precedence,t),i.instance=v;case"script":return v=Fa(a.src),(m=t.querySelector(bl(v)))?(i.instance=m,Gt(m),m):(c=a,(m=$n.get(v))&&(c=p({},a),im(c,m)),t=t.ownerDocument||t,m=t.createElement("script"),Gt(m),en(m,"link",c),t.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,ou(c,a.precedence,t));return i.instance}function ou(t,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,v=m,S=0;S<c.length;S++){var A=c[S];if(A.dataset.precedence===i)v=A;else if(v!==m)break}v?v.parentNode.insertBefore(t,v.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var lu=null;function u1(t,i,a){if(lu===null){var c=new Map,m=lu=new Map;m.set(a,c)}else m=lu,c=m.get(a),c||(c=new Map,m.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),m=0;m<a.length;m++){var v=a[m];if(!(v[zo]||v[Qt]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(i)||"";S=t+S;var A=c.get(S);A?A.push(v):c.set(S,[v])}}return c}function d1(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function WC(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function f1(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function GC(t,i,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Pa(c.href),v=i.querySelector(yl(m));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=cu.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=v,Gt(v);return}v=i.ownerDocument||i,c=l1(c),(m=$n.get(m))&&sm(c,m),v=v.createElement("link"),Gt(v);var S=v;S._p=new Promise(function(A,P){S.onload=A,S.onerror=P}),en(v,"link",c),a.instance=v}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=cu.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var rm=0;function ZC(t,i){return t.stylesheets&&t.count===0&&du(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var c=setTimeout(function(){if(t.stylesheets&&du(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4+i);0<t.imgBytes&&rm===0&&(rm=62500*AC());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&du(t,t.stylesheets),t.unsuspend)){var v=t.unsuspend;t.unsuspend=null,v()}},(t.imgBytes>rm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function cu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)du(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uu=null;function du(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uu=new Map,i.forEach(YC,t),uu=null,cu.call(t))}function YC(t,i){if(!(i.state.loading&4)){var a=uu.get(t);if(a)var c=a.get(null);else{a=new Map,uu.set(t,a);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var S=m[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),c=S)}c&&a.set(null,c)}m=i.instance,S=m.getAttribute("data-precedence"),v=a.get(S)||c,v===c&&a.set(null,m),a.set(S,m),this.count++,c=cu.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),v?v.parentNode.insertBefore(m,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),i.state.loading|=4}}var _l={$$typeof:N,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function XC(t,i,a,c,m,v,S,A,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function h1(t,i,a,c,m,v,S,A,P,Y,se,le){return t=new XC(t,i,a,S,P,Y,se,le,A),i=1,v===!0&&(i|=24),v=kn(3,null,null,i),t.current=v,v.stateNode=t,i=Pf(),i.refCount++,t.pooledCache=i,i.refCount++,v.memoizedState={element:c,isDehydrated:a,cache:i},Uf(v),t}function m1(t){return t?(t=ga,t):ga}function p1(t,i,a,c,m,v){m=m1(m),c.context===null?c.context=m:c.pendingContext=m,c=Ni(i),c.payload={element:a},v=v===void 0?null:v,v!==null&&(c.callback=v),a=Ri(t,c,i),a!==null&&(Cn(a,t,i),Ko(a,t,i))}function g1(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function am(t,i){g1(t,i),(t=t.alternate)&&g1(t,i)}function v1(t){if(t.tag===13||t.tag===31){var i=Sr(t,67108864);i!==null&&Cn(i,t,67108864),am(t,67108864)}}function y1(t){if(t.tag===13||t.tag===31){var i=In();i=na(i);var a=Sr(t,i);a!==null&&Cn(a,t,i),am(t,i)}}var fu=!0;function QC(t,i,a,c){var m=O.T;O.T=null;var v=I.p;try{I.p=2,om(t,i,a,c)}finally{I.p=v,O.T=m}}function $C(t,i,a,c){var m=O.T;O.T=null;var v=I.p;try{I.p=8,om(t,i,a,c)}finally{I.p=v,O.T=m}}function om(t,i,a,c){if(fu){var m=lm(c);if(m===null)Zh(t,i,c,hu,a),_1(t,c);else if(JC(m,t,i,a,c))c.stopPropagation();else if(_1(t,c),i&4&&-1<KC.indexOf(t)){for(;m!==null;){var v=ra(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=_s(v.pendingLanes);if(S!==0){var A=v;for(A.pendingLanes|=2,A.entangledLanes|=2;S;){var P=1<<31-nn(S);A.entanglements[1]|=P,S&=~P}Ts(v),(Ke&6)===0&&(Xc=Lt()+500,ml(0))}}break;case 31:case 13:A=Sr(v,2),A!==null&&Cn(A,v,2),$c(),am(v,2)}if(v=lm(c),v===null&&Zh(t,i,c,hu,a),v===m)break;m=v}m!==null&&c.stopPropagation()}else Zh(t,i,c,null,a)}}function lm(t){return t=uf(t),cm(t)}var hu=null;function cm(t){if(hu=null,t=ia(t),t!==null){var i=l(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=u(i),t!==null)return t;t=null}else if(a===31){if(t=d(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return hu=t,null}function b1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ko()){case Hs:return 2;case rc:return 8;case pr:case Do:return 32;case qs:return 268435456;default:return 32}default:return 32}}var um=!1,Ui=null,Hi=null,qi=null,wl=new Map,xl=new Map,Wi=[],KC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _1(t,i){switch(t){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(i.pointerId)}}function Sl(t,i,a,c,m,v){return t===null||t.nativeEvent!==v?(t={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:v,targetContainers:[m]},i!==null&&(i=ra(i),i!==null&&v1(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),t)}function JC(t,i,a,c,m){switch(i){case"focusin":return Ui=Sl(Ui,t,i,a,c,m),!0;case"dragenter":return Hi=Sl(Hi,t,i,a,c,m),!0;case"mouseover":return qi=Sl(qi,t,i,a,c,m),!0;case"pointerover":var v=m.pointerId;return wl.set(v,Sl(wl.get(v)||null,t,i,a,c,m)),!0;case"gotpointercapture":return v=m.pointerId,xl.set(v,Sl(xl.get(v)||null,t,i,a,c,m)),!0}return!1}function w1(t){var i=ia(t.target);if(i!==null){var a=l(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){t.blockedOn=i,z0(t.priority,function(){y1(a)});return}}else if(i===31){if(i=d(a),i!==null){t.blockedOn=i,z0(t.priority,function(){y1(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=lm(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);cf=c,a.target.dispatchEvent(c),cf=null}else return i=ra(a),i!==null&&v1(i),t.blockedOn=a,!1;i.shift()}return!0}function x1(t,i,a){mu(t)&&a.delete(i)}function eE(){um=!1,Ui!==null&&mu(Ui)&&(Ui=null),Hi!==null&&mu(Hi)&&(Hi=null),qi!==null&&mu(qi)&&(qi=null),wl.forEach(x1),xl.forEach(x1)}function pu(t,i){t.blockedOn===i&&(t.blockedOn=null,um||(um=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,eE)))}var gu=null;function S1(t){gu!==t&&(gu=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gu===t&&(gu=null);for(var i=0;i<t.length;i+=3){var a=t[i],c=t[i+1],m=t[i+2];if(typeof c!="function"){if(cm(c||a)===null)continue;break}var v=ra(a);v!==null&&(t.splice(i,3),i-=3,lh(v,{pending:!0,data:m,method:a.method,action:c},c,m))}}))}function La(t){function i(P){return pu(P,t)}Ui!==null&&pu(Ui,t),Hi!==null&&pu(Hi,t),qi!==null&&pu(qi,t),wl.forEach(i),xl.forEach(i);for(var a=0;a<Wi.length;a++){var c=Wi[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Wi.length&&(a=Wi[0],a.blockedOn===null);)w1(a),a.blockedOn===null&&Wi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var m=a[c],v=a[c+1],S=m[bn]||null;if(typeof v=="function")S||S1(a);else if(S){var A=null;if(v&&v.hasAttribute("formAction")){if(m=v,S=v[bn]||null)A=S.formAction;else if(cm(m)!==null)continue}else A=S.action;typeof A=="function"?a[c+1]=A:(a.splice(c,3),c-=3),S1(a)}}}function T1(){function t(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(S){return m=S})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function dm(t){this._internalRoot=t}vu.prototype.render=dm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,c=In();p1(a,c,t,i,null,null)},vu.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;p1(t.current,2,null,t,null,null),$c(),i[sa]=null}};function vu(t){this._internalRoot=t}vu.prototype.unstable_scheduleHydration=function(t){if(t){var i=tf();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Wi.length&&i!==0&&i<Wi[a].priority;a++);Wi.splice(a,0,t),a===0&&w1(t)}};var C1=e.version;if(C1!=="19.2.0")throw Error(r(527,C1,"19.2.0"));I.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=h(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var tE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{gr=yu.inject(tE),un=yu}catch{}}return Cl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,c="",m=kv,v=Dv,S=Vv;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=h1(t,1,!1,null,null,a,c,null,m,v,S,T1),t[sa]=i.current,Gh(t),new dm(i)},Cl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var c=!1,m="",v=kv,S=Dv,A=Vv,P=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(P=a.formState)),i=h1(t,1,!0,i,a??null,c,m,P,v,S,A,T1),i.context=m1(null),a=i.current,c=In(),c=na(c),m=Ni(c),m.callback=null,Ri(a,m,c),a=c,i.current.lanes=a,Tt(i,a),Ts(i),t[sa]=i.current,Gh(t),new vu(i)},Cl.version="19.2.0",Cl}var z1;function dE(){if(z1)return hm.exports;z1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hm.exports=uE(),hm.exports}var fE=dE(),w=_p();const de=d_(w),h_=sE({__proto__:null,default:de},[w]),hE=w.createContext(null),ym={didCatch:!1,error:null};class mE extends w.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=ym}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var s,r,o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];(s=(r=this.props).onReset)===null||s===void 0||s.call(r,{args:l,reason:"imperative-api"}),this.setState(ym)}}componentDidCatch(e,s){var r,o;(r=(o=this.props).onError)===null||r===void 0||r.call(o,e,s)}componentDidUpdate(e,s){const{didCatch:r}=this.state,{resetKeys:o}=this.props;if(r&&s.error!==null&&pE(e.resetKeys,o)){var l,u;(l=(u=this.props).onReset)===null||l===void 0||l.call(u,{next:o,prev:e.resetKeys,reason:"keys"}),this.setState(ym)}}render(){const{children:e,fallbackRender:s,FallbackComponent:r,fallback:o}=this.props,{didCatch:l,error:u}=this.state;let d=e;if(l){const f={error:u,resetErrorBoundary:this.resetErrorBoundary};if(typeof s=="function")d=s(f);else if(r)d=w.createElement(r,f);else if(o!==void 0)d=o;else throw u}return w.createElement(hE.Provider,{value:{didCatch:l,error:u,resetErrorBoundary:this.resetErrorBoundary}},d)}}function pE(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.length!==e.length||n.some((s,r)=>!Object.is(s,e[r]))}const Ka={delayTime:0,delayFeedback:0,noiseLevel:0,lowPassFreq:22e3,highPassFreq:20,vinylCrackle:!1,distortionAmount:0,pitchShift:0,playbackRate:1,reverbMix:0,reverbDecay:2},m_=2,gE=(n,e,s)=>Math.min(s,Math.max(e,n)),B1=new WeakMap,vE=(n,e)=>{const s=Math.max(2048,Math.floor(n)),r=new Float32Array(s),o=1+e*24;for(let l=0;l<s;l++){const u=l*2/s-1,d=Math.tanh(o*u);r[l]=(1-e)*u+e*d}return r},p_=(n,e)=>{const s=gE(Math.round(e),0,100);let r=B1.get(n);r||(r=new Map,B1.set(n,r));const o=r.get(s);if(o)return o;const l=s/100,u=vE(n.sampleRate,l);return r.set(s,u),u},g_=(n,e,s)=>{const r=n.sampleRate,o=Math.max(1,Math.floor(r*Math.max(e,.01))),l=n.createBuffer(2,o,r),u=l.getChannelData(0),d=l.getChannelData(1);for(let f=0;f<o;f++){const h=f/o,g=Math.pow(1-h,Math.max(s,.01));u[f]=(Math.random()*2-1)*g,d[f]=(Math.random()*2-1)*g}return l},v_=(n,e=m_)=>{const s=n.sampleRate,r=Math.max(1,Math.floor(s*e)),o=n.createBuffer(1,r,s),l=o.getChannelData(0);for(let u=0;u<r;u++)l[u]=Math.random()*2-1;return o},y_=(n,e=m_)=>{const s=n.sampleRate,r=Math.max(1,Math.floor(s*e)),o=n.createBuffer(1,r,s),l=o.getChannelData(0);for(let u=0;u<r;u++){const d=Math.random()>.995?(Math.random()-.5)*.5:0,f=(Math.random()-.5)*.02;l[u]=d+f}return o},b_="15.1.22",I1=(n,e,s)=>({endTime:e,insertTime:s,type:"exponentialRampToValue",value:n}),P1=(n,e,s)=>({endTime:e,insertTime:s,type:"linearRampToValue",value:n}),jm=(n,e)=>({startTime:e,type:"setValue",value:n}),__=(n,e,s)=>({duration:s,startTime:e,type:"setValueCurve",values:n}),w_=(n,e,{startTime:s,target:r,timeConstant:o})=>r+(e-r)*Math.exp((s-n)/o),Za=n=>n.type==="exponentialRampToValue",ju=n=>n.type==="linearRampToValue",$i=n=>Za(n)||ju(n),wp=n=>n.type==="setValue",ui=n=>n.type==="setValueCurve",Uu=(n,e,s,r)=>{const o=n[e];return o===void 0?r:$i(o)||wp(o)?o.value:ui(o)?o.values[o.values.length-1]:w_(s,Uu(n,e-1,o.startTime,r),o)},F1=(n,e,s,r,o)=>s===void 0?[r.insertTime,o]:$i(s)?[s.endTime,s.value]:wp(s)?[s.startTime,s.value]:ui(s)?[s.startTime+s.duration,s.values[s.values.length-1]]:[s.startTime,Uu(n,e-1,s.startTime,o)],Um=n=>n.type==="cancelAndHold",Hm=n=>n.type==="cancelScheduledValues",Zi=n=>Um(n)||Hm(n)?n.cancelTime:Za(n)||ju(n)?n.endTime:n.startTime,L1=(n,e,s,{endTime:r,value:o})=>s===o?o:0<s&&0<o||s<0&&o<0?s*(o/s)**((n-e)/(r-e)):0,j1=(n,e,s,{endTime:r,value:o})=>s+(n-e)/(r-e)*(o-s),yE=(n,e)=>{const s=Math.floor(e),r=Math.ceil(e);return s===r?n[s]:(1-(e-s))*n[s]+(1-(r-e))*n[r]},bE=(n,{duration:e,startTime:s,values:r})=>{const o=(n-s)/e*(r.length-1);return yE(r,o)},bu=n=>n.type==="setTarget";class _E{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const s=Zi(e);if(Um(e)||Hm(e)){const r=this._automationEvents.findIndex(l=>Hm(e)&&ui(l)?l.startTime+l.duration>=s:Zi(l)>=s),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Um(e)){const l=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&$i(o)){if(l!==void 0&&bu(l))throw new Error("The internal list is malformed.");const u=l===void 0?o.insertTime:ui(l)?l.startTime+l.duration:Zi(l),d=l===void 0?this._defaultValue:ui(l)?l.values[l.values.length-1]:l.value,f=Za(o)?L1(s,u,d,o):j1(s,u,d,o),h=Za(o)?I1(f,s,this._currenTime):P1(f,s,this._currenTime);this._automationEvents.push(h)}if(l!==void 0&&bu(l)&&this._automationEvents.push(jm(this.getValue(s),s)),l!==void 0&&ui(l)&&l.startTime+l.duration>s){const u=s-l.startTime,d=(l.values.length-1)/l.duration,f=Math.max(2,1+Math.ceil(u*d)),h=u/(f-1)*d,g=l.values.slice(0,f);if(h<1)for(let p=1;p<f;p+=1){const y=h*p%1;g[p]=l.values[p-1]*(1-y)+l.values[p]*y}this._automationEvents[this._automationEvents.length-1]=__(g,l.startTime,u)}}}else{const r=this._automationEvents.findIndex(u=>Zi(u)>s),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&ui(o)&&Zi(o)+o.duration>s)return!1;const l=Za(e)?I1(e.value,e.endTime,this._currenTime):ju(e)?P1(e.value,s,this._currenTime):e;if(r===-1)this._automationEvents.push(l);else{if(ui(e)&&s+e.duration>Zi(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,l)}}return!0}flush(e){const s=this._automationEvents.findIndex(r=>Zi(r)>e);if(s>1){const r=this._automationEvents.slice(s-1),o=r[0];bu(o)&&r.unshift(jm(Uu(this._automationEvents,s-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const s=this._automationEvents.findIndex(u=>Zi(u)>e),r=this._automationEvents[s],o=(s===-1?this._automationEvents.length:s)-1,l=this._automationEvents[o];if(l!==void 0&&bu(l)&&(r===void 0||!$i(r)||r.insertTime>e))return w_(e,Uu(this._automationEvents,o-1,l.startTime,this._defaultValue),l);if(l!==void 0&&wp(l)&&(r===void 0||!$i(r)))return l.value;if(l!==void 0&&ui(l)&&(r===void 0||!$i(r)||l.startTime+l.duration>e))return e<l.startTime+l.duration?bE(e,l):l.values[l.values.length-1];if(l!==void 0&&$i(l)&&(r===void 0||!$i(r)))return l.value;if(r!==void 0&&Za(r)){const[u,d]=F1(this._automationEvents,o,l,r,this._defaultValue);return L1(e,u,d,r)}if(r!==void 0&&ju(r)){const[u,d]=F1(this._automationEvents,o,l,r,this._defaultValue);return j1(e,u,d,r)}return this._defaultValue}}const wE=n=>({cancelTime:n,type:"cancelAndHold"}),xE=n=>({cancelTime:n,type:"cancelScheduledValues"}),SE=(n,e)=>({endTime:e,type:"exponentialRampToValue",value:n}),TE=(n,e)=>({endTime:e,type:"linearRampToValue",value:n}),CE=(n,e,s)=>({startTime:e,target:n,timeConstant:s,type:"setTarget"}),EE=()=>new DOMException("","AbortError"),AE=n=>(e,s,[r,o,l],u)=>{n(e[o],[s,r,l],d=>d[0]===s&&d[1]===r,u)},ME=n=>(e,s,r)=>{const o=[];for(let l=0;l<r.numberOfInputs;l+=1)o.push(new Set);n.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:s})},OE=n=>(e,s)=>{n.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:s})},so=new WeakSet,x_=new WeakMap,xp=new WeakMap,S_=new WeakMap,Sp=new WeakMap,ud=new WeakMap,T_=new WeakMap,qm=new WeakMap,Wm=new WeakMap,Gm=new WeakMap,C_={construct(){return C_}},NE=n=>{try{const e=new Proxy(n,C_);new e}catch{return!1}return!0},U1=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,H1=(n,e)=>{const s=[];let r=n.replace(/^[\s]+/,""),o=r.match(U1);for(;o!==null;){const l=o[1].slice(1,-1),u=o[0].replace(/([\s]+)?;?$/,"").replace(l,new URL(l,e).toString());s.push(u),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(U1)}return[s.join(";"),r]},q1=n=>{if(n!==void 0&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},W1=n=>{if(!NE(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(n.prototype===null||typeof n.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},RE=(n,e,s,r,o,l,u,d,f,h,g,p,y)=>{let b=0;return(x,_,T={credentials:"omit"})=>{const C=g.get(x);if(C!==void 0&&C.has(_))return Promise.resolve();const M=h.get(x);if(M!==void 0){const R=M.get(_);if(R!==void 0)return R}const N=l(x),B=N.audioWorklet===void 0?o(_).then(([R,z])=>{const[D,k]=H1(R,z),W=`${D};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${k}
})})(window,'_AWGS')`;return s(W)}).then(()=>{const R=y._AWGS.pop();if(R===void 0)throw new SyntaxError;r(N.currentTime,N.sampleRate,()=>R(class{},void 0,(z,D)=>{if(z.trim()==="")throw e();const k=Wm.get(N);if(k!==void 0){if(k.has(z))throw e();W1(D),q1(D.parameterDescriptors),k.set(z,D)}else W1(D),q1(D.parameterDescriptors),Wm.set(N,new Map([[z,D]]))},N.sampleRate,void 0,void 0))}):Promise.all([o(_),Promise.resolve(n(p,p))]).then(([[R,z],D])=>{const k=b+1;b=k;const[W,U]=H1(R,z),ee=`${W};((AudioWorkletProcessor,registerProcessor)=>{${U}
})(${D?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${D?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${D?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${k}',class extends AudioWorkletProcessor{process(){return !1}})`,ce=new Blob([ee],{type:"application/javascript; charset=utf-8"}),O=URL.createObjectURL(ce);return N.audioWorklet.addModule(O,T).then(()=>{if(d(N))return N;const I=u(N);return I.audioWorklet.addModule(O,T).then(()=>I)}).then(I=>{if(f===null)throw new SyntaxError;try{new f(I,`__sac${k}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(O))});return M===void 0?h.set(x,new Map([[_,B]])):M.set(_,B),B.then(()=>{const R=g.get(x);R===void 0?g.set(x,new Set([_])):R.add(_)}).finally(()=>{const R=h.get(x);R!==void 0&&R.delete(_)}),B}},fs=(n,e)=>{const s=n.get(e);if(s===void 0)throw new Error("A value with the given key could not be found.");return s},dd=(n,e)=>{const s=Array.from(n).filter(e);if(s.length>1)throw Error("More than one element was found.");if(s.length===0)throw Error("No element was found.");const[r]=s;return n.delete(r),r},E_=(n,e,s,r)=>{const o=fs(n,e),l=dd(o,u=>u[0]===s&&u[1]===r);return o.size===0&&n.delete(e),l},Wl=n=>fs(T_,n),io=n=>{if(so.has(n))throw new Error("The AudioNode is already stored.");so.add(n),Wl(n).forEach(e=>e(!0))},A_=n=>"port"in n,Gl=n=>{if(!so.has(n))throw new Error("The AudioNode is not stored.");so.delete(n),Wl(n).forEach(e=>e(!1))},Zm=(n,e)=>{!A_(n)&&e.every(s=>s.size===0)&&Gl(n)},kE=(n,e,s,r,o,l,u,d,f,h,g,p,y)=>{const b=new WeakMap;return(x,_,T,C,M)=>{const{activeInputs:N,passiveInputs:B}=l(_),{outputs:R}=l(x),z=d(x),D=k=>{const W=f(_),U=f(x);if(k){const j=E_(B,x,T,C);n(N,x,j,!1),!M&&!p(x)&&s(U,W,T,C),y(_)&&io(_)}else{const j=r(N,x,T,C);e(B,C,j,!1),!M&&!p(x)&&o(U,W,T,C);const H=u(_);if(H===0)g(_)&&Zm(_,N);else{const K=b.get(_);K!==void 0&&clearTimeout(K),b.set(_,setTimeout(()=>{g(_)&&Zm(_,N)},H*1e3))}}};return h(R,[_,T,C],k=>k[0]===_&&k[1]===T&&k[2]===C,!0)?(z.add(D),g(x)?n(N,x,[T,C,D],!0):e(B,C,[x,T,D],!0),!0):!1}},DE=n=>(e,s,[r,o,l],u)=>{const d=e.get(r);d===void 0?e.set(r,new Set([[o,s,l]])):n(d,[o,s,l],f=>f[0]===o&&f[1]===s,u)},VE=n=>(e,s)=>{const r=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.connect(r).connect(e.destination);const o=()=>{s.removeEventListener("ended",o),s.disconnect(r),r.disconnect()};s.addEventListener("ended",o)},zE=n=>(e,s)=>{n(e).add(s)},BE={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},IE=(n,e,s,r,o,l)=>class extends n{constructor(d,f){const h=o(d),g={...BE,...f},p=r(h,g),y=l(h)?e():null;super(d,!1,p,y),this._nativeAnalyserNode=p}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(d){this._nativeAnalyserNode.fftSize=d}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(d){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=d,!(d>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,s()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(d){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=d,!(this._nativeAnalyserNode.maxDecibels>d))throw this._nativeAnalyserNode.minDecibels=f,s()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(d){this._nativeAnalyserNode.smoothingTimeConstant=d}getByteFrequencyData(d){this._nativeAnalyserNode.getByteFrequencyData(d)}getByteTimeDomainData(d){this._nativeAnalyserNode.getByteTimeDomainData(d)}getFloatFrequencyData(d){this._nativeAnalyserNode.getFloatFrequencyData(d)}getFloatTimeDomainData(d){this._nativeAnalyserNode.getFloatTimeDomainData(d)}},cn=(n,e)=>n.context===e,PE=(n,e,s)=>()=>{const r=new WeakMap,o=async(l,u)=>{let d=e(l);if(!cn(d,u)){const h={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,fftSize:d.fftSize,maxDecibels:d.maxDecibels,minDecibels:d.minDecibels,smoothingTimeConstant:d.smoothingTimeConstant};d=n(u,h)}return r.set(u,d),await s(l,u,d),d};return{render(l,u){const d=r.get(u);return d!==void 0?Promise.resolve(d):o(l,u)}}},Hu=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Fs=()=>new DOMException("","IndexSizeError"),Tp=n=>{n.getChannelData=(e=>s=>{try{return e.call(n,s)}catch(r){throw r.code===12?Fs():r}})(n.getChannelData)},FE={numberOfChannels:1},LE=(n,e,s,r,o,l,u,d)=>{let f=null;return class M_{constructor(g){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:p,numberOfChannels:y,sampleRate:b}={...FE,...g};f===null&&(f=new o(1,1,44100));const x=r!==null&&e(l,l)?new r({length:p,numberOfChannels:y,sampleRate:b}):f.createBuffer(y,p,b);if(x.numberOfChannels===0)throw s();return typeof x.copyFromChannel!="function"?(u(x),Tp(x)):e(Hu,()=>Hu(x))||d(x),n.add(x),x}static[Symbol.hasInstance](g){return g!==null&&typeof g=="object"&&Object.getPrototypeOf(g)===M_.prototype||n.has(g)}}},Mn=-34028234663852886e22,fn=-Mn,fi=n=>so.has(n),jE={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},UE=(n,e,s,r,o,l,u,d)=>class extends n{constructor(h,g){const p=l(h),y={...jE,...g},b=o(p,y),x=u(p),_=x?e():null;super(h,!1,b,_),this._audioBufferSourceNodeRenderer=_,this._isBufferNullified=!1,this._isBufferSet=y.buffer!==null,this._nativeAudioBufferSourceNode=b,this._onended=null,this._playbackRate=s(this,x,b.playbackRate,fn,Mn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(h){if(this._nativeAudioBufferSourceNode.buffer=h,h!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(h){this._nativeAudioBufferSourceNode.loop=h}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(h){this._nativeAudioBufferSourceNode.loopEnd=h}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(h){this._nativeAudioBufferSourceNode.loopStart=h}get onended(){return this._onended}set onended(h){const g=typeof h=="function"?d(this,h):null;this._nativeAudioBufferSourceNode.onended=g;const p=this._nativeAudioBufferSourceNode.onended;this._onended=p!==null&&p===g?h:p}get playbackRate(){return this._playbackRate}start(h=0,g=0,p){if(this._nativeAudioBufferSourceNode.start(h,g,p),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=p===void 0?[h,g]:[h,g,p]),this.context.state!=="closed"){io(this);const y=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",y),fi(this)&&Gl(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",y)}}stop(h=0){this._nativeAudioBufferSourceNode.stop(h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=h)}},HE=(n,e,s,r,o)=>()=>{const l=new WeakMap;let u=null,d=null;const f=async(h,g)=>{let p=s(h);const y=cn(p,g);if(!y){const b={buffer:p.buffer,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,loop:p.loop,loopEnd:p.loopEnd,loopStart:p.loopStart,playbackRate:p.playbackRate.value};p=e(g,b),u!==null&&p.start(...u),d!==null&&p.stop(d)}return l.set(g,p),y?await n(g,h.playbackRate,p.playbackRate):await r(g,h.playbackRate,p.playbackRate),await o(h,g,p),p};return{set start(h){u=h},set stop(h){d=h},render(h,g){const p=l.get(g);return p!==void 0?Promise.resolve(p):f(h,g)}}},qE=n=>"playbackRate"in n,WE=n=>"frequency"in n&&"gain"in n,GE=n=>"offset"in n,ZE=n=>!("frequency"in n)&&"gain"in n,YE=n=>"detune"in n&&"frequency"in n&&!("gain"in n),XE=n=>"pan"in n,hn=n=>fs(x_,n),Zl=n=>fs(S_,n),Ym=(n,e)=>{const{activeInputs:s}=hn(n);s.forEach(o=>o.forEach(([l])=>{e.includes(n)||Ym(l,[...e,n])}));const r=qE(n)?[n.playbackRate]:A_(n)?Array.from(n.parameters.values()):WE(n)?[n.Q,n.detune,n.frequency,n.gain]:GE(n)?[n.offset]:ZE(n)?[n.gain]:YE(n)?[n.detune,n.frequency]:XE(n)?[n.pan]:[];for(const o of r){const l=Zl(o);l!==void 0&&l.activeInputs.forEach(([u])=>Ym(u,e))}fi(n)&&Gl(n)},O_=n=>{Ym(n.destination,[])},QE=n=>n===void 0||typeof n=="number"||typeof n=="string"&&(n==="balanced"||n==="interactive"||n==="playback"),$E=(n,e,s,r,o,l,u,d,f)=>class extends n{constructor(g={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let p;try{p=new f(g)}catch(x){throw x.code===12&&x.message==="sampleRate is not in range"?s():x}if(p===null)throw r();if(!QE(g.latencyHint))throw new TypeError(`The provided value '${g.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(g.sampleRate!==void 0&&p.sampleRate!==g.sampleRate)throw s();super(p,2);const{latencyHint:y}=g,{sampleRate:b}=p;if(this._baseLatency=typeof p.baseLatency=="number"?p.baseLatency:y==="balanced"?512/b:y==="interactive"||y===void 0?256/b:y==="playback"?1024/b:Math.max(2,Math.min(128,Math.round(y*b/128)))*128/b,this._nativeAudioContext=p,f.name==="webkitAudioContext"?(this._nativeGainNode=p.createGain(),this._nativeOscillatorNode=p.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(p.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,p.state==="running"){this._state="suspended";const x=()=>{this._state==="suspended"&&(this._state=null),p.removeEventListener("statechange",x)};p.addEventListener("statechange",x)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),O_(this)}))}createMediaElementSource(g){return new o(this,{mediaElement:g})}createMediaStreamDestination(){return new l(this)}createMediaStreamSource(g){return new u(this,{mediaStream:g})}createMediaStreamTrackSource(g){return new d(this,{mediaStreamTrack:g})}resume(){return this._state==="suspended"?new Promise((g,p)=>{const y=()=>{this._nativeAudioContext.removeEventListener("statechange",y),this._nativeAudioContext.state==="running"?g():this.resume().then(g,p)};this._nativeAudioContext.addEventListener("statechange",y)}):this._nativeAudioContext.resume().catch(g=>{throw g===void 0||g.code===15?e():g})}suspend(){return this._nativeAudioContext.suspend().catch(g=>{throw g===void 0?e():g})}},KE=(n,e,s,r,o,l,u,d)=>class extends n{constructor(h,g){const p=l(h),y=u(p),b=o(p,g,y),x=y?e(d):null;super(h,!1,b,x),this._isNodeOfNativeOfflineAudioContext=y,this._nativeAudioDestinationNode=b}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(h){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(h>this._nativeAudioDestinationNode.maxChannelCount)throw s();this._nativeAudioDestinationNode.channelCount=h}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(h){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=h}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},JE=n=>{const e=new WeakMap,s=async(r,o)=>{const l=o.destination;return e.set(o,l),await n(r,o,l),l};return{render(r,o){const l=e.get(o);return l!==void 0?Promise.resolve(l):s(r,o)}}},eA=(n,e,s,r,o,l,u,d)=>(f,h)=>{const g=h.listener,p=()=>{const R=new Float32Array(1),z=e(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),D=u(h);let k=!1,W=[0,0,-1,0,1,0],U=[0,0,0];const j=()=>{if(k)return;k=!0;const ce=r(h,256,9,0);ce.onaudioprocess=({inputBuffer:O})=>{const I=[l(O,R,0),l(O,R,1),l(O,R,2),l(O,R,3),l(O,R,4),l(O,R,5)];I.some(($,ne)=>$!==W[ne])&&(g.setOrientation(...I),W=I);const F=[l(O,R,6),l(O,R,7),l(O,R,8)];F.some(($,ne)=>$!==U[ne])&&(g.setPosition(...F),U=F)},z.connect(ce)},H=ce=>O=>{O!==W[ce]&&(W[ce]=O,g.setOrientation(...W))},K=ce=>O=>{O!==U[ce]&&(U[ce]=O,g.setPosition(...U))},ee=(ce,O,I)=>{const F=s(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:O});F.connect(z,0,ce),F.start(),Object.defineProperty(F.offset,"defaultValue",{get(){return O}});const $=n({context:f},D,F.offset,fn,Mn);return d($,"value",ne=>()=>ne.call($),ne=>V=>{try{ne.call($,V)}catch(G){if(G.code!==9)throw G}j(),D&&I(V)}),$.cancelAndHoldAtTime=(ne=>D?()=>{throw o()}:(...V)=>{const G=ne.apply($,V);return j(),G})($.cancelAndHoldAtTime),$.cancelScheduledValues=(ne=>D?()=>{throw o()}:(...V)=>{const G=ne.apply($,V);return j(),G})($.cancelScheduledValues),$.exponentialRampToValueAtTime=(ne=>D?()=>{throw o()}:(...V)=>{const G=ne.apply($,V);return j(),G})($.exponentialRampToValueAtTime),$.linearRampToValueAtTime=(ne=>D?()=>{throw o()}:(...V)=>{const G=ne.apply($,V);return j(),G})($.linearRampToValueAtTime),$.setTargetAtTime=(ne=>D?()=>{throw o()}:(...V)=>{const G=ne.apply($,V);return j(),G})($.setTargetAtTime),$.setValueAtTime=(ne=>D?()=>{throw o()}:(...V)=>{const G=ne.apply($,V);return j(),G})($.setValueAtTime),$.setValueCurveAtTime=(ne=>D?()=>{throw o()}:(...V)=>{const G=ne.apply($,V);return j(),G})($.setValueCurveAtTime),$};return{forwardX:ee(0,0,H(0)),forwardY:ee(1,0,H(1)),forwardZ:ee(2,-1,H(2)),positionX:ee(6,0,K(0)),positionY:ee(7,0,K(1)),positionZ:ee(8,0,K(2)),upX:ee(3,0,H(3)),upY:ee(4,1,H(4)),upZ:ee(5,0,H(5))}},{forwardX:y,forwardY:b,forwardZ:x,positionX:_,positionY:T,positionZ:C,upX:M,upY:N,upZ:B}=g.forwardX===void 0?p():g;return{get forwardX(){return y},get forwardY(){return b},get forwardZ(){return x},get positionX(){return _},get positionY(){return T},get positionZ(){return C},get upX(){return M},get upY(){return N},get upZ(){return B}}},qu=n=>"context"in n,Yl=n=>qu(n[0]),$r=(n,e,s,r)=>{for(const o of n)if(s(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return n.add(e),!0},G1=(n,e,[s,r],o)=>{$r(n,[e,s,r],l=>l[0]===e&&l[1]===s,o)},Z1=(n,[e,s,r],o)=>{const l=n.get(e);l===void 0?n.set(e,new Set([[s,r]])):$r(l,[s,r],u=>u[0]===s,o)},go=n=>"inputs"in n,Wu=(n,e,s,r)=>{if(go(e)){const o=e.inputs[r];return n.connect(o,s,0),[o,s,0]}return n.connect(e,s,r),[e,s,r]},N_=(n,e,s)=>{for(const r of n)if(r[0]===e&&r[1]===s)return n.delete(r),r;return null},tA=(n,e,s)=>dd(n,r=>r[0]===e&&r[1]===s),R_=(n,e)=>{if(!Wl(n).delete(e))throw new Error("Missing the expected event listener.")},k_=(n,e,s)=>{const r=fs(n,e),o=dd(r,l=>l[0]===s);return r.size===0&&n.delete(e),o},Gu=(n,e,s,r)=>{go(e)?n.disconnect(e.inputs[r],s,0):n.disconnect(e,s,r)},gt=n=>fs(xp,n),Pl=n=>fs(Sp,n),Lr=n=>qm.has(n),Bu=n=>!so.has(n),Y1=(n,e)=>new Promise(s=>{if(e!==null)s(!0);else{const r=n.createScriptProcessor(256,1,1),o=n.createGain(),l=n.createBuffer(1,2,44100),u=l.getChannelData(0);u[0]=1,u[1]=1;const d=n.createBufferSource();d.buffer=l,d.loop=!0,d.connect(r).connect(n.destination),d.connect(o),d.disconnect(o),r.onaudioprocess=f=>{const h=f.inputBuffer.getChannelData(0);Array.prototype.some.call(h,g=>g===1)?s(!0):s(!1),d.stop(),r.onaudioprocess=null,d.disconnect(r),r.disconnect(n.destination)},d.start()}}),bm=(n,e)=>{const s=new Map;for(const r of n)for(const o of r){const l=s.get(o);s.set(o,l===void 0?1:l+1)}s.forEach((r,o)=>e(o,r))},Zu=n=>"context"in n,nA=n=>{const e=new Map;n.connect=(s=>(r,o=0,l=0)=>{const u=Zu(r)?s(r,o,l):s(r,o),d=e.get(r);return d===void 0?e.set(r,[{input:l,output:o}]):d.every(f=>f.input!==l||f.output!==o)&&d.push({input:l,output:o}),u})(n.connect.bind(n)),n.disconnect=(s=>(r,o,l)=>{if(s.apply(n),r===void 0)e.clear();else if(typeof r=="number")for(const[u,d]of e){const f=d.filter(h=>h.output!==r);f.length===0?e.delete(u):e.set(u,f)}else if(e.has(r))if(o===void 0)e.delete(r);else{const u=e.get(r);if(u!==void 0){const d=u.filter(f=>f.output!==o&&(f.input!==l||l===void 0));d.length===0?e.delete(r):e.set(r,d)}}for(const[u,d]of e)d.forEach(f=>{Zu(u)?n.connect(u,f.output,f.input):n.connect(u,f.output)})})(n.disconnect)},sA=(n,e,s,r)=>{const{activeInputs:o,passiveInputs:l}=Zl(e),{outputs:u}=hn(n),d=Wl(n),f=h=>{const g=gt(n),p=Pl(e);if(h){const y=k_(l,n,s);G1(o,n,y,!1),!r&&!Lr(n)&&g.connect(p,s)}else{const y=tA(o,n,s);Z1(l,y,!1),!r&&!Lr(n)&&g.disconnect(p,s)}};return $r(u,[e,s],h=>h[0]===e&&h[1]===s,!0)?(d.add(f),fi(n)?G1(o,n,[s,f],!0):Z1(l,[n,s,f],!0),!0):!1},iA=(n,e,s,r)=>{const{activeInputs:o,passiveInputs:l}=hn(e),u=N_(o[r],n,s);return u===null?[E_(l,n,s,r)[2],!1]:[u[2],!0]},rA=(n,e,s)=>{const{activeInputs:r,passiveInputs:o}=Zl(e),l=N_(r,n,s);return l===null?[k_(o,n,s)[1],!1]:[l[2],!0]},Cp=(n,e,s,r,o)=>{const[l,u]=iA(n,s,r,o);if(l!==null&&(R_(n,l),u&&!e&&!Lr(n)&&Gu(gt(n),gt(s),r,o)),fi(s)){const{activeInputs:d}=hn(s);Zm(s,d)}},Ep=(n,e,s,r)=>{const[o,l]=rA(n,s,r);o!==null&&(R_(n,o),l&&!e&&!Lr(n)&&gt(n).disconnect(Pl(s),r))},aA=(n,e)=>{const s=hn(n),r=[];for(const o of s.outputs)Yl(o)?Cp(n,e,...o):Ep(n,e,...o),r.push(o[0]);return s.outputs.clear(),r},oA=(n,e,s)=>{const r=hn(n),o=[];for(const l of r.outputs)l[1]===s&&(Yl(l)?Cp(n,e,...l):Ep(n,e,...l),o.push(l[0]),r.outputs.delete(l));return o},lA=(n,e,s,r,o)=>{const l=hn(n);return Array.from(l.outputs).filter(u=>u[0]===s&&(r===void 0||u[1]===r)&&(o===void 0||u[2]===o)).map(u=>(Yl(u)?Cp(n,e,...u):Ep(n,e,...u),l.outputs.delete(u),u[0]))},cA=(n,e,s,r,o,l,u,d,f,h,g,p,y,b,x,_)=>class extends h{constructor(C,M,N,B){super(N),this._context=C,this._nativeAudioNode=N;const R=g(C);p(R)&&s(Y1,()=>Y1(R,_))!==!0&&nA(N),xp.set(this,N),T_.set(this,new Set),C.state!=="closed"&&M&&io(this),n(this,B,N)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,M=0,N=0){if(M<0||M>=this._nativeAudioNode.numberOfOutputs)throw o();const B=g(this._context),R=x(B);if(y(C)||b(C))throw l();if(qu(C)){const k=gt(C);try{const U=Wu(this._nativeAudioNode,k,M,N),j=Bu(this);(R||j)&&this._nativeAudioNode.disconnect(...U),this.context.state!=="closed"&&!j&&Bu(C)&&io(C)}catch(U){throw U.code===12?l():U}if(e(this,C,M,N,R)){const U=f([this],C);bm(U,r(R))}return C}const z=Pl(C);if(z.name==="playbackRate"&&z.maxValue===1024)throw u();try{this._nativeAudioNode.connect(z,M),(R||Bu(this))&&this._nativeAudioNode.disconnect(z,M)}catch(k){throw k.code===12?l():k}if(sA(this,C,M,R)){const k=f([this],C);bm(k,r(R))}}disconnect(C,M,N){let B;const R=g(this._context),z=x(R);if(C===void 0)B=aA(this,z);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw o();B=oA(this,z,C)}else{if(M!==void 0&&(M<0||M>=this.numberOfOutputs)||qu(C)&&N!==void 0&&(N<0||N>=C.numberOfInputs))throw o();if(B=lA(this,z,C,M,N),B.length===0)throw l()}for(const D of B){const k=f([this],D);bm(k,d)}}},uA=(n,e,s,r,o,l,u,d,f,h,g,p,y)=>(b,x,_,T=null,C=null)=>{const M=_.value,N=new _E(M),B=x?r(N):null,R={get defaultValue(){return M},get maxValue(){return T===null?_.maxValue:T},get minValue(){return C===null?_.minValue:C},get value(){return _.value},set value(z){_.value=z,R.setValueAtTime(z,b.context.currentTime)},cancelAndHoldAtTime(z){if(typeof _.cancelAndHoldAtTime=="function")B===null&&N.flush(b.context.currentTime),N.add(o(z)),_.cancelAndHoldAtTime(z);else{const D=Array.from(N).pop();B===null&&N.flush(b.context.currentTime),N.add(o(z));const k=Array.from(N).pop();_.cancelScheduledValues(z),D!==k&&k!==void 0&&(k.type==="exponentialRampToValue"?_.exponentialRampToValueAtTime(k.value,k.endTime):k.type==="linearRampToValue"?_.linearRampToValueAtTime(k.value,k.endTime):k.type==="setValue"?_.setValueAtTime(k.value,k.startTime):k.type==="setValueCurve"&&_.setValueCurveAtTime(k.values,k.startTime,k.duration))}return R},cancelScheduledValues(z){return B===null&&N.flush(b.context.currentTime),N.add(l(z)),_.cancelScheduledValues(z),R},exponentialRampToValueAtTime(z,D){if(z===0)throw new RangeError;if(!Number.isFinite(D)||D<0)throw new RangeError;const k=b.context.currentTime;return B===null&&N.flush(k),Array.from(N).length===0&&(N.add(h(M,k)),_.setValueAtTime(M,k)),N.add(u(z,D)),_.exponentialRampToValueAtTime(z,D),R},linearRampToValueAtTime(z,D){const k=b.context.currentTime;return B===null&&N.flush(k),Array.from(N).length===0&&(N.add(h(M,k)),_.setValueAtTime(M,k)),N.add(d(z,D)),_.linearRampToValueAtTime(z,D),R},setTargetAtTime(z,D,k){return B===null&&N.flush(b.context.currentTime),N.add(f(z,D,k)),_.setTargetAtTime(z,D,k),R},setValueAtTime(z,D){return B===null&&N.flush(b.context.currentTime),N.add(h(z,D)),_.setValueAtTime(z,D),R},setValueCurveAtTime(z,D,k){const W=z instanceof Float32Array?z:new Float32Array(z);if(p!==null&&p.name==="webkitAudioContext"){const U=D+k,j=b.context.sampleRate,H=Math.ceil(D*j),K=Math.floor(U*j),ee=K-H,ce=new Float32Array(ee);for(let I=0;I<ee;I+=1){const F=(W.length-1)/k*((H+I)/j-D),$=Math.floor(F),ne=Math.ceil(F);ce[I]=$===ne?W[$]:(1-(F-$))*W[$]+(1-(ne-F))*W[ne]}B===null&&N.flush(b.context.currentTime),N.add(g(ce,D,k)),_.setValueCurveAtTime(ce,D,k);const O=K/j;O<U&&y(R,ce[ce.length-1],O),y(R,W[W.length-1],U)}else B===null&&N.flush(b.context.currentTime),N.add(g(W,D,k)),_.setValueCurveAtTime(W,D,k);return R}};return s.set(R,_),e.set(R,b),n(R,B),R},dA=n=>({replay(e){for(const s of n)if(s.type==="exponentialRampToValue"){const{endTime:r,value:o}=s;e.exponentialRampToValueAtTime(o,r)}else if(s.type==="linearRampToValue"){const{endTime:r,value:o}=s;e.linearRampToValueAtTime(o,r)}else if(s.type==="setTarget"){const{startTime:r,target:o,timeConstant:l}=s;e.setTargetAtTime(o,r,l)}else if(s.type==="setValue"){const{startTime:r,value:o}=s;e.setValueAtTime(o,r)}else if(s.type==="setValueCurve"){const{duration:r,startTime:o,values:l}=s;e.setValueCurveAtTime(l,o,r)}else throw new Error("Can't apply an unknown automation.")}});class D_{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,s=null){return this._map.forEach((r,o)=>e.call(s,r,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const fA={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},hA=(n,e,s,r,o,l,u,d,f,h,g,p,y,b)=>class extends e{constructor(_,T,C){var M;const N=d(_),B=f(N),R=g({...fA,...C});y(R);const z=Wm.get(N),D=z==null?void 0:z.get(T),k=B||N.state!=="closed"?N:(M=u(N))!==null&&M!==void 0?M:N,W=o(k,B?null:_.baseLatency,h,T,D,R),U=B?r(T,R,D):null;super(_,!0,W,U);const j=[];W.parameters.forEach((K,ee)=>{const ce=s(this,B,K);j.push([ee,ce])}),this._nativeAudioWorkletNode=W,this._onprocessorerror=null,this._parameters=new D_(j),B&&n(N,this);const{activeInputs:H}=l(this);p(W,H)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(_){const T=typeof _=="function"?b(this,_):null;this._nativeAudioWorkletNode.onprocessorerror=T;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===T?_:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Yu(n,e,s,r,o){if(typeof n.copyFromChannel=="function")e[s].byteLength===0&&(e[s]=new Float32Array(128)),n.copyFromChannel(e[s],r,o);else{const l=n.getChannelData(r);if(e[s].byteLength===0)e[s]=l.slice(o,o+128);else{const u=new Float32Array(l.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[s].set(u)}}}const V_=(n,e,s,r,o)=>{typeof n.copyToChannel=="function"?e[s].byteLength!==0&&n.copyToChannel(e[s],r,o):e[s].byteLength!==0&&n.getChannelData(r).set(e[s],o)},Xu=(n,e)=>{const s=[];for(let r=0;r<n;r+=1){const o=[],l=typeof e=="number"?e:e[r];for(let u=0;u<l;u+=1)o.push(new Float32Array(128));s.push(o)}return s},mA=(n,e)=>{const s=fs(Gm,n),r=gt(e);return fs(s,r)},pA=async(n,e,s,r,o,l,u)=>{const d=e===null?Math.ceil(n.context.length/128)*128:e.length,f=r.channelCount*r.numberOfInputs,h=o.reduce((T,C)=>T+C,0),g=h===0?null:s.createBuffer(h,d,s.sampleRate);if(l===void 0)throw new Error("Missing the processor constructor.");const p=hn(n),y=await mA(s,n),b=Xu(r.numberOfInputs,r.channelCount),x=Xu(r.numberOfOutputs,o),_=Array.from(n.parameters.keys()).reduce((T,C)=>({...T,[C]:new Float32Array(128)}),{});for(let T=0;T<d;T+=128){if(r.numberOfInputs>0&&e!==null)for(let C=0;C<r.numberOfInputs;C+=1)for(let M=0;M<r.channelCount;M+=1)Yu(e,b[C],M,M,T);l.parameterDescriptors!==void 0&&e!==null&&l.parameterDescriptors.forEach(({name:C},M)=>{Yu(e,_,C,f+M,T)});for(let C=0;C<r.numberOfInputs;C+=1)for(let M=0;M<o[C];M+=1)x[C][M].byteLength===0&&(x[C][M]=new Float32Array(128));try{const C=b.map((N,B)=>p.activeInputs[B].size===0?[]:N),M=u(T/s.sampleRate,s.sampleRate,()=>y.process(C,x,_));if(g!==null)for(let N=0,B=0;N<r.numberOfOutputs;N+=1){for(let R=0;R<o[N];R+=1)V_(g,x[N],R,B+R,T);B+=o[N]}if(!M)break}catch(C){n.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return g},gA=(n,e,s,r,o,l,u,d,f,h,g,p,y,b,x,_)=>(T,C,M)=>{const N=new WeakMap;let B=null;const R=async(z,D)=>{let k=g(z),W=null;const U=cn(k,D),j=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(p===null){const H=j.reduce((O,I)=>O+I,0),K=o(D,{channelCount:Math.max(1,H),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,H)}),ee=[];for(let O=0;O<z.numberOfOutputs;O+=1)ee.push(r(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:j[O]}));const ce=u(D,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});ce.connect=e.bind(null,ee),ce.disconnect=f.bind(null,ee),W=[K,ee,ce]}else U||(k=new p(D,T));if(N.set(D,W===null?k:W[2]),W!==null){if(B===null){if(M===void 0)throw new Error("Missing the processor constructor.");if(y===null)throw new Error("Missing the native OfflineAudioContext constructor.");const I=z.channelCount*z.numberOfInputs,F=M.parameterDescriptors===void 0?0:M.parameterDescriptors.length,$=I+F;B=pA(z,$===0?null:await(async()=>{const V=new y($,Math.ceil(z.context.length/128)*128,D.sampleRate),G=[],X=[];for(let ue=0;ue<C.numberOfInputs;ue+=1)G.push(u(V,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),X.push(o(V,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const te=await Promise.all(Array.from(z.parameters.values()).map(async ue=>{const oe=l(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ue.value});return await b(V,ue,oe.offset),oe})),re=r(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,I+F)});for(let ue=0;ue<C.numberOfInputs;ue+=1){G[ue].connect(X[ue]);for(let oe=0;oe<C.channelCount;oe+=1)X[ue].connect(re,oe,ue*C.channelCount+oe)}for(const[ue,oe]of te.entries())oe.connect(re,0,I+ue),oe.start(0);return re.connect(V.destination),await Promise.all(G.map(ue=>x(z,V,ue))),_(V)})(),D,C,j,M,h)}const H=await B,K=s(D,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[ee,ce,O]=W;H!==null&&(K.buffer=H,K.start(0)),K.connect(ee);for(let I=0,F=0;I<z.numberOfOutputs;I+=1){const $=ce[I];for(let ne=0;ne<j[I];ne+=1)ee.connect($,F+ne,ne);F+=j[I]}return O}if(U)for(const[H,K]of z.parameters.entries())await n(D,K,k.parameters.get(H));else for(const[H,K]of z.parameters.entries())await b(D,K,k.parameters.get(H));return await x(z,D,k),k};return{render(z,D){d(D,z);const k=N.get(D);return k!==void 0?Promise.resolve(k):R(z,D)}}},vA=(n,e,s,r,o,l,u,d,f,h,g,p,y,b,x,_,T,C,M,N)=>class extends x{constructor(R,z){super(R,z),this._nativeContext=R,this._audioWorklet=n===void 0?void 0:{addModule:(D,k)=>n(this,D,k)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new o(this)}createBuffer(R,z,D){return new s({length:z,numberOfChannels:R,sampleRate:D})}createBufferSource(){return new r(this)}createChannelMerger(R=6){return new l(this,{numberOfInputs:R})}createChannelSplitter(R=6){return new u(this,{numberOfOutputs:R})}createConstantSource(){return new d(this)}createConvolver(){return new f(this)}createDelay(R=1){return new g(this,{maxDelayTime:R})}createDynamicsCompressor(){return new p(this)}createGain(){return new y(this)}createIIRFilter(R,z){return new b(this,{feedback:z,feedforward:R})}createOscillator(){return new _(this)}createPanner(){return new T(this)}createPeriodicWave(R,z,D={disableNormalization:!1}){return new C(this,{...D,imag:z,real:R})}createStereoPanner(){return new M(this)}createWaveShaper(){return new N(this)}decodeAudioData(R,z,D){return h(this._nativeContext,R).then(k=>(typeof z=="function"&&z(k),k),k=>{throw typeof D=="function"&&D(k),k})}},yA={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},bA=(n,e,s,r,o,l,u,d)=>class extends n{constructor(h,g){const p=l(h),y={...yA,...g},b=o(p,y),x=u(p),_=x?s():null;super(h,!1,b,_),this._Q=e(this,x,b.Q,fn,Mn),this._detune=e(this,x,b.detune,1200*Math.log2(fn),-1200*Math.log2(fn)),this._frequency=e(this,x,b.frequency,h.sampleRate/2,0),this._gain=e(this,x,b.gain,40*Math.log10(fn),Mn),this._nativeBiquadFilterNode=b,d(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(h){this._nativeBiquadFilterNode.type=h}getFrequencyResponse(h,g,p){try{this._nativeBiquadFilterNode.getFrequencyResponse(h,g,p)}catch(y){throw y.code===11?r():y}if(h.length!==g.length||g.length!==p.length)throw r()}},_A=(n,e,s,r,o)=>()=>{const l=new WeakMap,u=async(d,f)=>{let h=s(d);const g=cn(h,f);if(!g){const p={Q:h.Q.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,gain:h.gain.value,type:h.type};h=e(f,p)}return l.set(f,h),g?(await n(f,d.Q,h.Q),await n(f,d.detune,h.detune),await n(f,d.frequency,h.frequency),await n(f,d.gain,h.gain)):(await r(f,d.Q,h.Q),await r(f,d.detune,h.detune),await r(f,d.frequency,h.frequency),await r(f,d.gain,h.gain)),await o(d,f,h),h};return{render(d,f){const h=l.get(f);return h!==void 0?Promise.resolve(h):u(d,f)}}},wA=(n,e)=>(s,r)=>{const o=e.get(s);if(o!==void 0)return o;const l=n.get(s);if(l!==void 0)return l;try{const u=r();return u instanceof Promise?(n.set(s,u),u.catch(()=>!1).then(d=>(n.delete(s),e.set(s,d),d))):(e.set(s,u),u)}catch{return e.set(s,!1),!1}},xA={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},SA=(n,e,s,r,o)=>class extends n{constructor(u,d){const f=r(u),h={...xA,...d},g=s(f,h),p=o(f)?e():null;super(u,!1,g,p)}},TA=(n,e,s)=>()=>{const r=new WeakMap,o=async(l,u)=>{let d=e(l);if(!cn(d,u)){const h={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfInputs:d.numberOfInputs};d=n(u,h)}return r.set(u,d),await s(l,u,d),d};return{render(l,u){const d=r.get(u);return d!==void 0?Promise.resolve(d):o(l,u)}}},CA={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},EA=(n,e,s,r,o,l)=>class extends n{constructor(d,f){const h=r(d),g=l({...CA,...f}),p=s(h,g),y=o(h)?e():null;super(d,!1,p,y)}},AA=(n,e,s)=>()=>{const r=new WeakMap,o=async(l,u)=>{let d=e(l);if(!cn(d,u)){const h={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfOutputs:d.numberOfOutputs};d=n(u,h)}return r.set(u,d),await s(l,u,d),d};return{render(l,u){const d=r.get(u);return d!==void 0?Promise.resolve(d):o(l,u)}}},MA=n=>(e,s,r)=>n(s,e,r),OA=n=>(e,s,r=0,o=0)=>{const l=e[r];if(l===void 0)throw n();return Zu(s)?l.connect(s,0,o):l.connect(s,0)},NA=n=>(e,s)=>{const r=n(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(s),r.start(),()=>{r.stop(),r.disconnect(s)}},RA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},kA=(n,e,s,r,o,l,u)=>class extends n{constructor(f,h){const g=o(f),p={...RA,...h},y=r(g,p),b=l(g),x=b?s():null;super(f,!1,y,x),this._constantSourceNodeRenderer=x,this._nativeConstantSourceNode=y,this._offset=e(this,b,y.offset,fn,Mn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const h=typeof f=="function"?u(this,f):null;this._nativeConstantSourceNode.onended=h;const g=this._nativeConstantSourceNode.onended;this._onended=g!==null&&g===h?f:g}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){io(this);const h=()=>{this._nativeConstantSourceNode.removeEventListener("ended",h),fi(this)&&Gl(this)};this._nativeConstantSourceNode.addEventListener("ended",h)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},DA=(n,e,s,r,o)=>()=>{const l=new WeakMap;let u=null,d=null;const f=async(h,g)=>{let p=s(h);const y=cn(p,g);if(!y){const b={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,offset:p.offset.value};p=e(g,b),u!==null&&p.start(u),d!==null&&p.stop(d)}return l.set(g,p),y?await n(g,h.offset,p.offset):await r(g,h.offset,p.offset),await o(h,g,p),p};return{set start(h){u=h},set stop(h){d=h},render(h,g){const p=l.get(g);return p!==void 0?Promise.resolve(p):f(h,g)}}},VA=n=>e=>(n[0]=e,n[0]),zA={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},BA=(n,e,s,r,o,l)=>class extends n{constructor(d,f){const h=r(d),g={...zA,...f},p=s(h,g),b=o(h)?e():null;super(d,!1,p,b),this._isBufferNullified=!1,this._nativeConvolverNode=p,g.buffer!==null&&l(this,g.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(d){if(this._nativeConvolverNode.buffer=d,d===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,l(this,0)}else this._isBufferNullified=!1,l(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(d){this._nativeConvolverNode.normalize=d}},IA=(n,e,s)=>()=>{const r=new WeakMap,o=async(l,u)=>{let d=e(l);if(!cn(d,u)){const h={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,disableNormalization:!d.normalize};d=n(u,h)}return r.set(u,d),go(d)?await s(l,u,d.inputs[0]):await s(l,u,d),d};return{render(l,u){const d=r.get(u);return d!==void 0?Promise.resolve(d):o(l,u)}}},PA=(n,e)=>(s,r,o)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(s,r,o)}catch(l){throw l.name==="SyntaxError"?n():l}},FA=()=>new DOMException("","DataCloneError"),X1=n=>{const{port1:e,port2:s}=new MessageChannel;return new Promise(r=>{const o=()=>{s.onmessage=null,e.close(),s.close(),r()};s.onmessage=()=>o();try{e.postMessage(n,[n])}catch{}finally{o()}})},LA=(n,e,s,r,o,l,u,d,f,h,g)=>(p,y)=>{const b=u(p)?p:l(p);if(o.has(y)){const x=s();return Promise.reject(x)}try{o.add(y)}catch{}return e(f,()=>f(b))?b.decodeAudioData(y).then(x=>(X1(y).catch(()=>{}),e(d,()=>d(x))||g(x),n.add(x),x)):new Promise((x,_)=>{const T=async()=>{try{await X1(y)}catch{}},C=M=>{_(M),T()};try{b.decodeAudioData(y,M=>{typeof M.copyFromChannel!="function"&&(h(M),Tp(M)),n.add(M),T().then(()=>x(M))},M=>{C(M===null?r():M)})}catch(M){C(M)}})},jA=(n,e,s,r,o,l,u,d)=>(f,h)=>{const g=e.get(f);if(g===void 0)throw new Error("Missing the expected cycle count.");const p=l(f.context),y=d(p);if(g===h){if(e.delete(f),!y&&u(f)){const b=r(f),{outputs:x}=s(f);for(const _ of x)if(Yl(_)){const T=r(_[0]);n(b,T,_[1],_[2])}else{const T=o(_[0]);b.connect(T,_[1])}}}else e.set(f,g-h)},UA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},HA=(n,e,s,r,o,l,u)=>class extends n{constructor(f,h){const g=o(f),p={...UA,...h},y=r(g,p),b=l(g),x=b?s(p.maxDelayTime):null;super(f,!1,y,x),this._delayTime=e(this,b,y.delayTime),u(this,p.maxDelayTime)}get delayTime(){return this._delayTime}},qA=(n,e,s,r,o)=>l=>{const u=new WeakMap,d=async(f,h)=>{let g=s(f);const p=cn(g,h);if(!p){const y={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,delayTime:g.delayTime.value,maxDelayTime:l};g=e(h,y)}return u.set(h,g),p?await n(h,f.delayTime,g.delayTime):await r(h,f.delayTime,g.delayTime),await o(f,h,g),g};return{render(f,h){const g=u.get(h);return g!==void 0?Promise.resolve(g):d(f,h)}}},WA=n=>(e,s,r,o)=>n(e[o],l=>l[0]===s&&l[1]===r),GA=n=>(e,s)=>{n(e).delete(s)},ZA=n=>"delayTime"in n,YA=(n,e,s)=>function r(o,l){const u=qu(l)?l:s(n,l);if(ZA(u))return[];if(o[0]===u)return[o];if(o.includes(u))return[];const{outputs:d}=e(u);return Array.from(d).map(f=>r([...o,u],f[0])).reduce((f,h)=>f.concat(h),[])},_u=(n,e,s)=>{const r=e[s];if(r===void 0)throw n();return r},XA=n=>(e,s=void 0,r=void 0,o=0)=>s===void 0?e.forEach(l=>l.disconnect()):typeof s=="number"?_u(n,e,s).disconnect():Zu(s)?r===void 0?e.forEach(l=>l.disconnect(s)):o===void 0?_u(n,e,r).disconnect(s,0):_u(n,e,r).disconnect(s,0,o):r===void 0?e.forEach(l=>l.disconnect(s)):_u(n,e,r).disconnect(s,0),QA={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},$A=(n,e,s,r,o,l,u,d)=>class extends n{constructor(h,g){const p=l(h),y={...QA,...g},b=r(p,y),x=u(p),_=x?s():null;super(h,!1,b,_),this._attack=e(this,x,b.attack),this._knee=e(this,x,b.knee),this._nativeDynamicsCompressorNode=b,this._ratio=e(this,x,b.ratio),this._release=e(this,x,b.release),this._threshold=e(this,x,b.threshold),d(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(h){const g=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=h,h>2)throw this._nativeDynamicsCompressorNode.channelCount=g,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(h){const g=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=h,h==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=g,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},KA=(n,e,s,r,o)=>()=>{const l=new WeakMap,u=async(d,f)=>{let h=s(d);const g=cn(h,f);if(!g){const p={attack:h.attack.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,knee:h.knee.value,ratio:h.ratio.value,release:h.release.value,threshold:h.threshold.value};h=e(f,p)}return l.set(f,h),g?(await n(f,d.attack,h.attack),await n(f,d.knee,h.knee),await n(f,d.ratio,h.ratio),await n(f,d.release,h.release),await n(f,d.threshold,h.threshold)):(await r(f,d.attack,h.attack),await r(f,d.knee,h.knee),await r(f,d.ratio,h.ratio),await r(f,d.release,h.release),await r(f,d.threshold,h.threshold)),await o(d,f,h),h};return{render(d,f){const h=l.get(f);return h!==void 0?Promise.resolve(h):u(d,f)}}},JA=()=>new DOMException("","EncodingError"),e4=n=>e=>new Promise((s,r)=>{if(n===null){r(new SyntaxError);return}const o=n.document.head;if(o===null)r(new SyntaxError);else{const l=n.document.createElement("script"),u=new Blob([e],{type:"application/javascript"}),d=URL.createObjectURL(u),f=n.onerror,h=()=>{n.onerror=f,URL.revokeObjectURL(d)};n.onerror=(g,p,y,b,x)=>{if(p===d||p===n.location.href&&y===1&&b===1)return h(),r(x),!1;if(f!==null)return f(g,p,y,b,x)},l.onerror=()=>{h(),r(new SyntaxError)},l.onload=()=>{h(),s()},l.src=d,l.type="module",o.appendChild(l)}}),t4=n=>class{constructor(s){this._nativeEventTarget=s,this._listeners=new WeakMap}addEventListener(s,r,o){if(r!==null){let l=this._listeners.get(r);l===void 0&&(l=n(this,r),typeof r=="function"&&this._listeners.set(r,l)),this._nativeEventTarget.addEventListener(s,l,o)}}dispatchEvent(s){return this._nativeEventTarget.dispatchEvent(s)}removeEventListener(s,r,o){const l=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(s,l===void 0?null:l,o)}},n4=n=>(e,s,r)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get(){return Math.round(e*s)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{n!==null&&(delete n.currentFrame,delete n.currentTime)}},s4=n=>async e=>{try{const s=await fetch(e);if(s.ok)return[await s.text(),s.url]}catch{}throw n()},i4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},r4=(n,e,s,r,o,l)=>class extends n{constructor(d,f){const h=o(d),g={...i4,...f},p=r(h,g),y=l(h),b=y?s():null;super(d,!1,p,b),this._gain=e(this,y,p.gain,fn,Mn)}get gain(){return this._gain}},a4=(n,e,s,r,o)=>()=>{const l=new WeakMap,u=async(d,f)=>{let h=s(d);const g=cn(h,f);if(!g){const p={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:h.gain.value};h=e(f,p)}return l.set(f,h),g?await n(f,d.gain,h.gain):await r(f,d.gain,h.gain),await o(d,f,h),h};return{render(d,f){const h=l.get(f);return h!==void 0?Promise.resolve(h):u(d,f)}}},o4=(n,e)=>s=>e(n,s),l4=n=>e=>{const s=n(e);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return s.renderer},c4=n=>e=>{var s;return(s=n.get(e))!==null&&s!==void 0?s:0},u4=n=>e=>{const s=n(e);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return s.renderer},d4=n=>e=>n.get(e),Xt=()=>new DOMException("","InvalidStateError"),f4=n=>e=>{const s=n.get(e);if(s===void 0)throw Xt();return s},h4=(n,e)=>s=>{let r=n.get(s);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),n.set(s,r),r},m4=n=>e=>{const s=n.get(e);if(s===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return s},fd=()=>new DOMException("","InvalidAccessError"),p4=n=>{n.getFrequencyResponse=(e=>(s,r,o)=>{if(s.length!==r.length||r.length!==o.length)throw fd();return e.call(n,s,r,o)})(n.getFrequencyResponse)},g4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},v4=(n,e,s,r,o,l)=>class extends n{constructor(d,f){const h=r(d),g=o(h),p={...g4,...f},y=e(h,g?null:d.baseLatency,p),b=g?s(p.feedback,p.feedforward):null;super(d,!1,y,b),p4(y),this._nativeIIRFilterNode=y,l(this,1)}getFrequencyResponse(d,f,h){return this._nativeIIRFilterNode.getFrequencyResponse(d,f,h)}},z_=(n,e,s,r,o,l,u,d,f,h,g)=>{const p=h.length;let y=d;for(let b=0;b<p;b+=1){let x=s[0]*h[b];for(let _=1;_<o;_+=1){const T=y-_&f-1;x+=s[_]*l[T],x-=n[_]*u[T]}for(let _=o;_<r;_+=1)x+=s[_]*l[y-_&f-1];for(let _=o;_<e;_+=1)x-=n[_]*u[y-_&f-1];l[y]=h[b],u[y]=x,y=y+1&f-1,g[b]=x}return y},y4=(n,e,s,r)=>{const o=s instanceof Float64Array?s:new Float64Array(s),l=r instanceof Float64Array?r:new Float64Array(r),u=o.length,d=l.length,f=Math.min(u,d);if(o[0]!==1){for(let x=0;x<u;x+=1)l[x]/=o[0];for(let x=1;x<d;x+=1)o[x]/=o[0]}const h=32,g=new Float32Array(h),p=new Float32Array(h),y=e.createBuffer(n.numberOfChannels,n.length,n.sampleRate),b=n.numberOfChannels;for(let x=0;x<b;x+=1){const _=n.getChannelData(x),T=y.getChannelData(x);g.fill(0),p.fill(0),z_(o,u,l,d,f,g,p,0,h,_,T)}return y},b4=(n,e,s,r,o)=>(l,u)=>{const d=new WeakMap;let f=null;const h=async(g,p)=>{let y=null,b=e(g);const x=cn(b,p);if(p.createIIRFilter===void 0?y=n(p,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):x||(b=p.createIIRFilter(u,l)),d.set(p,y===null?b:y),y!==null){if(f===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const T=new s(g.context.destination.channelCount,g.context.length,p.sampleRate);f=(async()=>{await r(g,T,T.destination);const C=await o(T);return y4(C,p,l,u)})()}const _=await f;return y.buffer=_,y.start(0),y}return await r(g,p,b),b};return{render(g,p){const y=d.get(p);return y!==void 0?Promise.resolve(y):h(g,p)}}},_4=(n,e,s,r,o,l)=>u=>(d,f)=>{const h=n.get(d);if(h===void 0){if(!u&&l(d)){const g=r(d),{outputs:p}=s(d);for(const y of p)if(Yl(y)){const b=r(y[0]);e(g,b,y[1],y[2])}else{const b=o(y[0]);g.disconnect(b,y[1])}}n.set(d,f)}else n.set(d,h+f)},w4=(n,e)=>s=>{const r=n.get(s);return e(r)||e(s)},x4=(n,e)=>s=>n.has(s)||e(s),S4=(n,e)=>s=>n.has(s)||e(s),T4=(n,e)=>s=>{const r=n.get(s);return e(r)||e(s)},C4=n=>e=>n!==null&&e instanceof n,E4=n=>e=>n!==null&&typeof n.AudioNode=="function"&&e instanceof n.AudioNode,A4=n=>e=>n!==null&&typeof n.AudioParam=="function"&&e instanceof n.AudioParam,M4=(n,e)=>s=>n(s)||e(s),O4=n=>e=>n!==null&&e instanceof n,N4=n=>n!==null&&n.isSecureContext,R4=(n,e,s,r)=>class extends n{constructor(l,u){const d=s(l),f=e(d,u);if(r(d))throw TypeError();super(l,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},k4={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},D4=(n,e,s,r)=>class extends n{constructor(l,u){const d=s(l);if(r(d))throw new TypeError;const f={...k4,...u},h=e(d,f);super(l,!1,h,null),this._nativeMediaStreamAudioDestinationNode=h}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},V4=(n,e,s,r)=>class extends n{constructor(l,u){const d=s(l),f=e(d,u);if(r(d))throw new TypeError;super(l,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},z4=(n,e,s)=>class extends n{constructor(o,l){const u=s(o),d=e(u,l);super(o,!0,d,null)}},B4=(n,e,s,r,o,l)=>class extends s{constructor(d,f){super(d),this._nativeContext=d,ud.set(this,d),r(d)&&o.set(d,new Set),this._destination=new n(this,f),this._listener=e(this,d),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(d){const f=typeof d=="function"?l(this,d):null;this._nativeContext.onstatechange=f;const h=this._nativeContext.onstatechange;this._onstatechange=h!==null&&h===f?d:h}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Fl=n=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const s=n.decodeAudioData(e.buffer,()=>{});return s===void 0?!1:(s.catch(()=>{}),!0)}catch{}return!1},I4=(n,e)=>(s,r,o)=>{const l=new Set;return s.connect=(u=>(d,f=0,h=0)=>{const g=l.size===0;if(e(d))return u.call(s,d,f,h),n(l,[d,f,h],p=>p[0]===d&&p[1]===f&&p[2]===h,!0),g&&r(),d;u.call(s,d,f),n(l,[d,f],p=>p[0]===d&&p[1]===f,!0),g&&r()})(s.connect),s.disconnect=(u=>(d,f,h)=>{const g=l.size>0;if(d===void 0)u.apply(s),l.clear();else if(typeof d=="number"){u.call(s,d);for(const y of l)y[1]===d&&l.delete(y)}else{e(d)?u.call(s,d,f,h):u.call(s,d,f);for(const y of l)y[0]===d&&(f===void 0||y[1]===f)&&(h===void 0||y[2]===h)&&l.delete(y)}const p=l.size===0;g&&p&&o()})(s.disconnect),s},xt=(n,e,s)=>{const r=e[s];r!==void 0&&r!==n[s]&&(n[s]=r)},Ht=(n,e)=>{xt(n,e,"channelCount"),xt(n,e,"channelCountMode"),xt(n,e,"channelInterpretation")},Q1=n=>typeof n.getFloatTimeDomainData=="function",P4=n=>{n.getFloatTimeDomainData=e=>{const s=new Uint8Array(e.length);n.getByteTimeDomainData(s);const r=Math.max(s.length,n.fftSize);for(let o=0;o<r;o+=1)e[o]=(s[o]-128)*.0078125;return e}},F4=(n,e)=>(s,r)=>{const o=s.createAnalyser();if(Ht(o,r),!(r.maxDecibels>r.minDecibels))throw e();return xt(o,r,"fftSize"),xt(o,r,"maxDecibels"),xt(o,r,"minDecibels"),xt(o,r,"smoothingTimeConstant"),n(Q1,()=>Q1(o))||P4(o),o},L4=n=>n===null?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null,Mt=(n,e,s)=>{const r=e[s];r!==void 0&&r!==n[s].value&&(n[s].value=r)},j4=n=>{n.start=(e=>{let s=!1;return(r=0,o=0,l)=>{if(s)throw Xt();e.call(n,r,o,l),s=!0}})(n.start)},Ap=n=>{n.start=(e=>(s=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||s<0)throw new RangeError("The parameters can't be negative.");e.call(n,s,r,o)})(n.start)},Mp=n=>{n.stop=(e=>(s=0)=>{if(s<0)throw new RangeError("The parameter can't be negative.");e.call(n,s)})(n.stop)},U4=(n,e,s,r,o,l,u,d,f,h,g)=>(p,y)=>{const b=p.createBufferSource();return Ht(b,y),Mt(b,y,"playbackRate"),xt(b,y,"buffer"),xt(b,y,"loop"),xt(b,y,"loopEnd"),xt(b,y,"loopStart"),e(s,()=>s(p))||j4(b),e(r,()=>r(p))||f(b),e(o,()=>o(p))||h(b,p),e(l,()=>l(p))||Ap(b),e(u,()=>u(p))||g(b,p),e(d,()=>d(p))||Mp(b),n(p,b),b},H4=n=>n===null?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null,q4=(n,e)=>(s,r,o)=>{const l=s.destination;if(l.channelCount!==r)try{l.channelCount=r}catch{}o&&l.channelCountMode!=="explicit"&&(l.channelCountMode="explicit"),l.maxChannelCount===0&&Object.defineProperty(l,"maxChannelCount",{value:r});const u=n(s,{channelCount:r,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:1});return e(u,"channelCount",d=>()=>d.call(u),d=>f=>{d.call(u,f);try{l.channelCount=f}catch(h){if(f>l.maxChannelCount)throw h}}),e(u,"channelCountMode",d=>()=>d.call(u),d=>f=>{d.call(u,f),l.channelCountMode=f}),e(u,"channelInterpretation",d=>()=>d.call(u),d=>f=>{d.call(u,f),l.channelInterpretation=f}),Object.defineProperty(u,"maxChannelCount",{get:()=>l.maxChannelCount}),u.connect(l),u},W4=n=>n===null?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null,G4=n=>{const{port1:e}=new MessageChannel;try{e.postMessage(n)}finally{e.close()}},Z4=(n,e,s,r,o)=>(l,u,d,f,h,g)=>{if(d!==null)try{const p=new d(l,f,g),y=new Map;let b=null;if(Object.defineProperties(p,{channelCount:{get:()=>g.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>b,set:x=>{typeof b=="function"&&p.removeEventListener("processorerror",b),b=typeof x=="function"?x:null,typeof b=="function"&&p.addEventListener("processorerror",b)}}}),p.addEventListener=(x=>(..._)=>{if(_[0]==="processorerror"){const T=typeof _[1]=="function"?_[1]:typeof _[1]=="object"&&_[1]!==null&&typeof _[1].handleEvent=="function"?_[1].handleEvent:null;if(T!==null){const C=y.get(_[1]);C!==void 0?_[1]=C:(_[1]=M=>{M.type==="error"?(Object.defineProperties(M,{type:{value:"processorerror"}}),T(M)):T(new ErrorEvent(_[0],{...M}))},y.set(T,_[1]))}}return x.call(p,"error",_[1],_[2]),x.call(p,..._)})(p.addEventListener),p.removeEventListener=(x=>(..._)=>{if(_[0]==="processorerror"){const T=y.get(_[1]);T!==void 0&&(y.delete(_[1]),_[1]=T)}return x.call(p,"error",_[1],_[2]),x.call(p,_[0],_[1],_[2])})(p.removeEventListener),g.numberOfOutputs!==0){const x=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return p.connect(x).connect(l.destination),o(p,()=>x.disconnect(),()=>x.connect(l.destination))}return p}catch(p){throw p.code===11?r():p}if(h===void 0)throw r();return G4(g),e(l,u,h,g)},B_=(n,e)=>n===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*e))))),Y4=n=>new Promise((e,s)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:l})=>{r.close(),o.close(),e(l)},r.onmessageerror=({data:l})=>{r.close(),o.close(),s(l)},o.postMessage(n)}),X4=async(n,e)=>{const s=await Y4(e);return new n(s)},Q4=(n,e,s,r)=>{let o=Gm.get(n);o===void 0&&(o=new WeakMap,Gm.set(n,o));const l=X4(s,r);return o.set(e,l),l},$4=(n,e,s,r,o,l,u,d,f,h,g,p,y)=>(b,x,_,T)=>{if(T.numberOfInputs===0&&T.numberOfOutputs===0)throw f();const C=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(C.some(he=>he<1))throw f();if(C.length!==T.numberOfOutputs)throw e();if(T.channelCountMode!=="explicit")throw f();const M=T.channelCount*T.numberOfInputs,N=C.reduce((he,be)=>he+be,0),B=_.parameterDescriptors===void 0?0:_.parameterDescriptors.length;if(M+B>6||N>6)throw f();const R=new MessageChannel,z=[],D=[];for(let he=0;he<T.numberOfInputs;he+=1)z.push(u(b,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),D.push(o(b,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const k=[];if(_.parameterDescriptors!==void 0)for(const{defaultValue:he,maxValue:be,minValue:Ze,name:$e}of _.parameterDescriptors){const Me=l(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:T.parameterData[$e]!==void 0?T.parameterData[$e]:he===void 0?0:he});Object.defineProperties(Me.offset,{defaultValue:{get:()=>he===void 0?0:he},maxValue:{get:()=>be===void 0?fn:be},minValue:{get:()=>Ze===void 0?Mn:Ze}}),k.push(Me)}const W=r(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,M+B)}),U=B_(x,b.sampleRate),j=d(b,U,M+B,Math.max(1,N)),H=o(b,{channelCount:Math.max(1,N),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,N)}),K=[];for(let he=0;he<T.numberOfOutputs;he+=1)K.push(r(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[he]}));for(let he=0;he<T.numberOfInputs;he+=1){z[he].connect(D[he]);for(let be=0;be<T.channelCount;be+=1)D[he].connect(W,be,he*T.channelCount+be)}const ee=new D_(_.parameterDescriptors===void 0?[]:_.parameterDescriptors.map(({name:he},be)=>{const Ze=k[be];return Ze.connect(W,0,M+be),Ze.start(0),[he,Ze.offset]}));W.connect(j);let ce=T.channelInterpretation,O=null;const I=T.numberOfOutputs===0?[j]:K,F={get bufferSize(){return U},get channelCount(){return T.channelCount},set channelCount(he){throw s()},get channelCountMode(){return T.channelCountMode},set channelCountMode(he){throw s()},get channelInterpretation(){return ce},set channelInterpretation(he){for(const be of z)be.channelInterpretation=he;ce=he},get context(){return j.context},get inputs(){return z},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get onprocessorerror(){return O},set onprocessorerror(he){typeof O=="function"&&F.removeEventListener("processorerror",O),O=typeof he=="function"?he:null,typeof O=="function"&&F.addEventListener("processorerror",O)},get parameters(){return ee},get port(){return R.port2},addEventListener(...he){return j.addEventListener(he[0],he[1],he[2])},connect:n.bind(null,I),disconnect:h.bind(null,I),dispatchEvent(...he){return j.dispatchEvent(he[0])},removeEventListener(...he){return j.removeEventListener(he[0],he[1],he[2])}},$=new Map;R.port1.addEventListener=(he=>(...be)=>{if(be[0]==="message"){const Ze=typeof be[1]=="function"?be[1]:typeof be[1]=="object"&&be[1]!==null&&typeof be[1].handleEvent=="function"?be[1].handleEvent:null;if(Ze!==null){const $e=$.get(be[1]);$e!==void 0?be[1]=$e:(be[1]=Me=>{g(b.currentTime,b.sampleRate,()=>Ze(Me))},$.set(Ze,be[1]))}}return he.call(R.port1,be[0],be[1],be[2])})(R.port1.addEventListener),R.port1.removeEventListener=(he=>(...be)=>{if(be[0]==="message"){const Ze=$.get(be[1]);Ze!==void 0&&($.delete(be[1]),be[1]=Ze)}return he.call(R.port1,be[0],be[1],be[2])})(R.port1.removeEventListener);let ne=null;Object.defineProperty(R.port1,"onmessage",{get:()=>ne,set:he=>{typeof ne=="function"&&R.port1.removeEventListener("message",ne),ne=typeof he=="function"?he:null,typeof ne=="function"&&(R.port1.addEventListener("message",ne),R.port1.start())}}),_.prototype.port=R.port1;let V=null;Q4(b,F,_,T).then(he=>V=he);const X=Xu(T.numberOfInputs,T.channelCount),te=Xu(T.numberOfOutputs,C),re=_.parameterDescriptors===void 0?[]:_.parameterDescriptors.reduce((he,{name:be})=>({...he,[be]:new Float32Array(128)}),{});let ue=!0;const oe=()=>{T.numberOfOutputs>0&&j.disconnect(H);for(let he=0,be=0;he<T.numberOfOutputs;he+=1){const Ze=K[he];for(let $e=0;$e<C[he];$e+=1)H.disconnect(Ze,be+$e,$e);be+=C[he]}},ie=new Map;j.onaudioprocess=({inputBuffer:he,outputBuffer:be})=>{if(V!==null){const Ze=p(F);for(let $e=0;$e<U;$e+=128){for(let Me=0;Me<T.numberOfInputs;Me+=1)for(let st=0;st<T.channelCount;st+=1)Yu(he,X[Me],st,st,$e);_.parameterDescriptors!==void 0&&_.parameterDescriptors.forEach(({name:Me},st)=>{Yu(he,re,Me,M+st,$e)});for(let Me=0;Me<T.numberOfInputs;Me+=1)for(let st=0;st<C[Me];st+=1)te[Me][st].byteLength===0&&(te[Me][st]=new Float32Array(128));try{const Me=X.map((qt,yt)=>{if(Ze[yt].size>0)return ie.set(yt,U/128),qt;const Lt=ie.get(yt);return Lt===void 0?[]:(qt.every(ko=>ko.every(Hs=>Hs===0))&&(Lt===1?ie.delete(yt):ie.set(yt,Lt-1)),qt)});ue=g(b.currentTime+$e/b.sampleRate,b.sampleRate,()=>V.process(Me,te,re));for(let qt=0,yt=0;qt<T.numberOfOutputs;qt+=1){for(let pn=0;pn<C[qt];pn+=1)V_(be,te[qt],pn,yt+pn,$e);yt+=C[qt]}}catch(Me){ue=!1,F.dispatchEvent(new ErrorEvent("processorerror",{colno:Me.colno,filename:Me.filename,lineno:Me.lineno,message:Me.message}))}if(!ue){for(let Me=0;Me<T.numberOfInputs;Me+=1){z[Me].disconnect(D[Me]);for(let st=0;st<T.channelCount;st+=1)D[$e].disconnect(W,st,Me*T.channelCount+st)}if(_.parameterDescriptors!==void 0){const Me=_.parameterDescriptors.length;for(let st=0;st<Me;st+=1){const qt=k[st];qt.disconnect(W,0,M+st),qt.stop()}}W.disconnect(j),j.onaudioprocess=null,we?oe():Ce();break}}}};let we=!1;const Ae=u(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Oe=()=>j.connect(Ae).connect(b.destination),Ce=()=>{j.disconnect(Ae),Ae.disconnect()},Dt=()=>{if(ue){Ce(),T.numberOfOutputs>0&&j.connect(H);for(let he=0,be=0;he<T.numberOfOutputs;he+=1){const Ze=K[he];for(let $e=0;$e<C[he];$e+=1)H.connect(Ze,be+$e,$e);be+=C[he]}}we=!0},vt=()=>{ue&&(Oe(),oe()),we=!1};return Oe(),y(F,Dt,vt)},I_=(n,e)=>{const s=n.createBiquadFilter();return Ht(s,e),Mt(s,e,"Q"),Mt(s,e,"detune"),Mt(s,e,"frequency"),Mt(s,e,"gain"),xt(s,e,"type"),s},K4=(n,e)=>(s,r)=>{const o=s.createChannelMerger(r.numberOfInputs);return n!==null&&n.name==="webkitAudioContext"&&e(s,o),Ht(o,r),o},J4=n=>{const e=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>e,set:s=>{if(s!==e)throw Xt()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:s=>{if(s!=="explicit")throw Xt()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:s=>{if(s!=="discrete")throw Xt()}})},Xl=(n,e)=>{const s=n.createChannelSplitter(e.numberOfOutputs);return Ht(s,e),J4(s),s},e8=(n,e,s,r,o)=>(l,u)=>{if(l.createConstantSource===void 0)return s(l,u);const d=l.createConstantSource();return Ht(d,u),Mt(d,u,"offset"),e(r,()=>r(l))||Ap(d),e(o,()=>o(l))||Mp(d),n(l,d),d},vo=(n,e)=>(n.connect=e.connect.bind(e),n.disconnect=e.disconnect.bind(e),n),t8=(n,e,s,r)=>(o,{offset:l,...u})=>{const d=o.createBuffer(1,2,44100),f=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),h=s(o,{...u,gain:l}),g=d.getChannelData(0);g[0]=1,g[1]=1,f.buffer=d,f.loop=!0;const p={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(x){h.channelCount=x},get channelCountMode(){return h.channelCountMode},set channelCountMode(x){h.channelCountMode=x},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(x){h.channelInterpretation=x},get context(){return h.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get offset(){return h.gain},get onended(){return f.onended},set onended(x){f.onended=x},addEventListener(...x){return f.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return f.dispatchEvent(x[0])},removeEventListener(...x){return f.removeEventListener(x[0],x[1],x[2])},start(x=0){f.start.call(f,x)},stop(x=0){f.stop.call(f,x)}},y=()=>f.connect(h),b=()=>f.disconnect(h);return n(o,f),r(vo(p,h),y,b)},n8=(n,e)=>(s,r)=>{const o=s.createConvolver();if(Ht(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),xt(o,r,"buffer"),r.channelCount>2||(e(o,"channelCount",l=>()=>l.call(o),l=>u=>{if(u>2)throw n();return l.call(o,u)}),r.channelCountMode==="max"))throw n();return e(o,"channelCountMode",l=>()=>l.call(o),l=>u=>{if(u==="max")throw n();return l.call(o,u)}),o},P_=(n,e)=>{const s=n.createDelay(e.maxDelayTime);return Ht(s,e),Mt(s,e,"delayTime"),s},s8=n=>(e,s)=>{const r=e.createDynamicsCompressor();if(Ht(r,s),s.channelCount>2||s.channelCountMode==="max")throw n();return Mt(r,s,"attack"),Mt(r,s,"knee"),Mt(r,s,"ratio"),Mt(r,s,"release"),Mt(r,s,"threshold"),r},Nn=(n,e)=>{const s=n.createGain();return Ht(s,e),Mt(s,e,"gain"),s},i8=n=>(e,s,r)=>{if(e.createIIRFilter===void 0)return n(e,s,r);const o=e.createIIRFilter(r.feedforward,r.feedback);return Ht(o,r),o};function r8(n,e){const s=e[0]*e[0]+e[1]*e[1];return[(n[0]*e[0]+n[1]*e[1])/s,(n[1]*e[0]-n[0]*e[1])/s]}function a8(n,e){return[n[0]*e[0]-n[1]*e[1],n[0]*e[1]+n[1]*e[0]]}function $1(n,e){let s=[0,0];for(let r=n.length-1;r>=0;r-=1)s=a8(s,e),s[0]+=n[r];return s}const o8=(n,e,s,r)=>(o,l,{channelCount:u,channelCountMode:d,channelInterpretation:f,feedback:h,feedforward:g})=>{const p=B_(l,o.sampleRate),y=h instanceof Float64Array?h:new Float64Array(h),b=g instanceof Float64Array?g:new Float64Array(g),x=y.length,_=b.length,T=Math.min(x,_);if(x===0||x>20)throw r();if(y[0]===0)throw e();if(_===0||_>20)throw r();if(b[0]===0)throw e();if(y[0]!==1){for(let k=0;k<_;k+=1)b[k]/=y[0];for(let k=1;k<x;k+=1)y[k]/=y[0]}const C=s(o,p,u,u);C.channelCount=u,C.channelCountMode=d,C.channelInterpretation=f;const M=32,N=[],B=[],R=[];for(let k=0;k<u;k+=1){N.push(0);const W=new Float32Array(M),U=new Float32Array(M);W.fill(0),U.fill(0),B.push(W),R.push(U)}C.onaudioprocess=k=>{const W=k.inputBuffer,U=k.outputBuffer,j=W.numberOfChannels;for(let H=0;H<j;H+=1){const K=W.getChannelData(H),ee=U.getChannelData(H);N[H]=z_(y,x,b,_,T,B[H],R[H],N[H],M,K,ee)}};const z=o.sampleRate/2;return vo({get bufferSize(){return p},get channelCount(){return C.channelCount},set channelCount(k){C.channelCount=k},get channelCountMode(){return C.channelCountMode},set channelCountMode(k){C.channelCountMode=k},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(k){C.channelInterpretation=k},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...k){return C.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return C.dispatchEvent(k[0])},getFrequencyResponse(k,W,U){if(k.length!==W.length||W.length!==U.length)throw n();const j=k.length;for(let H=0;H<j;H+=1){const K=-Math.PI*(k[H]/z),ee=[Math.cos(K),Math.sin(K)],ce=$1(b,ee),O=$1(y,ee),I=r8(ce,O);W[H]=Math.sqrt(I[0]*I[0]+I[1]*I[1]),U[H]=Math.atan2(I[1],I[0])}},removeEventListener(...k){return C.removeEventListener(k[0],k[1],k[2])}},C)},l8=(n,e)=>n.createMediaElementSource(e.mediaElement),c8=(n,e)=>{const s=n.createMediaStreamDestination();return Ht(s,e),s.numberOfOutputs===1&&Object.defineProperty(s,"numberOfOutputs",{get:()=>0}),s},u8=(n,{mediaStream:e})=>{const s=e.getAudioTracks();s.sort((l,u)=>l.id<u.id?-1:l.id>u.id?1:0);const r=s.slice(0,1),o=n.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:e}),o},d8=(n,e)=>(s,{mediaStreamTrack:r})=>{if(typeof s.createMediaStreamTrackSource=="function")return s.createMediaStreamTrackSource(r);const o=new MediaStream([r]),l=s.createMediaStreamSource(o);if(r.kind!=="audio")throw n();if(e(s))throw new TypeError;return l},f8=n=>n===null?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null,h8=(n,e,s,r,o,l)=>(u,d)=>{const f=u.createOscillator();return Ht(f,d),Mt(f,d,"detune"),Mt(f,d,"frequency"),d.periodicWave!==void 0?f.setPeriodicWave(d.periodicWave):xt(f,d,"type"),e(s,()=>s(u))||Ap(f),e(r,()=>r(u))||l(f,u),e(o,()=>o(u))||Mp(f),n(u,f),f},m8=n=>(e,s)=>{const r=e.createPanner();return r.orientationX===void 0?n(e,s):(Ht(r,s),Mt(r,s,"orientationX"),Mt(r,s,"orientationY"),Mt(r,s,"orientationZ"),Mt(r,s,"positionX"),Mt(r,s,"positionY"),Mt(r,s,"positionZ"),xt(r,s,"coneInnerAngle"),xt(r,s,"coneOuterAngle"),xt(r,s,"coneOuterGain"),xt(r,s,"distanceModel"),xt(r,s,"maxDistance"),xt(r,s,"panningModel"),xt(r,s,"refDistance"),xt(r,s,"rolloffFactor"),r)},p8=(n,e,s,r,o,l,u,d,f,h)=>(g,{coneInnerAngle:p,coneOuterAngle:y,coneOuterGain:b,distanceModel:x,maxDistance:_,orientationX:T,orientationY:C,orientationZ:M,panningModel:N,positionX:B,positionY:R,positionZ:z,refDistance:D,rolloffFactor:k,...W})=>{const U=g.createPanner();if(W.channelCount>2||W.channelCountMode==="max")throw u();Ht(U,W);const j={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},H=s(g,{...j,channelInterpretation:"speakers",numberOfInputs:6}),K=r(g,{...W,gain:1}),ee=r(g,{...j,gain:1}),ce=r(g,{...j,gain:0}),O=r(g,{...j,gain:0}),I=r(g,{...j,gain:0}),F=r(g,{...j,gain:0}),$=r(g,{...j,gain:0}),ne=o(g,256,6,1),V=l(g,{...j,curve:new Float32Array([1,1]),oversample:"none"});let G=[T,C,M],X=[B,R,z];const te=new Float32Array(1);ne.onaudioprocess=({inputBuffer:ie})=>{const we=[f(ie,te,0),f(ie,te,1),f(ie,te,2)];we.some((Oe,Ce)=>Oe!==G[Ce])&&(U.setOrientation(...we),G=we);const Ae=[f(ie,te,3),f(ie,te,4),f(ie,te,5)];Ae.some((Oe,Ce)=>Oe!==X[Ce])&&(U.setPosition(...Ae),X=Ae)},Object.defineProperty(ce.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0});const re={get bufferSize(){},get channelCount(){return U.channelCount},set channelCount(ie){if(ie>2)throw u();K.channelCount=ie,U.channelCount=ie},get channelCountMode(){return U.channelCountMode},set channelCountMode(ie){if(ie==="max")throw u();K.channelCountMode=ie,U.channelCountMode=ie},get channelInterpretation(){return U.channelInterpretation},set channelInterpretation(ie){K.channelInterpretation=ie,U.channelInterpretation=ie},get coneInnerAngle(){return U.coneInnerAngle},set coneInnerAngle(ie){U.coneInnerAngle=ie},get coneOuterAngle(){return U.coneOuterAngle},set coneOuterAngle(ie){U.coneOuterAngle=ie},get coneOuterGain(){return U.coneOuterGain},set coneOuterGain(ie){if(ie<0||ie>1)throw e();U.coneOuterGain=ie},get context(){return U.context},get distanceModel(){return U.distanceModel},set distanceModel(ie){U.distanceModel=ie},get inputs(){return[K]},get maxDistance(){return U.maxDistance},set maxDistance(ie){if(ie<0)throw new RangeError;U.maxDistance=ie},get numberOfInputs(){return U.numberOfInputs},get numberOfOutputs(){return U.numberOfOutputs},get orientationX(){return ee.gain},get orientationY(){return ce.gain},get orientationZ(){return O.gain},get panningModel(){return U.panningModel},set panningModel(ie){U.panningModel=ie},get positionX(){return I.gain},get positionY(){return F.gain},get positionZ(){return $.gain},get refDistance(){return U.refDistance},set refDistance(ie){if(ie<0)throw new RangeError;U.refDistance=ie},get rolloffFactor(){return U.rolloffFactor},set rolloffFactor(ie){if(ie<0)throw new RangeError;U.rolloffFactor=ie},addEventListener(...ie){return K.addEventListener(ie[0],ie[1],ie[2])},dispatchEvent(...ie){return K.dispatchEvent(ie[0])},removeEventListener(...ie){return K.removeEventListener(ie[0],ie[1],ie[2])}};p!==re.coneInnerAngle&&(re.coneInnerAngle=p),y!==re.coneOuterAngle&&(re.coneOuterAngle=y),b!==re.coneOuterGain&&(re.coneOuterGain=b),x!==re.distanceModel&&(re.distanceModel=x),_!==re.maxDistance&&(re.maxDistance=_),T!==re.orientationX.value&&(re.orientationX.value=T),C!==re.orientationY.value&&(re.orientationY.value=C),M!==re.orientationZ.value&&(re.orientationZ.value=M),N!==re.panningModel&&(re.panningModel=N),B!==re.positionX.value&&(re.positionX.value=B),R!==re.positionY.value&&(re.positionY.value=R),z!==re.positionZ.value&&(re.positionZ.value=z),D!==re.refDistance&&(re.refDistance=D),k!==re.rolloffFactor&&(re.rolloffFactor=k),(G[0]!==1||G[1]!==0||G[2]!==0)&&U.setOrientation(...G),(X[0]!==0||X[1]!==0||X[2]!==0)&&U.setPosition(...X);const ue=()=>{K.connect(U),n(K,V,0,0),V.connect(ee).connect(H,0,0),V.connect(ce).connect(H,0,1),V.connect(O).connect(H,0,2),V.connect(I).connect(H,0,3),V.connect(F).connect(H,0,4),V.connect($).connect(H,0,5),H.connect(ne).connect(g.destination)},oe=()=>{K.disconnect(U),d(K,V,0,0),V.disconnect(ee),ee.disconnect(H),V.disconnect(ce),ce.disconnect(H),V.disconnect(O),O.disconnect(H),V.disconnect(I),I.disconnect(H),V.disconnect(F),F.disconnect(H),V.disconnect($),$.disconnect(H),H.disconnect(ne),ne.disconnect(g.destination)};return h(vo(re,U),ue,oe)},g8=n=>(e,{disableNormalization:s,imag:r,real:o})=>{const l=r instanceof Float32Array?r:new Float32Array(r),u=o instanceof Float32Array?o:new Float32Array(o),d=e.createPeriodicWave(u,l,{disableNormalization:s});if(Array.from(r).length<2)throw n();return d},Ql=(n,e,s,r)=>n.createScriptProcessor(e,s,r),v8=(n,e)=>(s,r)=>{const o=r.channelCountMode;if(o==="clamped-max")throw e();if(s.createStereoPanner===void 0)return n(s,r);const l=s.createStereoPanner();return Ht(l,r),Mt(l,r,"pan"),Object.defineProperty(l,"channelCountMode",{get:()=>o,set:u=>{if(u!==o)throw e()}}),l},y8=(n,e,s,r,o,l)=>{const d=new Float32Array([1,1]),f=Math.PI/2,h={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},g={...h,oversample:"none"},p=(x,_,T,C)=>{const M=new Float32Array(16385),N=new Float32Array(16385);for(let W=0;W<16385;W+=1){const U=W/16384*f;M[W]=Math.cos(U),N[W]=Math.sin(U)}const B=s(x,{...h,gain:0}),R=r(x,{...g,curve:M}),z=r(x,{...g,curve:d}),D=s(x,{...h,gain:0}),k=r(x,{...g,curve:N});return{connectGraph(){_.connect(B),_.connect(z.inputs===void 0?z:z.inputs[0]),_.connect(D),z.connect(T),T.connect(R.inputs===void 0?R:R.inputs[0]),T.connect(k.inputs===void 0?k:k.inputs[0]),R.connect(B.gain),k.connect(D.gain),B.connect(C,0,0),D.connect(C,0,1)},disconnectGraph(){_.disconnect(B),_.disconnect(z.inputs===void 0?z:z.inputs[0]),_.disconnect(D),z.disconnect(T),T.disconnect(R.inputs===void 0?R:R.inputs[0]),T.disconnect(k.inputs===void 0?k:k.inputs[0]),R.disconnect(B.gain),k.disconnect(D.gain),B.disconnect(C,0,0),D.disconnect(C,0,1)}}},y=(x,_,T,C)=>{const M=new Float32Array(16385),N=new Float32Array(16385),B=new Float32Array(16385),R=new Float32Array(16385),z=Math.floor(16385/2);for(let I=0;I<16385;I+=1)if(I>z){const F=(I-z)/(16384-z)*f;M[I]=Math.cos(F),N[I]=Math.sin(F),B[I]=0,R[I]=1}else{const F=I/(16384-z)*f;M[I]=1,N[I]=0,B[I]=Math.cos(F),R[I]=Math.sin(F)}const D=e(x,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),k=s(x,{...h,gain:0}),W=r(x,{...g,curve:M}),U=s(x,{...h,gain:0}),j=r(x,{...g,curve:N}),H=r(x,{...g,curve:d}),K=s(x,{...h,gain:0}),ee=r(x,{...g,curve:B}),ce=s(x,{...h,gain:0}),O=r(x,{...g,curve:R});return{connectGraph(){_.connect(D),_.connect(H.inputs===void 0?H:H.inputs[0]),D.connect(k,0),D.connect(U,0),D.connect(K,1),D.connect(ce,1),H.connect(T),T.connect(W.inputs===void 0?W:W.inputs[0]),T.connect(j.inputs===void 0?j:j.inputs[0]),T.connect(ee.inputs===void 0?ee:ee.inputs[0]),T.connect(O.inputs===void 0?O:O.inputs[0]),W.connect(k.gain),j.connect(U.gain),ee.connect(K.gain),O.connect(ce.gain),k.connect(C,0,0),K.connect(C,0,0),U.connect(C,0,1),ce.connect(C,0,1)},disconnectGraph(){_.disconnect(D),_.disconnect(H.inputs===void 0?H:H.inputs[0]),D.disconnect(k,0),D.disconnect(U,0),D.disconnect(K,1),D.disconnect(ce,1),H.disconnect(T),T.disconnect(W.inputs===void 0?W:W.inputs[0]),T.disconnect(j.inputs===void 0?j:j.inputs[0]),T.disconnect(ee.inputs===void 0?ee:ee.inputs[0]),T.disconnect(O.inputs===void 0?O:O.inputs[0]),W.disconnect(k.gain),j.disconnect(U.gain),ee.disconnect(K.gain),O.disconnect(ce.gain),k.disconnect(C,0,0),K.disconnect(C,0,0),U.disconnect(C,0,1),ce.disconnect(C,0,1)}}},b=(x,_,T,C,M)=>{if(_===1)return p(x,T,C,M);if(_===2)return y(x,T,C,M);throw o()};return(x,{channelCount:_,channelCountMode:T,pan:C,...M})=>{if(T==="max")throw o();const N=n(x,{...M,channelCount:1,channelCountMode:T,numberOfInputs:2}),B=s(x,{...M,channelCount:_,channelCountMode:T,gain:1}),R=s(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:z,disconnectGraph:D}=b(x,_,B,R,N);Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"maxValue",{get:()=>1}),Object.defineProperty(R.gain,"minValue",{get:()=>-1});const k={get bufferSize(){},get channelCount(){return B.channelCount},set channelCount(H){B.channelCount!==H&&(W&&D(),{connectGraph:z,disconnectGraph:D}=b(x,H,B,R,N),W&&z()),B.channelCount=H},get channelCountMode(){return B.channelCountMode},set channelCountMode(H){if(H==="clamped-max"||H==="max")throw o();B.channelCountMode=H},get channelInterpretation(){return B.channelInterpretation},set channelInterpretation(H){B.channelInterpretation=H},get context(){return B.context},get inputs(){return[B]},get numberOfInputs(){return B.numberOfInputs},get numberOfOutputs(){return B.numberOfOutputs},get pan(){return R.gain},addEventListener(...H){return B.addEventListener(H[0],H[1],H[2])},dispatchEvent(...H){return B.dispatchEvent(H[0])},removeEventListener(...H){return B.removeEventListener(H[0],H[1],H[2])}};let W=!1;const U=()=>{z(),W=!0},j=()=>{D(),W=!1};return l(vo(k,N),U,j)}},b8=(n,e,s,r,o,l,u)=>(d,f)=>{const h=d.createWaveShaper();if(l!==null&&l.name==="webkitAudioContext"&&d.createGain().gain.automationRate===void 0)return s(d,f);Ht(h,f);const g=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(g!==null&&g.length<2)throw e();xt(h,{curve:g},"curve"),xt(h,f,"oversample");let p=null,y=!1;return u(h,"curve",_=>()=>_.call(h),_=>T=>(_.call(h,T),y&&(r(T)&&p===null?p=n(d,h):!r(T)&&p!==null&&(p(),p=null)),T)),o(h,()=>{y=!0,r(h.curve)&&(p=n(d,h))},()=>{y=!1,p!==null&&(p(),p=null)})},_8=(n,e,s,r,o)=>(l,{curve:u,oversample:d,...f})=>{const h=l.createWaveShaper(),g=l.createWaveShaper();Ht(h,f),Ht(g,f);const p=s(l,{...f,gain:1}),y=s(l,{...f,gain:-1}),b=s(l,{...f,gain:1}),x=s(l,{...f,gain:-1});let _=null,T=!1,C=null;const M={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(R){p.channelCount=R,y.channelCount=R,h.channelCount=R,b.channelCount=R,g.channelCount=R,x.channelCount=R},get channelCountMode(){return h.channelCountMode},set channelCountMode(R){p.channelCountMode=R,y.channelCountMode=R,h.channelCountMode=R,b.channelCountMode=R,g.channelCountMode=R,x.channelCountMode=R},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(R){p.channelInterpretation=R,y.channelInterpretation=R,h.channelInterpretation=R,b.channelInterpretation=R,g.channelInterpretation=R,x.channelInterpretation=R},get context(){return h.context},get curve(){return C},set curve(R){if(R!==null&&R.length<2)throw e();if(R===null)h.curve=R,g.curve=R;else{const z=R.length,D=new Float32Array(z+2-z%2),k=new Float32Array(z+2-z%2);D[0]=R[0],k[0]=-R[z-1];const W=Math.ceil((z+1)/2),U=(z+1)/2-1;for(let j=1;j<W;j+=1){const H=j/W*U,K=Math.floor(H),ee=Math.ceil(H);D[j]=K===ee?R[K]:(1-(H-K))*R[K]+(1-(ee-H))*R[ee],k[j]=K===ee?-R[z-1-K]:-((1-(H-K))*R[z-1-K])-(1-(ee-H))*R[z-1-ee]}D[W]=z%2===1?R[W-1]:(R[W-2]+R[W-1])/2,h.curve=D,g.curve=k}C=R,T&&(r(C)&&_===null?_=n(l,p):_!==null&&(_(),_=null))},get inputs(){return[p]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get oversample(){return h.oversample},set oversample(R){h.oversample=R,g.oversample=R},addEventListener(...R){return p.addEventListener(R[0],R[1],R[2])},dispatchEvent(...R){return p.dispatchEvent(R[0])},removeEventListener(...R){return p.removeEventListener(R[0],R[1],R[2])}};u!==null&&(M.curve=u instanceof Float32Array?u:new Float32Array(u)),d!==M.oversample&&(M.oversample=d);const N=()=>{p.connect(h).connect(b),p.connect(y).connect(g).connect(x).connect(b),T=!0,r(C)&&(_=n(l,p))},B=()=>{p.disconnect(h),h.disconnect(b),p.disconnect(y),y.disconnect(g),g.disconnect(x),x.disconnect(b),T=!1,_!==null&&(_(),_=null)};return o(vo(M,b),N,B)},mn=()=>new DOMException("","NotSupportedError"),w8={numberOfChannels:1},x8=(n,e,s,r,o)=>class extends n{constructor(u,d,f){let h;if(typeof u=="number"&&d!==void 0&&f!==void 0)h={length:d,numberOfChannels:u,sampleRate:f};else if(typeof u=="object")h=u;else throw new Error("The given parameters are not valid.");const{length:g,numberOfChannels:p,sampleRate:y}={...w8,...h},b=r(p,g,y);e(Fl,()=>Fl(b))||b.addEventListener("statechange",(()=>{let x=0;const _=T=>{this._state==="running"&&(x>0?(b.removeEventListener("statechange",_),T.stopImmediatePropagation(),this._waitForThePromiseToSettle(T)):x+=1)};return _})()),super(b,p),this._length=g,this._nativeOfflineAudioContext=b,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(s()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,O_(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}},S8={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},T8=(n,e,s,r,o,l,u)=>class extends n{constructor(f,h){const g=o(f),p={...S8,...h},y=s(g,p),b=l(g),x=b?r():null,_=f.sampleRate/2;super(f,!1,y,x),this._detune=e(this,b,y.detune,153600,-153600),this._frequency=e(this,b,y.frequency,_,-_),this._nativeOscillatorNode=y,this._onended=null,this._oscillatorNodeRenderer=x,this._oscillatorNodeRenderer!==null&&p.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=p.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const h=typeof f=="function"?u(this,f):null;this._nativeOscillatorNode.onended=h;const g=this._nativeOscillatorNode.onended;this._onended=g!==null&&g===h?f:g}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){io(this);const h=()=>{this._nativeOscillatorNode.removeEventListener("ended",h),fi(this)&&Gl(this)};this._nativeOscillatorNode.addEventListener("ended",h)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},C8=(n,e,s,r,o)=>()=>{const l=new WeakMap;let u=null,d=null,f=null;const h=async(g,p)=>{let y=s(g);const b=cn(y,p);if(!b){const x={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,detune:y.detune.value,frequency:y.frequency.value,periodicWave:u===null?void 0:u,type:y.type};y=e(p,x),d!==null&&y.start(d),f!==null&&y.stop(f)}return l.set(p,y),b?(await n(p,g.detune,y.detune),await n(p,g.frequency,y.frequency)):(await r(p,g.detune,y.detune),await r(p,g.frequency,y.frequency)),await o(g,p,y),y};return{set periodicWave(g){u=g},set start(g){d=g},set stop(g){f=g},render(g,p){const y=l.get(p);return y!==void 0?Promise.resolve(y):h(g,p)}}},E8={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},A8=(n,e,s,r,o,l,u)=>class extends n{constructor(f,h){const g=o(f),p={...E8,...h},y=s(g,p),b=l(g),x=b?r():null;super(f,!1,y,x),this._nativePannerNode=y,this._orientationX=e(this,b,y.orientationX,fn,Mn),this._orientationY=e(this,b,y.orientationY,fn,Mn),this._orientationZ=e(this,b,y.orientationZ,fn,Mn),this._positionX=e(this,b,y.positionX,fn,Mn),this._positionY=e(this,b,y.positionY,fn,Mn),this._positionZ=e(this,b,y.positionZ,fn,Mn),u(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},M8=(n,e,s,r,o,l,u,d,f,h)=>()=>{const g=new WeakMap;let p=null;const y=async(b,x)=>{let _=null,T=l(b);const C={channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation},M={...C,coneInnerAngle:T.coneInnerAngle,coneOuterAngle:T.coneOuterAngle,coneOuterGain:T.coneOuterGain,distanceModel:T.distanceModel,maxDistance:T.maxDistance,panningModel:T.panningModel,refDistance:T.refDistance,rolloffFactor:T.rolloffFactor},N=cn(T,x);if("bufferSize"in T)_=r(x,{...C,gain:1});else if(!N){const B={...M,orientationX:T.orientationX.value,orientationY:T.orientationY.value,orientationZ:T.orientationZ.value,positionX:T.positionX.value,positionY:T.positionY.value,positionZ:T.positionZ.value};T=o(x,B)}if(g.set(x,_===null?T:_),_!==null){if(p===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const j=new u(6,b.context.length,x.sampleRate),H=e(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});H.connect(j.destination),p=(async()=>{const K=await Promise.all([b.orientationX,b.orientationY,b.orientationZ,b.positionX,b.positionY,b.positionZ].map(async(ee,ce)=>{const O=s(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ce===0?1:0});return await d(j,ee,O.offset),O}));for(let ee=0;ee<6;ee+=1)K[ee].connect(H,0,ee),K[ee].start(0);return h(j)})()}const B=await p,R=r(x,{...C,gain:1});await f(b,x,R);const z=[];for(let j=0;j<B.numberOfChannels;j+=1)z.push(B.getChannelData(j));let D=[z[0][0],z[1][0],z[2][0]],k=[z[3][0],z[4][0],z[5][0]],W=r(x,{...C,gain:1}),U=o(x,{...M,orientationX:D[0],orientationY:D[1],orientationZ:D[2],positionX:k[0],positionY:k[1],positionZ:k[2]});R.connect(W).connect(U.inputs[0]),U.connect(_);for(let j=128;j<B.length;j+=128){const H=[z[0][j],z[1][j],z[2][j]],K=[z[3][j],z[4][j],z[5][j]];if(H.some((ee,ce)=>ee!==D[ce])||K.some((ee,ce)=>ee!==k[ce])){D=H,k=K;const ee=j/x.sampleRate;W.gain.setValueAtTime(0,ee),W=r(x,{...C,gain:0}),U=o(x,{...M,orientationX:D[0],orientationY:D[1],orientationZ:D[2],positionX:k[0],positionY:k[1],positionZ:k[2]}),W.gain.setValueAtTime(1,ee),R.connect(W).connect(U.inputs[0]),U.connect(_)}}return _}return N?(await n(x,b.orientationX,T.orientationX),await n(x,b.orientationY,T.orientationY),await n(x,b.orientationZ,T.orientationZ),await n(x,b.positionX,T.positionX),await n(x,b.positionY,T.positionY),await n(x,b.positionZ,T.positionZ)):(await d(x,b.orientationX,T.orientationX),await d(x,b.orientationY,T.orientationY),await d(x,b.orientationZ,T.orientationZ),await d(x,b.positionX,T.positionX),await d(x,b.positionY,T.positionY),await d(x,b.positionZ,T.positionZ)),go(T)?await f(b,x,T.inputs[0]):await f(b,x,T),T};return{render(b,x){const _=g.get(x);return _!==void 0?Promise.resolve(_):y(b,x)}}},O8={disableNormalization:!1},N8=(n,e,s,r)=>class F_{constructor(l,u){const d=e(l),f=r({...O8,...u}),h=n(d,f);return s.add(h),h}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===F_.prototype||s.has(l)}},R8=(n,e)=>(s,r,o)=>(n(r).replay(o),e(r,s,o)),k8=(n,e,s)=>async(r,o,l)=>{const u=n(r);await Promise.all(u.activeInputs.map((d,f)=>Array.from(d).map(async([h,g])=>{const y=await e(h).render(h,o),b=r.context.destination;!s(h)&&(r!==b||!s(r))&&y.connect(l,g,f)})).reduce((d,f)=>[...d,...f],[]))},D8=(n,e,s)=>async(r,o,l)=>{const u=e(r);await Promise.all(Array.from(u.activeInputs).map(async([d,f])=>{const g=await n(d).render(d,o);s(d)||g.connect(l,f)}))},V8=(n,e,s,r)=>o=>n(Fl,()=>Fl(o))?Promise.resolve(n(r,r)).then(l=>{if(!l){const u=s(o,512,0,1);o.oncomplete=()=>{u.onaudioprocess=null,u.disconnect()},u.onaudioprocess=()=>o.currentTime,u.connect(o.destination)}return o.startRendering()}):new Promise(l=>{const u=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=d=>{u.disconnect(),l(d.renderedBuffer)},u.connect(o.destination),o.startRendering()}),z8=n=>(e,s)=>{n.set(e,s)},B8=n=>(e,s)=>n.set(e,s),I8=(n,e,s,r,o,l,u,d)=>(f,h)=>s(f).render(f,h).then(()=>Promise.all(Array.from(r(h)).map(g=>s(g).render(g,h)))).then(()=>o(h)).then(g=>(typeof g.copyFromChannel!="function"?(u(g),Tp(g)):e(l,()=>l(g))||d(g),n.add(g),g)),P8={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},F8=(n,e,s,r,o,l)=>class extends n{constructor(d,f){const h=o(d),g={...P8,...f},p=s(h,g),y=l(h),b=y?r():null;super(d,!1,p,b),this._pan=e(this,y,p.pan)}get pan(){return this._pan}},L8=(n,e,s,r,o)=>()=>{const l=new WeakMap,u=async(d,f)=>{let h=s(d);const g=cn(h,f);if(!g){const p={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,pan:h.pan.value};h=e(f,p)}return l.set(f,h),g?await n(f,d.pan,h.pan):await r(f,d.pan,h.pan),go(h)?await o(d,f,h.inputs[0]):await o(d,f,h),h};return{render(d,f){const h=l.get(f);return h!==void 0?Promise.resolve(h):u(d,f)}}},j8=n=>()=>{if(n===null)return!1;try{new n({length:1,sampleRate:44100})}catch{return!1}return!0},U8=(n,e)=>async()=>{if(n===null)return!0;if(e===null)return!1;const s=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),o=URL.createObjectURL(s);let l=!1,u=!1;try{await r.audioWorklet.addModule(o);const d=new n(r,"a",{numberOfOutputs:0}),f=r.createOscillator();d.port.onmessage=()=>l=!0,d.onprocessorerror=()=>u=!0,f.connect(d),f.start(0),await r.startRendering(),await new Promise(h=>setTimeout(h))}catch{}finally{URL.revokeObjectURL(o)}return l&&!u},H8=(n,e)=>()=>{if(e===null)return Promise.resolve(!1);const s=new e(1,1,44100),r=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{s.oncomplete=()=>{r.disconnect(),o(s.currentTime!==0)},s.startRendering()})},q8=()=>new DOMException("","UnknownError"),W8={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},G8=(n,e,s,r,o,l,u)=>class extends n{constructor(f,h){const g=o(f),p={...W8,...h},y=s(g,p),x=l(g)?r():null;super(f,!0,y,x),this._isCurveNullified=!1,this._nativeWaveShaperNode=y,u(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},Z8=(n,e,s)=>()=>{const r=new WeakMap,o=async(l,u)=>{let d=e(l);if(!cn(d,u)){const h={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,curve:d.curve,oversample:d.oversample};d=n(u,h)}return r.set(u,d),go(d)?await s(l,u,d.inputs[0]):await s(l,u,d),d};return{render(l,u){const d=r.get(u);return d!==void 0?Promise.resolve(d):o(l,u)}}},Y8=()=>typeof window>"u"?null:window,X8=(n,e)=>s=>{s.copyFromChannel=(r,o,l=0)=>{const u=n(l),d=n(o);if(d>=s.numberOfChannels)throw e();const f=s.length,h=s.getChannelData(d),g=r.length;for(let p=u<0?-u:0;p+u<f&&p<g;p+=1)r[p]=h[p+u]},s.copyToChannel=(r,o,l=0)=>{const u=n(l),d=n(o);if(d>=s.numberOfChannels)throw e();const f=s.length,h=s.getChannelData(d),g=r.length;for(let p=u<0?-u:0;p+u<f&&p<g;p+=1)h[p+u]=r[p]}},Q8=n=>e=>{e.copyFromChannel=(s=>(r,o,l=0)=>{const u=n(l),d=n(o);if(u<e.length)return s.call(e,r,d,u)})(e.copyFromChannel),e.copyToChannel=(s=>(r,o,l=0)=>{const u=n(l),d=n(o);if(u<e.length)return s.call(e,r,d,u)})(e.copyToChannel)},$8=n=>(e,s)=>{const r=s.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),n(e,"buffer",o=>()=>{const l=o.call(e);return l===r?null:l},o=>l=>o.call(e,l===null?r:l))},K8=(n,e)=>(s,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const o=s.createBufferSource();e(r,()=>{const d=r.numberOfInputs;for(let f=0;f<d;f+=1)o.connect(r,0,f)},()=>o.disconnect(r))},L_=(n,e,s)=>n.copyFromChannel===void 0?n.getChannelData(s)[0]:(n.copyFromChannel(e,s),e[0]),j_=n=>{if(n===null)return!1;const e=n.length;return e%2!==0?n[Math.floor(e/2)]!==0:n[e/2-1]+n[e/2]!==0},$l=(n,e,s,r)=>{let o=n;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);const{get:l,set:u}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(n,e,{get:s(l),set:r(u)})},J8=n=>({...n,outputChannelCount:n.outputChannelCount!==void 0?n.outputChannelCount:n.numberOfInputs===1&&n.numberOfOutputs===1?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}),e6=n=>({...n,channelCount:n.numberOfOutputs}),t6=n=>{const{imag:e,real:s}=n;return e===void 0?s===void 0?{...n,imag:[0,0],real:[0,0]}:{...n,imag:Array.from(s,()=>0),real:s}:s===void 0?{...n,imag:e,real:Array.from(e,()=>0)}:{...n,imag:e,real:s}},U_=(n,e,s)=>{try{n.setValueAtTime(e,s)}catch(r){if(r.code!==9)throw r;U_(n,e,s+1e-7)}},n6=n=>{const e=n.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},s6=n=>{const e=n.createBufferSource(),s=n.createBuffer(1,1,44100);e.buffer=s;try{e.start(0,1)}catch{return!1}return!0},i6=n=>{const e=n.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Op=n=>{const e=n.createOscillator();try{e.start(-1)}catch(s){return s instanceof RangeError}return!1},H_=n=>{const e=n.createBuffer(1,1,44100),s=n.createBufferSource();s.buffer=e,s.start(),s.stop();try{return s.stop(),!0}catch{return!1}},Np=n=>{const e=n.createOscillator();try{e.stop(-1)}catch(s){return s instanceof RangeError}return!1},r6=n=>{const{port1:e,port2:s}=new MessageChannel;try{e.postMessage(n)}finally{e.close(),s.close()}},a6=n=>{n.start=(e=>(s=0,r=0,o)=>{const l=n.buffer,u=l===null?r:Math.min(l.duration,r);l!==null&&u>l.duration-.5/n.context.sampleRate?e.call(n,s,0,0):e.call(n,s,u,o)})(n.start)},q_=(n,e)=>{const s=e.createGain();n.connect(s);const r=(o=>()=>{o.call(n,s),n.removeEventListener("ended",r)})(n.disconnect);n.addEventListener("ended",r),vo(n,s),n.stop=(o=>{let l=!1;return(u=0)=>{if(l)try{o.call(n,u)}catch{s.gain.setValueAtTime(0,u)}else o.call(n,u),l=!0}})(n.stop)},yo=(n,e)=>s=>{const r={value:n};return Object.defineProperties(s,{currentTarget:r,target:r}),typeof e=="function"?e.call(n,s):e.handleEvent.call(n,s)},o6=AE($r),l6=DE($r),c6=WA(dd),W_=new WeakMap,u6=c4(W_),ps=wA(new Map,new WeakMap),Vs=Y8(),G_=F4(ps,Fs),Rp=l4(hn),tn=k8(hn,Rp,Lr),d6=PE(G_,gt,tn),ht=f4(ud),vi=f8(Vs),lt=O4(vi),Z_=new WeakMap,Y_=t4(yo),Kl=H4(Vs),kp=C4(Kl),Dp=E4(Vs),X_=A4(Vs),Ll=W4(Vs),kt=cA(ME(x_),kE(o6,l6,Wu,c6,Gu,hn,u6,Wl,gt,$r,fi,Lr,Bu),ps,_4(qm,Gu,hn,gt,Pl,fi),Fs,fd,mn,jA(Wu,qm,hn,gt,Pl,ht,fi,lt),YA(Z_,hn,fs),Y_,ht,kp,Dp,X_,lt,Ll),f6=IE(kt,d6,Fs,G_,ht,lt),Vp=new WeakSet,K1=L4(Vs),Q_=VA(new Uint32Array(1)),zp=X8(Q_,Fs),Bp=Q8(Q_),$_=LE(Vp,ps,mn,K1,vi,j8(K1),zp,Bp),hd=VE(Nn),K_=D8(Rp,Zl,Lr),Ls=MA(K_),bo=U4(hd,ps,n6,s6,i6,Op,H_,Np,a6,$8($l),q_),js=R8(u4(Zl),K_),h6=HE(Ls,bo,gt,js,tn),gs=uA(OE(S_),Z_,Sp,dA,wE,xE,SE,TE,CE,jm,__,Kl,U_),m6=UE(kt,h6,gs,Xt,bo,ht,lt,yo),p6=KE(kt,JE,Fs,Xt,q4(Nn,$l),ht,lt,tn),g6=_A(Ls,I_,gt,js,tn),Kr=B8(W_),v6=bA(kt,gs,g6,fd,I_,ht,lt,Kr),cr=I4($r,Dp),y6=K8(Xt,cr),ur=K4(Kl,y6),b6=TA(ur,gt,tn),_6=SA(kt,b6,ur,ht,lt),w6=AA(Xl,gt,tn),x6=EA(kt,w6,Xl,ht,lt,e6),S6=t8(hd,bo,Nn,cr),_o=e8(hd,ps,S6,Op,Np),T6=DA(Ls,_o,gt,js,tn),C6=kA(kt,gs,T6,_o,ht,lt,yo),J_=n8(mn,$l),E6=IA(J_,gt,tn),A6=BA(kt,E6,J_,ht,lt,Kr),M6=qA(Ls,P_,gt,js,tn),O6=HA(kt,gs,M6,P_,ht,lt,Kr),ew=s8(mn),N6=KA(Ls,ew,gt,js,tn),R6=$A(kt,gs,N6,ew,mn,ht,lt,Kr),k6=a4(Ls,Nn,gt,js,tn),D6=r4(kt,gs,k6,Nn,ht,lt),V6=o8(fd,Xt,Ql,mn),md=V8(ps,Nn,Ql,H8(Nn,vi)),z6=b4(bo,gt,vi,tn,md),B6=i8(V6),I6=v4(kt,B6,z6,ht,lt,Kr),P6=eA(gs,ur,_o,Ql,mn,L_,lt,$l),tw=new WeakMap,F6=B4(p6,P6,Y_,lt,tw,yo),nw=h8(hd,ps,Op,H_,Np,q_),L6=C8(Ls,nw,gt,js,tn),j6=T8(kt,gs,nw,L6,ht,lt,yo),sw=NA(bo),U6=_8(sw,Xt,Nn,j_,cr),pd=b8(sw,Xt,U6,j_,cr,Kl,$l),H6=p8(Wu,Xt,ur,Nn,Ql,pd,mn,Gu,L_,cr),iw=m8(H6),q6=M8(Ls,ur,_o,Nn,iw,gt,vi,js,tn,md),W6=A8(kt,gs,iw,q6,ht,lt,Kr),G6=g8(Fs),Z6=N8(G6,ht,new WeakSet,t6),Y6=y8(ur,Xl,Nn,pd,mn,cr),rw=v8(Y6,mn),X6=L8(Ls,rw,gt,js,tn),Q6=F8(kt,gs,rw,X6,ht,lt),$6=Z8(pd,gt,tn),K6=G8(kt,Xt,pd,$6,ht,lt,Kr),aw=N4(Vs),Ip=n4(Vs),ow=new WeakMap,J6=h4(ow,vi),eM=aw?RE(ps,mn,e4(Vs),Ip,s4(EE),ht,J6,lt,Ll,new WeakMap,new WeakMap,U8(Ll,vi),Vs):void 0,tM=M4(kp,lt),nM=LA(Vp,ps,FA,JA,new WeakSet,ht,tM,Hu,Fl,zp,Bp),lw=vA(eM,f6,$_,m6,v6,_6,x6,C6,A6,nM,O6,R6,D6,I6,F6,j6,W6,Z6,Q6,K6),sM=R4(kt,l8,ht,lt),iM=D4(kt,c8,ht,lt),rM=V4(kt,u8,ht,lt),aM=d8(Xt,lt),oM=z4(kt,aM,ht),lM=$E(lw,Xt,mn,q8,sM,iM,rM,oM,Kl),Pp=m4(tw),cM=zE(Pp),cw=OA(Fs),uM=GA(Pp),uw=XA(Fs),dw=new WeakMap,dM=o4(dw,fs),fM=$4(cw,Fs,Xt,ur,Xl,_o,Nn,Ql,mn,uw,Ip,dM,cr),hM=Z4(Xt,fM,Nn,mn,cr),mM=gA(Ls,cw,bo,ur,Xl,_o,Nn,uM,uw,Ip,gt,Ll,vi,js,tn,md),pM=d4(ow),gM=z8(dw),J1=aw?hA(cM,kt,gs,mM,hM,hn,pM,ht,lt,Ll,J8,gM,r6,yo):void 0,vM=PA(mn,vi),yM=I8(Vp,ps,Rp,Pp,md,Hu,zp,Bp),bM=x8(lw,ps,Xt,vM,yM),_M=w4(ud,kp),wM=x4(xp,Dp),xM=S4(Sp,X_),SM=T4(ud,lt);function Jn(n){return n===void 0}function qe(n){return n!==void 0}function TM(n){return typeof n=="function"}function jr(n){return typeof n=="number"}function Pr(n){return Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object}function CM(n){return typeof n=="boolean"}function ds(n){return Array.isArray(n)}function hi(n){return typeof n=="string"}function wu(n){return hi(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function Be(n,e){if(!n)throw new Error(e)}function sr(n,e,s=1/0){if(!(e<=n&&n<=s))throw new RangeError(`Value must be within [${e}, ${s}], got: ${n}`)}function fw(n){!n.isOffline&&n.state!=="running"&&Fp('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let hw=!1,eb=!1;function tb(n){hw=n}function EM(n){Jn(n)&&hw&&!eb&&(eb=!0,Fp("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let mw=console;function AM(...n){mw.log(...n)}function Fp(...n){mw.warn(...n)}function MM(n){return new lM(n)}function OM(n,e,s){return new bM(n,e,s)}const Pn=typeof self=="object"?self:null,NM=Pn&&(Pn.hasOwnProperty("AudioContext")||Pn.hasOwnProperty("webkitAudioContext"));function RM(n,e,s){return Be(qe(J1),"AudioWorkletNode only works in a secure context (https or localhost)"),new(n instanceof(Pn==null?void 0:Pn.BaseAudioContext)?Pn==null?void 0:Pn.AudioWorkletNode:J1)(n,e,s)}var Os=function(){return Os=Object.assign||function(e){for(var s,r=1,o=arguments.length;r<o;r++){s=arguments[r];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e},Os.apply(this,arguments)};function pw(n,e){var s={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(s[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(s[r[o]]=n[r[o]]);return s}function vs(n,e,s,r){var o=arguments.length,l=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,e,s,r);else for(var d=n.length-1;d>=0;d--)(u=n[d])&&(l=(o<3?u(l):o>3?u(e,s,l):u(e,s))||l);return o>3&&l&&Object.defineProperty(e,s,l),l}function Ft(n,e,s,r){function o(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function d(g){try{h(r.next(g))}catch(p){u(p)}}function f(g){try{h(r.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(d,f)}h((r=r.apply(n,e||[])).next())})}function kM(n,e,s){if(s||arguments.length===2)for(var r=0,o=e.length,l;r<o;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return n.concat(l||Array.prototype.slice.call(e))}class DM{constructor(e,s,r,o){this._callback=e,this._type=s,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),s=URL.createObjectURL(e),r=new Worker(s);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var s;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((s=this._worker)===null||s===void 0||s.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Ur(n){return xM(n)}function er(n){return wM(n)}function Iu(n){return SM(n)}function Ga(n){return _M(n)}function VM(n){return n instanceof $_}function zM(n,e){return n==="value"||Ur(e)||er(e)||VM(e)}function Ja(n,...e){if(!e.length)return n;const s=e.shift();if(Pr(n)&&Pr(s))for(const r in s)zM(r,s[r])?n[r]=s[r]:Pr(s[r])?(n[r]||Object.assign(n,{[r]:{}}),Ja(n[r],s[r])):Object.assign(n,{[r]:s[r]});return Ja(n,...e)}function BM(n,e){return n.length===e.length&&n.every((s,r)=>e[r]===s)}function Ne(n,e,s=[],r){const o={},l=Array.from(e);if(Pr(l[0])&&r&&!Reflect.has(l[0],r)&&(Object.keys(l[0]).some(d=>Reflect.has(n,d))||(Ja(o,{[r]:l[0]}),s.splice(s.indexOf(r),1),l.shift())),l.length===1&&Pr(l[0]))Ja(o,l[0]);else for(let u=0;u<s.length;u++)qe(l[u])&&(o[s[u]]=l[u]);return Ja(n,o)}function IM(n){return n.constructor.getDefaults()}function eo(n,e){return Jn(n)?e:n}function nb(n,e){return e.forEach(s=>{Reflect.has(n,s)&&delete n[s]}),n}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class yi{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Pn&&this.toString()===Pn.TONE_DEBUG_CLASS)&&AM(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}yi.version=b_;const Lp=1e-6;function ro(n,e){return n>e+Lp}function Xm(n,e){return ro(n,e)||ls(n,e)}function Qu(n,e){return n+Lp<e}function ls(n,e){return Math.abs(n-e)<Lp}function PM(n,e,s){return Math.max(Math.min(n,s),e)}class es extends yi{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Ne(es.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Be(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const s=this._timeline[this.length-1];Be(Xm(e.time,s.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const s=this._search(e.time);this._timeline.splice(s+1,0,e)}if(this.length>this.memory){const s=this.length-this.memory;this._timeline.splice(0,s)}return this}remove(e){const s=this._timeline.indexOf(e);return s!==-1&&this._timeline.splice(s,1),this}get(e,s="time"){const r=this._search(e,s);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,s="time"){const r=this._search(e,s);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const s=this._timeline.length;if(s>0&&this._timeline[s-1].time<e)return this._timeline[s-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let s=this._search(e);if(s>=0)if(ls(this._timeline[s].time,e)){for(let r=s;r>=0&&ls(this._timeline[r].time,e);r--)s=r;this._timeline=this._timeline.slice(0,s)}else this._timeline=this._timeline.slice(0,s+1);else this._timeline=[]}else this._timeline.length===1&&Xm(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const s=this._search(e);return s>=0&&(this._timeline=this._timeline.slice(s+1)),this}previousEvent(e){const s=this._timeline.indexOf(e);return s>0?this._timeline[s-1]:null}_search(e,s="time"){if(this._timeline.length===0)return-1;let r=0;const o=this._timeline.length;let l=o;if(o>0&&this._timeline[o-1][s]<=e)return o-1;for(;r<l;){let u=Math.floor(r+(l-r)/2);const d=this._timeline[u],f=this._timeline[u+1];if(ls(d[s],e)){for(let h=u;h<this._timeline.length;h++){const g=this._timeline[h];if(ls(g[s],e))u=h;else break}return u}else{if(Qu(d[s],e)&&ro(f[s],e))return u;ro(d[s],e)?l=u:r=u+1}}return-1}_iterate(e,s=0,r=this._timeline.length-1){this._timeline.slice(s,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,s){const r=this._search(e);return r!==-1&&this._iterate(s,0,r),this}forEachAfter(e,s){const r=this._search(e);return this._iterate(s,r+1),this}forEachBetween(e,s,r){let o=this._search(e),l=this._search(s);return o!==-1&&l!==-1?(this._timeline[o].time!==e&&(o+=1),this._timeline[l].time===s&&(l-=1),this._iterate(r,o,l)):o===-1&&this._iterate(r,0,l),this}forEachFrom(e,s){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(s,r+1),this}forEachAtTime(e,s){const r=this._search(e);if(r!==-1&&ls(this._timeline[r].time,e)){let o=r;for(let l=r;l>=0&&ls(this._timeline[l].time,e);l--)o=l;this._iterate(l=>{s(l)},o,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const gw=[];function gd(n){gw.push(n)}function FM(n){gw.forEach(e=>e(n))}const vw=[];function vd(n){vw.push(n)}function LM(n){vw.forEach(e=>e(n))}class Jl extends yi{constructor(){super(...arguments),this.name="Emitter"}on(e,s){return e.split(/\W+/).forEach(o=>{Jn(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(s)}),this}once(e,s){const r=(...o)=>{s(...o),this.off(e,r)};return this.on(e,r),this}off(e,s){return e.split(/\W+/).forEach(o=>{if(Jn(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(Jn(s))this._events[o]=[];else{const l=this._events[o];for(let u=l.length-1;u>=0;u--)l[u]===s&&l.splice(u,1)}}),this}emit(e,...s){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let o=0,l=r.length;o<l;o++)r[o].apply(this,s)}return this}static mixin(e){["on","once","off","emit"].forEach(s=>{const r=Object.getOwnPropertyDescriptor(Jl.prototype,s);Object.defineProperty(e.prototype,s,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class yw extends Jl{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class ec extends yw{constructor(){var e,s;super(),this.name="Context",this._constants=new Map,this._timeouts=new es,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=Ne(ec.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=MM({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new DM(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((s=arguments[0])===null||s===void 0)&&s.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(FM(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,s,r){return this._context.createBuffer(e,s,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,s){return this._context.createIIRFilter(e,s)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,s,r){return this._context.createPeriodicWave(e,s,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Be(Ga(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Be(Ga(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Be(Ga(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Be(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Be(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Be(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Be(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,s){return RM(this.rawContext,e,s)}addAudioWorkletModule(e){return Ft(this,void 0,void 0,function*(){Be(qe(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Ft(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Ga(this._context)?this._context.resume():Promise.resolve()}close(){return Ft(this,void 0,void 0,function*(){Ga(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&LM(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const s=this._context.createBuffer(1,128,this._context.sampleRate),r=s.getChannelData(0);for(let l=0;l<r.length;l++)r[l]=e;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=s,o.loop=!0,o.start(0),this._constants.set(e,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,s=>{s.callback(),this._timeouts.remove(s)})}setTimeout(e,s){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+s}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(s=>{s.id===e&&this._timeouts.remove(s)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,s){const r=++this._timeoutIds,o=()=>{const l=this.now();this._timeouts.add({callback:()=>{e(),o()},id:r,time:l+s})};return o(),r}}class jM extends yw{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,s,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,s){return{}}createPanner(){return{}}createPeriodicWave(e,s,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,s){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Ft(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,s){return 0}clearTimeout(e){return this}setInterval(e,s){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function ct(n,e){ds(e)?e.forEach(s=>ct(n,s)):Object.defineProperty(n,e,{enumerable:!0,writable:!1})}function bw(n,e){ds(e)?e.forEach(s=>bw(n,s)):Object.defineProperty(n,e,{writable:!0})}const ot=()=>{};class wt extends yi{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ot;const e=Ne(wt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,hi(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:ot,onload:ot,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:cs().sampleRate}set(e){return e instanceof wt?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ft(this,void 0,void 0,function*(){const s=wt.load(e).then(r=>{this.set(r),this.onload(this)});wt.downloads.push(s);try{yield s}finally{const r=wt.downloads.indexOf(s);wt.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const s=ds(e)&&e[0].length>0,r=s?e.length:1,o=s?e[0].length:e.length,l=cs(),u=l.createBuffer(r,o,l.sampleRate),d=!s&&r===1?[e]:e;for(let f=0;f<r;f++)u.copyToChannel(d[f],f);return this._buffer=u,this}toMono(e){if(jr(e))this.fromArray(this.toArray(e));else{let s=new Float32Array(this.length);const r=this.numberOfChannels;for(let o=0;o<r;o++){const l=this.toArray(o);for(let u=0;u<l.length;u++)s[u]+=l[u]}s=s.map(o=>o/r),this.fromArray(s)}return this}toArray(e){if(jr(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const s=[];for(let r=0;r<this.numberOfChannels;r++)s[r]=this.getChannelData(r);return s}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,s=this.duration){Be(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),o=Math.floor(s*this.sampleRate);Be(r<o,"The start time must be less than the end time");const l=o-r,u=cs().createBuffer(this.numberOfChannels,l,this.sampleRate);for(let d=0;d<this.numberOfChannels;d++)u.copyToChannel(this.getChannelData(d).subarray(r,o),d);return new wt(u)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new wt().fromArray(e)}static fromUrl(e){return Ft(this,void 0,void 0,function*(){return yield new wt().load(e)})}static load(e){return Ft(this,void 0,void 0,function*(){const s=wt.baseUrl===""||wt.baseUrl.endsWith("/")?wt.baseUrl:wt.baseUrl+"/",r=yield fetch(s+e);if(!r.ok)throw new Error(`could not load url: ${e}`);const o=yield r.arrayBuffer();return yield cs().decodeAudioData(o)})}static supportsType(e){const s=e.split("."),r=s[s.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Ft(this,void 0,void 0,function*(){for(yield Promise.resolve();wt.downloads.length;)yield wt.downloads[0]})}}wt.baseUrl="";wt.downloads=[];class jp extends ec{constructor(){super({clockSource:"offline",context:Iu(arguments[0])?arguments[0]:OM(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Iu(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Iu(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ft(this,void 0,void 0,function*(){let s=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,s++;const r=Math.floor(this.sampleRate/128);e&&s%r===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return Ft(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const s=yield this._context.startRendering();return new wt(s)})}close(){return Promise.resolve()}}const _w=new jM;let Ya=_w;function cs(){return Ya===_w&&NM&&Up(new ec),Ya}function Up(n,e=!1){e&&Ya.dispose(),Ga(n)?Ya=new ec(n):Iu(n)?Ya=new jp(n):Ya=n}if(Pn&&!Pn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${b_} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function UM(n){return Math.pow(10,n/20)}function HM(n){return 20*(Math.log(n)/Math.LN10)}function $u(n){return Math.pow(2,n/12)}let yd=440;function qM(){return yd}function WM(n){yd=n}function Qm(n){return Math.round(ww(n))}function ww(n){return 69+12*Math.log2(n/yd)}function GM(n){return yd*Math.pow(2,(n-69)/12)}class Hp extends yi{constructor(e,s,r){super(),this.defaultUnits="s",this._val=s,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,s)=>{const r=parseInt(e,10),o=s==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/r)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const s=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(s)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,s,r)=>{let o=0;return e&&e!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),s&&s!=="0"&&(o+=this._beatsToUnits(parseFloat(s))),r&&r!=="0"&&(o+=this._beatsToUnits(parseFloat(r)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Hp&&this.fromType(this._val),Jn(this._val))return this._noArg();if(hi(this._val)&&Jn(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Pr(this._val)){let e=0;for(const s in this._val)if(qe(this._val[s])){const r=this._val[s],o=new this.constructor(this.context,s).valueOf()*r;e+=o}return e}if(qe(this._units)){const e=this._expressions[this._units],s=this._val.toString().trim().match(e.regexp);return s?e.method.apply(this,s.slice(1)):e.method.call(this,this._val)}else return hi(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class us extends Hp{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const s=new us(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(s))},regexp:/^@(.+)/}})}quantize(e,s=1){const r=new this.constructor(this.context,e).valueOf(),o=this.valueOf(),d=Math.round(o/r)*r-o;return o+d*s}toNotation(){const e=this.toSeconds(),s=["1m"];for(let l=1;l<9;l++){const u=Math.pow(2,l);s.push(u+"n."),s.push(u+"n"),s.push(u+"t")}s.push("0");let r=s[0],o=new us(this.context,s[0]).toSeconds();return s.forEach(l=>{const u=new us(this.context,l).toSeconds();Math.abs(u-e)<Math.abs(o-e)&&(r=l,o=u)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let s=this.valueOf()/e;s=parseFloat(s.toFixed(4));const r=Math.floor(s/this._getTimeSignature());let o=s%1*4;s=Math.floor(s)%this._getTimeSignature();const l=o.toString();return l.length>3&&(o=parseFloat(parseFloat(l).toFixed(3))),[r,s,o].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Qm(this.toFrequency())}_now(){return this.context.now()}}class Kn extends us{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return qM()}static set A4(e){WM(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Kn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,s){const o=ZM[e.toLowerCase()]+(parseInt(s,10)+1)*12;return this.defaultUnits==="midi"?o:Kn.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,s,r){let o=1;return e&&e!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),s&&s!=="0"&&(o*=this._beatsToUnits(parseFloat(s))),r&&r!=="0"&&(o*=this._beatsToUnits(parseFloat(r)/4)),o}}})}transpose(e){return new Kn(this.context,this.valueOf()*$u(e))}harmonize(e){return e.map(s=>this.transpose(s))}toMidi(){return Qm(this.valueOf())}toNote(){const e=this.toFrequency(),s=Math.log2(e/Kn.A4);let r=Math.round(12*s)+57;const o=Math.floor(r/12);return o<0&&(r+=-12*o),YM[r%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),s=this.valueOf()/e;return Math.floor(s*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return GM(e)}static ftom(e){return Qm(e)}}const ZM={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},YM=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Dl extends us{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class On extends yi{constructor(){super();const e=Ne(On.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:cs()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return EM(e),new us(this.context,e).toSeconds()}toFrequency(e){return new Kn(this.context,e).toFrequency()}toTicks(e){return new Dl(this.context,e).toTicks()}_getPartialProperties(e){const s=this.get();return Object.keys(s).forEach(r=>{Jn(e[r])&&delete s[r]}),s}get(){const e=IM(this);return Object.keys(e).forEach(s=>{if(Reflect.has(this,s)){const r=this[s];qe(r)&&qe(r.value)&&qe(r.setValueAtTime)?e[s]=r.value:r instanceof On?e[s]=r._getPartialProperties(e[s]):ds(r)||jr(r)||hi(r)||CM(r)?e[s]=r:delete e[s]}}),e}set(e){return Object.keys(e).forEach(s=>{Reflect.has(this,s)&&qe(this[s])&&(this[s]&&qe(this[s].value)&&qe(this[s].setValueAtTime)?this[s].value!==e[s]&&(this[s].value=e[s]):this[s]instanceof On?this[s].set(e[s]):this[s]=e[s])}),this}}class qp extends es{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const s=this.get(e);return s!==null?s.state:this._initial}setStateAtTime(e,s,r){return sr(s,0),this.add(Object.assign({},r,{state:e,time:s})),this}getLastState(e,s){const r=this._search(s);for(let o=r;o>=0;o--){const l=this._timeline[o];if(l.state===e)return l}}getNextState(e,s){const r=this._search(s);if(r!==-1)for(let o=r;o<this._timeline.length;o++){const l=this._timeline[o];if(l.state===e)return l}}}class nt extends On{constructor(){const e=Ne(nt.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Be(qe(e.param)&&(Ur(e.param)||e.param instanceof nt),"param must be an AudioParam");!Ur(e.param);)e.param=e.param._param;this._swappable=qe(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new es(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,qe(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(On.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return qe(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return qe(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,s){return this.units===s}_assertRange(e){return qe(this.maxValue)&&qe(this.minValue)&&sr(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?UM(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?HM(e):e}setValueAtTime(e,s){const r=this.toSeconds(s),o=this._fromType(e);return Be(isFinite(o)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,r),this}getValueAtTime(e){const s=Math.max(this.toSeconds(e),0),r=this._events.getAfter(s),o=this._events.get(s);let l=this._initialValue;if(o===null)l=this._initialValue;else if(o.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const u=this._events.getBefore(o.time);let d;u===null?d=this._initialValue:d=u.value,o.type==="setTargetAtTime"&&(l=this._exponentialApproach(o.time,d,o.value,o.constant,s))}else if(r===null)l=o.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let u=o.value;if(o.type==="setTargetAtTime"){const d=this._events.getBefore(o.time);d===null?u=this._initialValue:u=d.value}r.type==="linearRampToValueAtTime"?l=this._linearInterpolate(o.time,u,r.time,r.value,s):l=this._exponentialInterpolate(o.time,u,r.time,r.value,s)}else l=o.value;return this._toType(l)}setRampPoint(e){e=this.toSeconds(e);let s=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(s)===0&&(s=this._toType(this._minOutput)),this.setValueAtTime(s,e),this}linearRampToValueAtTime(e,s){const r=this._fromType(e),o=this.toSeconds(s);return Be(isFinite(r)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._assertRange(r),this._events.add({time:o,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,o),this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(e,s){let r=this._fromType(e);r=ls(r,0)?this._minOutput:r,this._assertRange(r);const o=this.toSeconds(s);return Be(isFinite(r)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,o),this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(e,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(s)),this}linearRampTo(e,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(s)),this}targetRampTo(e,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,s),this}exponentialApproachValueAtTime(e,s,r){s=this.toSeconds(s),r=this.toSeconds(r);const o=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,s,o),this.cancelAndHoldAtTime(s+r*.9),this.linearRampToValueAtTime(e,s+r),this}setTargetAtTime(e,s,r){const o=this._fromType(e);Be(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const l=this.toSeconds(s);return this._assertRange(o),Be(isFinite(o)&&isFinite(l),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(s)}`),this._events.add({constant:r,time:l,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",e,l,r),this._param.setTargetAtTime(o,l,r),this}setValueCurveAtTime(e,s,r,o=1){r=this.toSeconds(r),s=this.toSeconds(s);const l=this._fromType(e[0])*o;this.setValueAtTime(this._toType(l),s);const u=r/(e.length-1);for(let d=1;d<e.length;d++){const f=this._fromType(e[d])*o;this.linearRampToValueAtTime(this._toType(f),s+d*u)}return this}cancelScheduledValues(e){const s=this.toSeconds(e);return Be(isFinite(s),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(s),this._param.cancelScheduledValues(s),this.log(this.units,"cancelScheduledValues",s),this}cancelAndHoldAtTime(e){const s=this.toSeconds(e),r=this._fromType(this.getValueAtTime(s));Be(isFinite(s),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",s,"value="+r);const o=this._events.get(s),l=this._events.getAfter(s);return o&&ls(o.time,s)?l?(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time)):(this._param.cancelAndHoldAtTime(s),this._events.cancel(s+this.sampleTime)):l&&(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time),l.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),s):l.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),s)),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}rampTo(e,s=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,s,r):this.linearRampTo(e,s,r),this}apply(e){const s=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(s),s);const r=this._events.get(s);if(r&&r.type==="setTargetAtTime"){const o=this._events.getAfter(r.time),l=o?o.time:s+2,u=(l-s)/10;for(let d=s;d<l;d+=u)e.linearRampToValueAtTime(this.getValueAtTime(d),d)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?e.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?e.setTargetAtTime(o.value,o.time,o.constant):e[o.type](o.value,o.time)}),this}setParam(e){Be(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const s=this.input;return s.disconnect(this._param),this.apply(e),this._param=e,s.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,s,r,o,l){return r+(s-r)*Math.exp(-(l-e)/o)}_linearInterpolate(e,s,r,o,l){return s+(o-s)*((l-e)/(r-e))}_exponentialInterpolate(e,s,r,o,l){return s*Math.pow(o/s,(l-e)/(r-e))}}class De extends On{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return qe(this.input)?Ur(this.input)||this.input instanceof nt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return qe(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return qe(e)&&(e instanceof De||er(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Be(e.length>0,"ToneAudioNode does not have any internal nodes");const s=e[0];return{channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelInterpretation:e}))}connect(e,s=0,r=0){return mi(this,e,s,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Fp("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,s=0,r=0){return xw(this,e,s,r),this}chain(...e){return Ku(this,...e),this}fan(...e){return e.forEach(s=>this.connect(s)),this}dispose(){return super.dispose(),qe(this.input)&&(this.input instanceof De?this.input.dispose():er(this.input)&&this.input.disconnect()),qe(this.output)&&(this.output instanceof De?this.output.dispose():er(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ku(...n){const e=n.shift();n.reduce((s,r)=>(s instanceof De?s.connect(r):er(s)&&mi(s,r),r),e)}function mi(n,e,s=0,r=0){for(Be(qe(n),"Cannot connect from undefined node"),Be(qe(e),"Cannot connect to undefined node"),(e instanceof De||er(e))&&Be(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Be(n.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof De||e instanceof nt;)qe(e.input)&&(e=e.input);for(;n instanceof De;)qe(n.output)&&(n=n.output);Ur(e)?n.connect(e,s):n.connect(e,s,r)}function xw(n,e,s=0,r=0){if(qe(e))for(;e instanceof De;)e=e.input;for(;!er(n);)qe(n.output)&&(n=n.output);Ur(e)?n.disconnect(e,s):er(e)?n.disconnect(e,s,r):n.disconnect()}class dt extends De{constructor(){const e=Ne(dt.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new nt({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),ct(this,"gain")}static getDefaults(){return Object.assign(De.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ao extends De{constructor(e){super(e),this.onended=ot,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new dt({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(s){const r=this.toSeconds(s);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(De.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ot})}_startGain(e,s=1){Be(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(s,e+r):this._gainNode.gain.exponentialApproachValueAtTime(s,e,r)):this._gainNode.gain.setValueAtTime(s,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Be(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const s=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+s,this._stopTime=Math.max(this._stopTime,this.now()),s>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,s,e):this._gainNode.gain.targetRampTo(0,s,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?s*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ot&&(this.onended(this),this.onended=ot,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Be(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=ot,this}}class Wp extends ao{constructor(){const e=Ne(Wp.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),mi(this._source,this._gainNode),this.offset=new nt({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(ao.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const s=this.toSeconds(e);return this.log("start",s),this._startGain(s),this._source.start(s),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class St extends De{constructor(){const e=Ne(St.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Wp({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(De.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,s=0,r=0){return bd(this,e,s,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,s){return this._param.setValueAtTime(e,s),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,s){return this._param.linearRampToValueAtTime(e,s),this}exponentialRampToValueAtTime(e,s){return this._param.exponentialRampToValueAtTime(e,s),this}exponentialRampTo(e,s,r){return this._param.exponentialRampTo(e,s,r),this}linearRampTo(e,s,r){return this._param.linearRampTo(e,s,r),this}targetRampTo(e,s,r){return this._param.targetRampTo(e,s,r),this}exponentialApproachValueAtTime(e,s,r){return this._param.exponentialApproachValueAtTime(e,s,r),this}setTargetAtTime(e,s,r){return this._param.setTargetAtTime(e,s,r),this}setValueCurveAtTime(e,s,r,o){return this._param.setValueCurveAtTime(e,s,r,o),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,s,r){return this._param.rampTo(e,s,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function bd(n,e,s,r){(e instanceof nt||Ur(e)||e instanceof St&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof St&&(e.overridden=!0)),mi(n,e,s,r)}class Gp extends nt{constructor(){const e=Ne(Gp.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new es(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(nt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,s,r){s=this.toSeconds(s),this.setRampPoint(s);const o=this._fromType(e),l=this._events.get(s),u=Math.round(Math.max(1/r,1));for(let d=0;d<=u;d++){const f=r*d+s,h=this._exponentialApproach(l.time,l.value,o,r,f);this.linearRampToValueAtTime(this._toType(h),f)}return this}setValueAtTime(e,s){const r=this.toSeconds(s);super.setValueAtTime(e,s);const o=this._events.get(r),l=this._events.previousEvent(o),u=this._getTicksUntilEvent(l,r);return o.ticks=Math.max(u,0),this}linearRampToValueAtTime(e,s){const r=this.toSeconds(s);super.linearRampToValueAtTime(e,s);const o=this._events.get(r),l=this._events.previousEvent(o),u=this._getTicksUntilEvent(l,r);return o.ticks=Math.max(u,0),this}exponentialRampToValueAtTime(e,s){s=this.toSeconds(s);const r=this._fromType(e),o=this._events.get(s),l=Math.round(Math.max((s-o.time)*10,1)),u=(s-o.time)/l;for(let d=0;d<=l;d++){const f=u*d+o.time,h=this._exponentialInterpolate(o.time,o.value,s,r,f);this.linearRampToValueAtTime(this._toType(h),f)}return this}_getTicksUntilEvent(e,s){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Jn(e.ticks)){const u=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(u,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let o=this._fromType(this.getValueAtTime(s));const l=this._events.get(s);return l&&l.time===s&&l.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(s-this.sampleTime))),.5*(s-e.time)*(r+o)+e.ticks}getTicksAtTime(e){const s=this.toSeconds(e),r=this._events.get(s);return Math.max(this._getTicksUntilEvent(r,s),0)}getDurationOfTicks(e,s){const r=this.toSeconds(s),o=this.getTicksAtTime(s);return this.getTimeOfTick(o+e)-r}getTimeOfTick(e){const s=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(s&&s.ticks===e)return s.time;if(s&&r&&r.type==="linearRampToValueAtTime"&&s.value!==r.value){const o=this._fromType(this.getValueAtTime(s.time)),u=(this._fromType(this.getValueAtTime(r.time))-o)/(r.time-s.time),d=Math.sqrt(Math.pow(o,2)-2*u*(s.ticks-e)),f=(-o+d)/u,h=(-o-d)/u;return(f>0?f:h)+s.time}else return s?s.value===0?1/0:s.time+(e-s.ticks)/s.value:e/this._initialValue}ticksToTime(e,s){return this.getDurationOfTicks(e,s)}timeToTicks(e,s){const r=this.toSeconds(s),o=this.toSeconds(e),l=this.getTicksAtTime(r);return this.getTicksAtTime(r+o)-l}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const s=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(s,0)}}class Zp extends St{constructor(){const e=Ne(Zp.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Gp({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(St.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,s){return this._param.ticksToTime(e,s)}timeToTicks(e,s){return this._param.timeToTicks(e,s)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,s){return this._param.getDurationOfTicks(e,s)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Yp extends On{constructor(){const e=Ne(Yp.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new qp,this._tickOffset=new es,this._ticksAtTime=new es,this._secondsAtTime=new es,this.frequency=new Zp({context:this.context,units:e.units,value:e.frequency}),ct(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},On.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,s){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),qe(s)&&this.setTicksAtTime(s,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const s=this.toSeconds(e);if(this._state.getValueAtTime(s)==="stopped"){const r=this._state.get(s);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(s),this._state.setStateAtTime("stopped",s),this.setTicksAtTime(0,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}pause(e){const s=this.toSeconds(e);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const s=this.toSeconds(e),r=this._state.getLastState("stopped",s),o=this._ticksAtTime.get(s),l={state:"paused",time:s};this._state.add(l);let u=o||r,d=o?o.ticks:0,f=null;return this._state.forEachBetween(u.time,s+this.sampleTime,h=>{let g=u.time;const p=this._tickOffset.get(h.time);p&&p.time>=u.time&&(d=p.ticks,g=p.time),u.state==="started"&&h.state!=="started"&&(d+=this.frequency.getTicksAtTime(h.time)-this.frequency.getTicksAtTime(g),h.time!==l.time&&(f={state:h.state,time:h.time,ticks:d})),u=h}),this._state.remove(l),f&&this._ticksAtTime.add(f),d}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const s=this.now(),r=this.frequency.timeToTicks(e,s);this.setTicksAtTime(r,s)}getSecondsAtTime(e){e=this.toSeconds(e);const s=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const o=this._secondsAtTime.get(e);let l=o||s,u=o?o.seconds:0,d=null;return this._state.forEachBetween(l.time,e+this.sampleTime,f=>{let h=l.time;const g=this._tickOffset.get(f.time);g&&g.time>=l.time&&(u=g.seconds,h=g.time),l.state==="started"&&f.state!=="started"&&(u+=f.time-h,f.time!==r.time&&(d={state:f.state,time:f.time,seconds:u})),l=f}),this._state.remove(r),d&&this._secondsAtTime.add(d),u}setTicksAtTime(e,s){return s=this.toSeconds(s),this._tickOffset.cancel(s),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,s),ticks:e,time:s}),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,s=this.now()){const r=this._tickOffset.get(s),o=this._state.get(s),l=Math.max(r.time,o.time),u=this.frequency.getTicksAtTime(l)+e-r.ticks;return this.frequency.getTimeOfTick(u)}forEachTickBetween(e,s,r){let o=this._state.get(e);this._state.forEachBetween(e,s,u=>{o&&o.state==="started"&&u.state!=="started"&&this.forEachTickBetween(Math.max(o.time,e),u.time-this.sampleTime,r),o=u});let l=null;if(o&&o.state==="started"){const u=Math.max(o.time,e),d=this.frequency.getTicksAtTime(u),f=this.frequency.getTicksAtTime(o.time),h=d-f;let g=Math.ceil(h)-h;g=ls(g,1)?0:g;let p=this.frequency.getTimeOfTick(d+g);for(;p<s;){try{r(p,Math.round(this.getTicksAtTime(p)))}catch(y){l=y;break}p+=this.frequency.getDurationOfTicks(1,p)}}if(l)throw l;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class _d extends On{constructor(){const e=Ne(_d.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=ot,this._lastUpdate=0,this._state=new qp("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Yp({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ct(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(On.getDefaults(),{callback:ot,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,s){fw(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,s),r<this._lastUpdate&&this.emit("start",r,s)),this}stop(e){const s=this.toSeconds(e);return this.log("stop",s),this._state.cancel(s),this._state.setStateAtTime("stopped",s),this._tickSource.stop(s),s<this._lastUpdate&&this.emit("stop",s),this}pause(e){const s=this.toSeconds(e);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._tickSource.pause(s),s<this._lastUpdate&&this.emit("pause",s)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,s){return this._tickSource.setTicksAtTime(e,s),this}getTimeOfTick(e,s=this.now()){return this._tickSource.getTimeOfTick(e,s)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,s){const r=this.toSeconds(s),o=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(o+e,r)}_loop(){const e=this._lastUpdate,s=this.now();this._lastUpdate=s,this.log("loop",e,s),e!==s&&(this._state.forEachBetween(e,s,r=>{switch(r.state){case"started":const o=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,o);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,s,(r,o)=>{this.callback(r,o)}))}getStateAtTime(e){const s=this.toSeconds(e);return this._state.getValueAtTime(s)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Jl.mixin(_d);class Vl extends De{constructor(){const e=Ne(Vl.getDefaults(),arguments,["delayTime","maxDelay"]);super(e),this.name="Delay";const s=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(s,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(s),this.delayTime=new nt({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),ct(this,"delayTime")}static getDefaults(){return Object.assign(De.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class wo extends De{constructor(){const e=Ne(wo.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new dt({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,ct(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(De.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Xp extends De{constructor(){const e=Ne(Xp.getDefaults(),arguments);super(e),this.name="Destination",this.input=new wo({context:this.context}),this.output=new dt({context:this.context}),this.volume=this.input.volume,Ku(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(De.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Ku(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}gd(n=>{n.destination=new Xp({context:n})});vd(n=>{n.destination.dispose()});class XM extends De{constructor(){super(...arguments),this.name="Listener",this.positionX=new nt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new nt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new nt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new nt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new nt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new nt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new nt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new nt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new nt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(De.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}gd(n=>{n.listener=new XM({context:n})});vd(n=>{n.listener.dispose()});class Qp extends yi{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Ne(Qp.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(s=>{this._loadingCount++;const r=e.urls[s];this.add(s,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:ot,onload:ot,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Be(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,s])=>s.loaded)}add(e,s,r=ot,o=ot){return hi(s)?(this.baseUrl&&s.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new wt(this.baseUrl+s,r,o))):this._buffers.set(e.toString(),new wt(s,r,o)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Xa extends Dl{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class QM extends On{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new es,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,s){return this._events.add({callback:e,time:this.toSeconds(s)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,s=>{e-s.time<=this.expiration&&s.callback(),this._events.remove(s)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}gd(n=>{n.draw=new QM({context:n})});vd(n=>{n.draw.dispose()});class $M extends yi{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Be(qe(e.time),"Events must have a time property"),Be(qe(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let s=new KM(e.time,e.time+e.duration,e);for(this._root===null?this._root=s:this._root.insert(s),this._length++;s!==null;)s.updateHeight(),s.updateMax(),this._rebalance(s),s=s.parent;return this}remove(e){if(this._root!==null){const s=[];this._root.search(e.time,s);for(const r of s)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,s=>this.remove(s)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,s){e.parent!==null?(e.isLeftChild()?e.parent.left=s:e.parent.right=s,this._rebalance(e.parent)):this._setRoot(s)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const s=e.getBalance();let r,o=null;if(s>0)if(e.left.right===null)r=e.left,r.right=e.right,o=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,o=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,o=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,o=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),o&&this._rebalance(o)}e.dispose()}_rotateLeft(e){const s=e.parent,r=e.isLeftChild(),o=e.right;o&&(e.right=o.left,o.left=e),s!==null?r?s.left=o:s.right=o:this._setRoot(o)}_rotateRight(e){const s=e.parent,r=e.isLeftChild(),o=e.left;o&&(e.left=o.right,o.right=e),s!==null?r?s.left=o:s.right=o:this._setRoot(o)}_rebalance(e){const s=e.getBalance();s>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):s<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const s=[];if(this._root.search(e,s),s.length>0){let r=s[0];for(let o=1;o<s.length;o++)s[o].low>r.low&&(r=s[o]);return r.event}}return null}forEach(e){if(this._root!==null){const s=[];this._root.traverse(r=>s.push(r)),s.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,s){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(o=>{o.event&&s(o.event)})}return this}forEachFrom(e,s){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(o=>{o.event&&s(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class KM{constructor(e,s,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=s,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,s){e>this.max||(this.left!==null&&this.left.search(e,s),this.low<=e&&this.high>e&&s.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,s))}searchAfter(e,s){this.low>=e&&(s.push(this),this.left!==null&&this.left.searchAfter(e,s)),this.right!==null&&this.right.searchAfter(e,s)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class JM extends yi{constructor(e){super(),this.name="TimelineValue",this._timeline=new es({memory:10}),this._initialValue=e}set(e,s){return this._timeline.add({value:e,time:s}),this}get(e){const s=this._timeline.get(e);return s?s.value:this._initialValue}}class zs extends De{constructor(){super(Ne(zs.getDefaults(),arguments,["context"]))}connect(e,s=0,r=0){return bd(this,e,s,r),this}}class xo extends zs{constructor(){const e=Ne(xo.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,ds(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):TM(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(St.getDefaults(),{length:1024})}setMap(e,s=1024){const r=new Float32Array(s);for(let o=0,l=s;o<l;o++){const u=o/(l-1)*2-1;r[o]=e(u,o)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const s=["none","2x","4x"].some(r=>r.includes(e));Be(s,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class $p extends zs{constructor(){const e=Ne($p.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new xo({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(zs.getDefaults(),{value:1})}_expFunc(e){return s=>Math.pow(Math.abs(s),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class ir{constructor(e,s){this.id=ir._eventId++,this._remainderTime=0;const r=Object.assign(ir.getDefaults(),s);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:ot,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const s=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*s),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}ir._eventId=0;class Kp extends ir{constructor(e,s){super(e,s),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Kp.getDefaults(),s);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ir.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Qu(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Xa(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Qu(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Xa(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const s=this.transport.getTicksAtTime(e);ro(s,this.time)&&(this._nextTick=this.floatTime+Math.ceil((s-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class wd extends On{constructor(){const e=Ne(wd.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new JM(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new es,this._repeatedEvents=new $M,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new _d({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),ct(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(On.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,s){if(this._loop.get(e)&&s>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),s=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&s%this._ppq!==0&&s%(this._swingTicks*2)!==0){const r=s%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(r*Math.PI)*this._swingAmount;e+=new Xa(this.context,this._swingTicks*2/3).toSeconds()*o}tb(!0),this._timeline.forEachAtTime(s,r=>r.invoke(e)),tb(!1)}schedule(e,s){const r=new ir(this,{callback:e,time:new Dl(this.context,s).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,s,r,o=1/0){const l=new Kp(this,{callback:e,duration:new us(this.context,o).toTicks(),interval:new us(this.context,s).toTicks(),time:new Dl(this.context,r).toTicks()});return this._addEvent(l,this._repeatedEvents)}scheduleOnce(e,s){const r=new ir(this,{callback:e,once:!0,time:new Dl(this.context,s).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const s=this._scheduledEvents[e.toString()];s.timeline.remove(s.event),s.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,s){return this._scheduledEvents[e.id.toString()]={event:e,timeline:s},s.add(e),e.id}cancel(e=0){const s=this.toTicks(e);return this._timeline.forEachFrom(s,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(s,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,s)=>{s=new Xa(this.context,s).toSeconds(),this.emit("start",e,s)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,s){this.context.resume();let r;return qe(s)&&(r=this.toTicks(s)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){ds(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new us(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new us(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,s){return this.loopStart=e,this.loopEnd=s,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Xa(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),s=this._clock.getTicksAtTime(e);return new Xa(this.context,s).toBarsBeatsSixteenths()}set position(e){const s=this.toTicks(e);this.ticks=s}get seconds(){return this._clock.seconds}set seconds(e){const s=this.now(),r=this._clock.frequency.timeToTicks(e,s);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const s=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(s),o=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,s),l=s+o;this.emit("stop",l),this._clock.setTicksAtTime(e,l),this.emit("start",l,this._clock.getSecondsAtTime(l))}else this.emit("ticks",s),this._clock.setTicksAtTime(e,s)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const s=this.now(),r=this.getTicksAtTime(s),o=e-r%e;return this._clock.nextTickTime(o,s)}}syncSignal(e,s){const r=this.now();let o=this.bpm,l=1/(60/o.getValueAtTime(r)/this.PPQ),u=[];if(e.units==="time"){const f=.015625/l,h=new dt(f),g=new $p(-1),p=new dt(f);o.chain(h,g,p),o=p,l=1/l,u=[h,g,p]}s||(e.getValueAtTime(r)!==0?s=e.getValueAtTime(r)/l:s=0);const d=new dt(s);return o.connect(d),d.connect(e._param),u.push(d),this._syncedSignals.push({initial:e.value,nodes:u,signal:e}),e.value=0,this}unsyncSignal(e){for(let s=this._syncedSignals.length-1;s>=0;s--){const r=this._syncedSignals[s];r.signal===e&&(r.nodes.forEach(o=>o.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(s,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),bw(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Jl.mixin(wd);gd(n=>{n.transport=new wd({context:n})});vd(n=>{n.transport.dispose()});class jn extends De{constructor(e){super(e),this.input=void 0,this._state=new qp("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ot,this._syncedStop=ot,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new wo({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,ct(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(De.getDefaults(),{mute:!1,onstop:ot,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,s,r){let o=Jn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")Be(ro(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,s,r);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const l=this._state.get(o);l&&(l.offset=this.toSeconds(eo(s,0)),l.duration=r?this.toSeconds(r):void 0);const u=this.context.transport.schedule(d=>{this._start(d,s,r)},o);this._scheduled.push(u),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else fw(this.context),this._start(o,s,r);return this}stop(e){let s=Jn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),this._state.getValueAtTime(s)==="started"||qe(this._state.getNextState("started",s))){if(this.log("stop",s),!this._synced)this._stop(s);else{const r=this.context.transport.schedule(this._stop.bind(this),s);this._scheduled.push(r)}this._state.cancel(s),this._state.setStateAtTime("stopped",s)}return this}restart(e,s,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,s,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,s)=>{if(ro(s,0)){const r=this._state.get(s);if(r&&r.state==="started"&&r.time!==s){const o=s-this.toSeconds(r.time);let l;r.duration&&(l=this.toSeconds(r.duration)-o),this._start(e,this.toSeconds(r.offset)+o,l)}}},this._syncedStop=e=>{const s=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(s)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ot,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class xd extends ao{constructor(){const e=Ne(xd.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,mi(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new nt({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new wt(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ao.getDefaults(),{url:new wt,loop:!1,loopEnd:0,loopStart:0,onload:ot,onerror:ot,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,s,r,o=1){Be(this.buffer.loaded,"buffer is either not set or not loaded");const l=this.toSeconds(e);this._startGain(l,o),this.loop?s=eo(s,this.loopStart):s=eo(s,0);let u=Math.max(this.toSeconds(s),0);if(this.loop){const d=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),h=d-f;Xm(u,d)&&(u=(u-f)%h+f),ls(u,this.buffer.duration)&&(u=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Qu(u,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(l,u)),qe(r)){let d=this.toSeconds(r);d=Math.max(d,0),this.stop(l+d)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Jr(n,e){return Ft(this,void 0,void 0,function*(){const s=e/n.context.sampleRate,r=new jp(1,s,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/s,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Jp extends ao{constructor(){const e=Ne(Jp.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],mi(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new nt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new nt({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),ct(this,["frequency","detune"])}static getDefaults(){return Object.assign(ao.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const s=this.toSeconds(e);return this.log("start",s),this._startGain(s),this._oscillator.start(s),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Ot extends jn{constructor(){const e=Ne(Ot.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new St({context:this.context,units:"frequency",value:e.frequency}),ct(this,"frequency"),this.detune=new St({context:this.context,units:"cents",value:e.detune}),ct(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(jn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const s=this.toSeconds(e),r=new Jp({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(s)}_stop(e){const s=this.toSeconds(e);this._oscillator&&this._oscillator.stop(s)}_restart(e){const s=this.toSeconds(e);return this.log("restart",s),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(s),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Ot._periodicWaveCache.find(s=>s.phase===this._phase&&BM(s.partials,this._partials));{const e=Ot._periodicWaveCache.find(s=>s.type===this._type&&s.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const s=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&s)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(qe(r)){const{partials:o,wave:l}=r;this._wave=l,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,l]=this._getRealImaginary(e,this._phase),u=this.context.createPeriodicWave(o,l);this._wave=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Ot._periodicWaveCache.push({imag:l,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),Ot._periodicWaveCache.length>100&&Ot._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){sr(e,0);let s=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(s=r[1]),this._type!=="custom")e===0?this.type=s:this.type=s+e.toString();else{const o=new Float32Array(e);this._partials.forEach((l,u)=>o[u]=l),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(e,s){let o=2048;const l=new Float32Array(o),u=new Float32Array(o);let d=1;if(e==="custom"){if(d=this._partials.length+1,this._partialCount=this._partials.length,o=d,this._partials.length===0)return[l,u]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);f?(d=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),e=f[1],d=Math.max(d,2),o=d):this._partialCount=0,this._partials=[]}for(let f=1;f<o;++f){const h=2/(f*Math.PI);let g;switch(e){case"sine":g=f<=d?1:0,this._partials[f-1]=g;break;case"square":g=f&1?2*h:0,this._partials[f-1]=g;break;case"sawtooth":g=h*(f&1?1:-1),this._partials[f-1]=g;break;case"triangle":f&1?g=2*(h*h)*(f-1>>1&1?-1:1):g=0,this._partials[f-1]=g;break;case"custom":g=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}g!==0?(l[f]=-g*Math.sin(s*f),u[f]=g*Math.cos(s*f)):(l[f]=0,u[f]=0)}return[l,u]}_inverseFFT(e,s,r){let o=0;const l=e.length;for(let u=0;u<l;u++)o+=e[u]*Math.cos(u*r)+s[u]*Math.sin(u*r);return o}getInitialValue(){const[e,s]=this._getRealImaginary(this._type,0);let r=0;const o=Math.PI*2,l=32;for(let u=0;u<l;u++)r=Math.max(this._inverseFFT(e,s,u/l*o),r);return PM(-this._inverseFFT(e,s,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Ft(this,arguments,void 0,function*(e=1024){return Jr(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Ot._periodicWaveCache=[];class Sw extends zs{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new xo({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Hr extends St{constructor(){const e=Ne(Hr.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new dt({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(St.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Sd extends jn{constructor(){const e=Ne(Sd.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new Sw({context:this.context}),this._modulationNode=new dt({context:this.context}),this._carrier=new Ot({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Ot({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Hr({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ct(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ot.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ft(this,arguments,void 0,function*(e=1024){return Jr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Td extends jn{constructor(){const e=Ne(Td.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new dt({context:this.context,gain:0}),this._carrier=new Ot({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new St({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Ot({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Hr({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Hr({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ct(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ot.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ft(this,arguments,void 0,function*(e=1024){return Jr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class tc extends jn{constructor(){const e=Ne(tc.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new dt({context:this.context,gain:0}),this._thresh=new xo({context:this.context,mapping:s=>s<=0?-1:1}),this.width=new St({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Ot({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ct(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(jn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Ft(this,arguments,void 0,function*(e=1024){return Jr(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Cd extends jn{constructor(){const e=Ne(Cd.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new St({context:this.context,units:"frequency",value:e.frequency}),this.detune=new St({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,ct(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ot.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(s=>s.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(s=>s.stop(e))}_restart(e){this._forEach(s=>s.restart(e))}_forEach(e){for(let s=0;s<this._oscillators.length;s++)e(this._oscillators[s],s)}get type(){return this._type}set type(e){this._type=e,this._forEach(s=>s.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const s=-e/2,r=e/(this._oscillators.length-1);this._forEach((o,l)=>o.detune.value=s+r*l)}}get count(){return this._oscillators.length}set count(e){if(sr(e,1),this._oscillators.length!==e){this._forEach(s=>s.dispose()),this._oscillators=[];for(let s=0;s<e;s++){const r=new Ot({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+s/e*360,partialCount:this._partialCount,onstop:s===0?()=>this.onstop(this):ot});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[s]=r}this.spread=this._spread,this.state==="started"&&this._forEach(s=>s.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((s,r)=>s.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(s=>s.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(s=>s.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(s=>s.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Ft(this,arguments,void 0,function*(e=1024){return Jr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Ed extends jn{constructor(){const e=Ne(Ed.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Hr({context:this.context,value:2}),this._pulse=new tc({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Ot({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ct(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(jn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Ft(this,arguments,void 0,function*(e=1024){return Jr(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const sb={am:Sd,fat:Cd,fm:Td,oscillator:Ot,pulse:tc,pwm:Ed};class Ju extends jn{constructor(){const e=Ne(Ju.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new St({context:this.context,units:"frequency",value:e.frequency}),this.detune=new St({context:this.context,units:"cents",value:e.detune}),ct(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Ot.getDefaults(),Td.getDefaults(),Sd.getDefaults(),Cd.getDefaults(),tc.getDefaults(),Ed.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(s=>this._sourceType===s)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const s=sb[e],r=this.now();if(this._oscillator){const o=this._oscillator;o.stop(r),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new s({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let s="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(s=this._oscillator.type),e==="fm"?this.type="fm"+s:e==="am"?this.type="am"+s:e==="fat"?this.type="fat"+s:e==="oscillator"?this.type=s:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,s){return e instanceof sb[s]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&jr(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&jr(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&hi(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Ft(this,arguments,void 0,function*(e=1024){return Jr(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class e0 extends St{constructor(){super(Ne(e0.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new dt({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Ku(this._constantSource,this._sum)}static getDefaults(){return Object.assign(St.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class t0 extends zs{constructor(){const e=Ne(t0.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new Hr({context:this.context,value:e.max-e.min}),this._add=this.output=new e0({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(zs.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class n0 extends zs{constructor(){super(Ne(n0.getDefaults(),arguments)),this.name="Zero",this._gain=new dt({context:this.context}),this.output=this._gain,this.input=void 0,mi(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),xw(this.context.getConstant(0),this._gain),this}}class zl extends De{constructor(){const e=Ne(zl.getDefaults(),arguments,["frequency","min","max"]);super(e),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=nt.prototype._fromType,this._toType=nt.prototype._toType,this._is=nt.prototype._is,this._clampValue=nt.prototype._clampValue,this._oscillator=new Ot(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new dt({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new St({context:this.context,units:"audioRange",value:0}),this._zeros=new n0({context:this.context}),this._a2g=new Sw({context:this.context}),this._scaler=this.output=new t0({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),ct(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(Ot.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const s=this.min,r=this.max;this._units=e,this.min=s,this.max=r}get state(){return this._oscillator.state}connect(e,s,r){return(e instanceof nt||e instanceof St)&&(this.convert=e.convert,this.units=e.units),bd(this,e,s,r),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Tw(n,e=1/0){const s=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(l){sr(l,n,e),s.set(this,l)}})}}function bi(n,e=1/0){const s=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(l){sr(this.toSeconds(l),n,e),s.set(this,l)}})}}class Ad extends jn{constructor(){const e=Ne(Ad.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new wt({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(jn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ot,onerror:ot,playbackRate:1,reverse:!1})}load(e){return Ft(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=ot){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,s,r){return super.start(e,s,r),this}_start(e,s,r){this._loop?s=eo(s,this._loopStart):s=eo(s,0);const o=this.toSeconds(s),l=r;r=eo(r,Math.max(this._buffer.duration-o,0));let u=this.toSeconds(r);u=u/this._playbackRate,e=this.toSeconds(e);const d=new xd({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+u),this._state.setStateAtTime("stopped",e+u,{implicitEnd:!0})),this._activeSources.add(d),this._loop&&Jn(l)?d.start(e,o):d.start(e,o,u-this.toSeconds(this.fadeOut))}_stop(e){const s=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(s))}restart(e,s,r){return super.restart(e,s,r),this}_restart(e,s,r){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(e),this._start(e,s,r)}seek(e,s){const r=this.toSeconds(s);if(this._state.getValueAtTime(r)==="started"){const o=this.toSeconds(e);this._stop(r),this._start(r,o)}return this}setLoopPoints(e,s){return this.loopStart=e,this.loopEnd=s,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&sr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&sr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(s=>{s.loop=e}),e)){const s=this._state.getNextState("stopped",this.now());s&&this._state.cancel(s.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const s=this.now(),r=this._state.getNextState("stopped",s);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(e,s)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}vs([bi(0)],Ad.prototype,"fadeIn",void 0);vs([bi(0)],Ad.prototype,"fadeOut",void 0);class eO extends zs{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new xo({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class dr extends De{constructor(){const e=Ne(dr.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new St({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(De.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,s){if(hi(e))return e;{let r;for(r in xu)if(xu[r][s]===e)return r;return e}}_setCurve(e,s,r){if(hi(r)&&Reflect.has(xu,r)){const o=xu[r];Pr(o)?e!=="_decayCurve"&&(this[e]=o[s]):this[e]=o}else if(ds(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,s=1){this.log("triggerAttack",e,s),e=this.toSeconds(e);let o=this.toSeconds(this.attack);const l=this.toSeconds(this.decay),u=this.getValueAtTime(e);if(u>0){const d=1/o;o=(1-u)/d}if(o<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(s,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(s,o,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(s,o,e);else{this._sig.cancelAndHoldAtTime(e);let d=this._attackCurve;for(let f=1;f<d.length;f++)if(d[f-1]<=u&&u<=d[f]){d=this._attackCurve.slice(f),d[0]=u;break}this._sig.setValueCurveAtTime(d,e,o,s)}if(l&&this.sustain<1){const d=s*this.sustain,f=e+o;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(d,l+f):this._sig.exponentialApproachValueAtTime(d,f,l)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const s=this.getValueAtTime(e);if(s>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(Be(ds(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,s))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,s,r=1){return s=this.toSeconds(s),this.triggerAttack(s,r),this.triggerRelease(s+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,s=0,r=0){return bd(this,e,s,r),this}asArray(){return Ft(this,arguments,void 0,function*(e=1024){const s=e/this.context.sampleRate,r=new jp(1,s,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),l=o+this.toSeconds(this.release),u=l*.1,d=l+u,f=new this.constructor(Object.assign(this.get(),{attack:s*this.toSeconds(this.attack)/d,decay:s*this.toSeconds(this.decay)/d,release:s*this.toSeconds(this.release)/d,context:r}));return f._sig.toDestination(),f.triggerAttackRelease(s*(o+u)/d,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}vs([bi(0)],dr.prototype,"attack",void 0);vs([bi(0)],dr.prototype,"decay",void 0);vs([Tw(0,1)],dr.prototype,"sustain",void 0);vs([bi(0)],dr.prototype,"release",void 0);const xu=(()=>{let e,s;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const o=[],l=6.4;for(e=0;e<127;e++){s=e/127;const y=Math.sin(s*(Math.PI*2)*l-Math.PI/2)+1;o[e]=y/10+s*.83}o[127]=1;const u=[],d=5;for(e=0;e<128;e++)u[e]=Math.ceil(e/127*d)/d;const f=[];for(e=0;e<128;e++)s=e/127,f[e]=.5*(1-Math.cos(Math.PI*s));const h=[];for(e=0;e<128;e++){s=e/127;const y=Math.pow(s,3)*4+.2,b=Math.cos(y*Math.PI*2*s);h[e]=Math.abs(b*(1-s))}function g(y){const b=new Array(y.length);for(let x=0;x<y.length;x++)b[x]=1-y[x];return b}function p(y){return y.slice(0).reverse()}return{bounce:{In:g(h),Out:h},cosine:{In:r,Out:p(r)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:g(o)},sine:{In:f,Out:g(f)},step:{In:u,Out:g(u)}}})();class oo extends De{constructor(){const e=Ne(oo.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=s=>this._original_triggerRelease(s),this._volume=this.output=new wo({context:this.context,volume:e.volume}),this.volume=this._volume.volume,ct(this,"volume")}static getDefaults(){return Object.assign(De.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,s){const r=this["_original_"+e]=this[e];this[e]=(...o)=>{const l=o[s],u=this.context.transport.schedule(d=>{o[s]=d,r.apply(this,o)},l);this._scheduledEvents.push(u)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,s,r,o){const l=this.toSeconds(r),u=this.toSeconds(s);return this.triggerAttack(e,l,o),this.triggerRelease(l+u),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class lo extends oo{constructor(){const e=Ne(lo.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(oo.getDefaults(),{detune:0,onsilence:ot,portamento:0})}triggerAttack(e,s,r=1){this.log("triggerAttack",e,s,r);const o=this.toSeconds(s);return this._triggerEnvelopeAttack(o,r),this.setNote(e,o),this}triggerRelease(e){this.log("triggerRelease",e);const s=this.toSeconds(e);return this._triggerEnvelopeRelease(s),this}setNote(e,s){const r=this.toSeconds(s),o=e instanceof Kn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const l=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,l,r)}else this.frequency.setValueAtTime(o,r);return this}}vs([bi(0)],lo.prototype,"portamento",void 0);class s0 extends dr{constructor(){super(Ne(s0.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new dt({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ed extends lo{constructor(){const e=Ne(ed.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new Ju(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new s0(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),ct(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(lo.getDefaults(),{envelope:Object.assign(nb(dr.getDefaults(),Object.keys(De.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(nb(Ju.getDefaults(),[...Object.keys(jn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,s){if(this.envelope.triggerAttack(e,s),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+o)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Md extends ed{constructor(){const e=Ne(Md.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,ct(this,["oscillator","envelope"])}static getDefaults(){return Ja(lo.getDefaults(),ed.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,s){const r=this.toSeconds(s),o=this.toFrequency(e instanceof Kn?e.toFrequency():e),l=o*this.octaves;return this.oscillator.frequency.setValueAtTime(l,r),this.oscillator.frequency.exponentialRampToValueAtTime(o,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}vs([Tw(0)],Md.prototype,"octaves",void 0);vs([bi(0)],Md.prototype,"pitchDecay",void 0);const Cw=new Set;function i0(n){Cw.add(n)}function Ew(n,e){const s=`registerProcessor("${n}", ${e})`;Cw.add(s)}const tO=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;i0(tO);const nO=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;i0(nO);const sO=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;i0(sO);const iO="feedback-comb-filter",rO=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Ew(iO,rO);class Od extends oo{constructor(){const e=Ne(Od.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const s={};Object.keys(e.urls).forEach(r=>{const o=parseInt(r,10);if(Be(wu(r)||jr(o)&&isFinite(o),`url key is neither a note or midi pitch: ${r}`),wu(r)){const l=new Kn(this.context,r).toMidi();s[l]=e.urls[r]}else jr(o)&&isFinite(o)&&(s[o]=e.urls[o])}),this._buffers=new Qp({urls:s,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(oo.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ot,onerror:ot,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,s,r=1){return this.log("triggerAttack",e,s,r),Array.isArray(e)||(e=[e]),e.forEach(o=>{const l=ww(new Kn(this.context,o).toFrequency()),u=Math.round(l),d=l-u,f=this._findClosest(u),h=u-f,g=this._buffers.get(h),p=$u(f+d),y=new xd({url:g,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:p}).connect(this.output);y.start(s,0,g.duration/p,r),ds(this._activeSources.get(u))||this._activeSources.set(u,[]),this._activeSources.get(u).push(y),y.onended=()=>{if(this._activeSources&&this._activeSources.has(u)){const b=this._activeSources.get(u),x=b.indexOf(y);x!==-1&&b.splice(x,1)}}}),this}triggerRelease(e,s){return this.log("triggerRelease",e,s),Array.isArray(e)||(e=[e]),e.forEach(r=>{const o=new Kn(this.context,r).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const l=this._activeSources.get(o);s=this.toSeconds(s),l.forEach(u=>{u.stop(s)}),this._activeSources.set(o,[])}}),this}releaseAll(e){const s=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(s)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,s,r,o=1){const l=this.toSeconds(r);return this.triggerAttack(e,l,o),ds(s)?(Be(ds(e),"notes must be an array when duration is array"),e.forEach((u,d)=>{const f=s[Math.min(d,s.length-1)];this.triggerRelease(u,l+this.toSeconds(f))})):this.triggerRelease(e,l+this.toSeconds(s)),this}add(e,s,r){if(Be(wu(e)||isFinite(e),`note must be a pitch or midi: ${e}`),wu(e)){const o=new Kn(this.context,e).toMidi();this._buffers.add(o,s,r)}else this._buffers.add(e,s,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(s=>s.dispose())}),this._activeSources.clear(),this}}vs([bi(0)],Od.prototype,"attack",void 0);vs([bi(0)],Od.prototype,"release",void 0);class Nd extends De{constructor(){const e=Ne(Nd.getDefaults(),arguments,["fade"]);super(e),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new eO({context:this.context}),this.a=new dt({context:this.context,gain:0}),this.b=new dt({context:this.context,gain:0}),this.output=new dt({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new St({context:this.context,units:"normalRange",value:e.fade}),ct(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",mi(this._split,this.a.gain,0),mi(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(De.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class ib extends De{constructor(e){super(e),this.name="Effect",this._dryWet=new Nd({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new dt({context:this.context}),this.effectReturn=new dt({context:this.context}),this.input=new dt({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],ct(this,"wet")}static getDefaults(){return Object.assign(De.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class r0 extends De{constructor(){const e=Ne(r0.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new nt({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",ct(this,"pan")}static getDefaults(){return Object.assign(De.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const aO="bit-crusher",oO=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Ew(aO,oO);class rb extends ib{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new dt({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,ct(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(ib.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Rd extends rb{constructor(){const e=Ne(Rd.getDefaults(),arguments,["pitch"]);super(e),this.name="PitchShift",this._frequency=new St({context:this.context}),this._delayA=new Vl({maxDelay:1,context:this.context}),this._lfoA=new zl({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new Vl({maxDelay:1,context:this.context}),this._lfoB=new zl({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new Nd({context:this.context}),this._crossFadeLFO=new zl({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new Vl({delayTime:e.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,ct(this,"delayTime"),this._pitch=e.pitch,this._windowSize=e.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const s=this.now();this._lfoA.start(s),this._lfoB.start(s),this._crossFadeLFO.start(s),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(rb.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(e){this._pitch=e;let s=0;e<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,s=$u(e-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,s=$u(e)-1),this._frequency.value=s*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(e){this._windowSize=this.toSeconds(e),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class Pt extends De{constructor(){const e=Ne(Pt.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new dt({context:this.context}),Pt._allSolos.has(this.context)||Pt._allSolos.set(this.context,new Set),Pt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(De.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Pt._allSolos.get(this.context).forEach(s=>s._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Pt._soloed.has(this.context)||Pt._soloed.set(this.context,new Set),Pt._soloed.get(this.context).add(this)}_removeSolo(){Pt._soloed.has(this.context)&&Pt._soloed.get(this.context).delete(this)}_isSoloed(){return Pt._soloed.has(this.context)&&Pt._soloed.get(this.context).has(this)}_noSolos(){return!Pt._soloed.has(this.context)||Pt._soloed.has(this.context)&&Pt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Pt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Pt._allSolos=new Map;Pt._soloed=new Map;class a0 extends De{constructor(){const e=Ne(a0.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new r0({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new wo({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,ct(this,["pan","volume"])}static getDefaults(){return Object.assign(De.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Qa extends De{constructor(){const e=Ne(Qa.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Pt({solo:e.solo,context:this.context}),this._panVol=this.output=new a0({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ct(this,["pan","volume"])}static getDefaults(){return Object.assign(De.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Qa.buses.has(e)||Qa.buses.set(e,new dt({context:this.context})),Qa.buses.get(e)}send(e,s=0){const r=this._getBus(e),o=new dt({context:this.context,units:"decibels",gain:s});return this.connect(o),o.connect(r),o}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Qa.buses=new Map;cs().transport;cs().destination;cs().destination;cs().listener;cs().draw;cs();const lO=()=>window.AudioContext||window.webkitAudioContext,cO=()=>{const n=lO(),e=new n;Up(e);const s=e.createGain(),r=e.createDelay(5),o=e.createGain(),l=e.createBiquadFilter(),u=e.createBiquadFilter(),d=e.createGain(),f=e.createGain(),h=e.createConvolver(),g=e.createGain(),p=e.createGain(),y=e.createWaveShaper(),b=new Rd,x=e.createGain(),_=e.createGain();l.type="lowpass",u.type="highpass",d.gain.value=0,f.gain.value=0,o.gain.value=0,r.delayTime.value=0,g.gain.value=0,p.gain.value=1,b.pitch=0,x.gain.value=1,_.gain.value=1,y.oversample="4x";let T=!1;const C=new Map;let M=null,N=null;return{context:e,nodes:{masterGain:s,delay:r,feedback:o,lowPass:l,highPass:u,noiseGain:d,vinylGain:f,convolver:h,reverbGain:g,dryGain:p,distortion:y,pitchShift:b},ensureConnections:()=>{if(!T){u.connect(y),y.connect(x);try{x.connect(b.input._gainNode),b.connect(_)}catch{x.connect(_)}_.connect(l),l.connect(r),r.connect(o),o.connect(r),r.connect(p),r.connect(h),h.connect(g),p.connect(s),g.connect(s),l.connect(s),d.connect(s),f.connect(s),s.connect(e.destination),T=!0}},getNoiseBuffer:()=>(M||(M=v_(e)),M),getVinylBuffer:()=>(N||(N=y_(e)),N),getReverbImpulse:(U,j)=>{const H=`${e.sampleRate}:${U.toFixed(2)}:${j.toFixed(2)}`,K=C.get(H);if(K)return K;const ee=g_(e,U,j);return C.set(H,ee),ee},setVolume:U=>{s.gain.value=U},dispose:async()=>{T=!1,C.clear(),M=null,N=null,b.dispose();try{await e.close()}catch{}}}},uO=n=>{const e=n.length*n.numberOfChannels*2,s=new ArrayBuffer(44+e),r=new DataView(s),o=(u,d)=>{for(let f=0;f<d.length;f++)r.setUint8(u+f,d.charCodeAt(f))};o(0,"RIFF"),r.setUint32(4,36+e,!0),o(8,"WAVE"),o(12,"fmt "),r.setUint32(16,16,!0),r.setUint16(20,1,!0),r.setUint16(22,n.numberOfChannels,!0),r.setUint32(24,n.sampleRate,!0),r.setUint32(28,n.sampleRate*n.numberOfChannels*2,!0),r.setUint16(32,n.numberOfChannels*2,!0),r.setUint16(34,16,!0),o(36,"data"),r.setUint32(40,e,!0);let l=44;for(let u=0;u<n.length;u++)for(let d=0;d<n.numberOfChannels;d++){const f=Math.max(-1,Math.min(1,n.getChannelData(d)[u]));r.setInt16(l,f<0?f*32768:f*32767,!0),l+=2}return s},dO=.15,fO=n=>n.playbackRate,hO=n=>Math.abs(n-1)>1e-6,mO=(n,e)=>{if(!Number.isFinite(e)||e<=0||!hO(e))return n;const{numberOfChannels:s,length:r,sampleRate:o}=n,l=Math.max(1,Math.ceil(r/e)),u=new AudioBuffer({numberOfChannels:s,length:l,sampleRate:o});for(let d=0;d<s;d++){const f=n.getChannelData(d),h=u.getChannelData(d),g=r-1;for(let p=0;p<l;p++){const y=p*e,b=Math.min(g,Math.floor(y)),x=Math.min(g,b+1),_=y-b;if(b===x){h[p]=f[b];continue}const T=f[b],C=f[x];h[p]=T+(C-T)*_}}return u},pO=n=>{const e=n.delayFeedback>0?n.delayTime*4:0,s=n.reverbMix>0?n.reverbDecay:0;return Math.max(e,s)},gO=(n,e,s,r)=>{const o=n.createGain(),l=n.createDelay(5),u=n.createGain(),d=n.createBiquadFilter(),f=n.createBiquadFilter(),h=n.createGain(),g=n.createGain(),p=n.createConvolver(),y=n.createGain(),b=n.createGain(),x=n.createWaveShaper();Up(n);const _=new Rd(r.pitchShift),T=n.createGain(),C=n.createGain();T.gain.value=1,C.gain.value=1,d.type="lowpass",f.type="highpass",x.oversample="4x",l.delayTime.value=r.delayTime,u.gain.value=r.delayFeedback,h.gain.value=r.noiseLevel,d.frequency.value=r.lowPassFreq,f.frequency.value=r.highPassFreq,g.gain.value=r.vinylCrackle?dO:0,y.gain.value=r.reverbMix,b.gain.value=1-r.reverbMix,x.curve=p_(n,r.distortionAmount),e.connect(f),f.connect(x),x.connect(T);try{T.connect(_.input._gainNode),_.connect(C)}catch{T.connect(C)}C.connect(d),d.connect(l),l.connect(u),u.connect(l),l.connect(b),l.connect(p),p.connect(y),b.connect(o),y.connect(o),d.connect(o),h.connect(o),g.connect(o),o.connect(n.destination);const M=g_(n,r.reverbDecay,r.reverbDecay);if(p.buffer=M,r.noiseLevel>0){const N=n.createBufferSource();N.buffer=v_(n,s),N.connect(h),N.loop=!0,N.start(0)}if(r.vinylCrackle){const N=n.createBufferSource();N.buffer=y_(n,s),N.connect(g),N.loop=!0,N.start(0)}},Aw=async(n,e,s={})=>{const r=Math.max(.01,fO(e)),o=s.sampleRate??n.sampleRate,l=mO(n,r),u=l.duration,d=pO(e),f=u+d,h=Math.max(1,Math.ceil(f*o)),g=new OfflineAudioContext(l.numberOfChannels,h,o),p=g.createBufferSource();return p.buffer=l,p.playbackRate.value=1,gO(g,p,f,e),p.start(0),g.startRendering()},vO=async(n,e)=>{const s=await Aw(n,e),r=uO(s);return new Blob([r],{type:"audio/wav"})},yO=.15,ab=n=>n.playbackRate,Su=n=>{if(n.current){try{n.current.onended=null,n.current.stop()}catch{}try{n.current.disconnect()}catch{}n.current=null}};function bO(){const n=w.useRef(null),e=w.useRef(null),s=w.useRef(null),r=w.useRef(null),o=w.useRef(null),l=w.useRef(Ka),[u,d]=w.useState(!1),f=w.useRef(!1),[h,g]=w.useState(0),[p,y]=w.useState(0),b=w.useRef(0),x=w.useRef(0),_=w.useRef(1),T=w.useRef(null),C=()=>{if(!n.current){const O=cO();O.ensureConnections(),O.nodes.convolver.buffer=O.getReverbImpulse(Ka.reverbDecay,Ka.reverbDecay),n.current=O,_.current=ab(l.current),M(O,l.current)}return n.current},M=(O,I)=>{const{context:F,nodes:$}=O,ne=F.currentTime;$.delay.delayTime.setValueAtTime(I.delayTime,ne),$.feedback.gain.setValueAtTime(I.delayFeedback,ne),$.noiseGain.gain.setValueAtTime(I.noiseLevel,ne),$.lowPass.frequency.setValueAtTime(I.lowPassFreq,ne),$.highPass.frequency.setValueAtTime(I.highPassFreq,ne),$.vinylGain.gain.setValueAtTime(I.vinylCrackle?yO:0,ne),$.reverbGain.gain.setValueAtTime(I.reverbMix,ne),$.dryGain.gain.setValueAtTime(1-I.reverbMix,ne);const V=p_(F,I.distortionAmount);$.distortion.curve!==V&&($.distortion.curve=V);const G=12*Math.log2(I.playbackRate),X=I.pitchShift-G;$.pitchShift.pitch=X;const te=O.getReverbImpulse(I.reverbDecay,I.reverbDecay);$.convolver.buffer!==te&&($.convolver.buffer=te);const re=ab(I);if(e.current){const ue=z();_.current=re,b.current=ue,x.current=F.currentTime,e.current.playbackRate.setValueAtTime(re,ne),g(ue)}else _.current=re;N(O,I,f.current),B(O,I,f.current)},N=(O,I,F)=>{if(I.noiseLevel>0&&F){if(!s.current){const $=O.getNoiseBuffer(),ne=O.context.createBufferSource();ne.buffer=$,ne.loop=!0,ne.connect(O.nodes.noiseGain),ne.start(0),s.current=ne}}else s.current&&Su(s)},B=(O,I,F)=>{if(I.vinylCrackle&&F){if(!r.current){const $=O.getVinylBuffer(),ne=O.context.createBufferSource();ne.buffer=$,ne.loop=!0,ne.connect(O.nodes.vinylGain),ne.start(0),r.current=ne}}else r.current&&Su(r)},R=async O=>{const I=C();j();const F=await O.arrayBuffer(),$=await I.context.decodeAudioData(F.slice(0));return o.current=$,y($.duration),b.current=0,g(0),$},z=()=>{const O=n.current;if(!O||!f.current)return b.current;const I=(O.context.currentTime-x.current)*_.current;return Math.min(p,b.current+Math.max(0,I))},D=()=>{if(!f.current)return;const O=z();if(O>=p){k(!0);return}g(O),T.current=requestAnimationFrame(D)},k=O=>{const I=z();f.current=!1,T.current&&(cancelAnimationFrame(T.current),T.current=null),d(!1),O?(b.current=0,g(0)):(b.current=I,g(I))},W=async()=>{const O=C();if(!o.current)return;O.context.state==="suspended"&&await O.context.resume(),j(!1);const I=O.context.createBufferSource();I.buffer=o.current,I.playbackRate.value=_.current,I.onended=()=>k(!0),e.current=I,O.ensureConnections(),I.connect(O.nodes.highPass),x.current=O.context.currentTime,f.current=!0,d(!0),I.start(0,b.current),T.current=requestAnimationFrame(D),N(O,l.current,!0),B(O,l.current,!0)},U=()=>{if(!f.current||!e.current)return;const O=z();j(!1),b.current=O,g(O)},j=(O=!0)=>{if(e.current){try{e.current.onended=null,e.current.stop()}catch{}try{e.current.disconnect()}catch{}e.current=null}Su(s),Su(r),k(O)},H=O=>{const I=Math.max(0,Math.min(p,O)),F=f.current;F&&U(),b.current=I,g(I),F&&W()},K=O=>{const I=n.current;I&&I.setVolume(O)},ee=O=>{l.current=O;const I=n.current;I&&M(I,O)},ce=async O=>{if(!o.current)throw new Error("No audio loaded");return vO(o.current,O)};return w.useEffect(()=>()=>{j(),n.current&&(n.current.dispose().catch(()=>{}),n.current=null)},[]),{loadAudioFile:R,play:W,pause:U,stop:j,seek:H,setVolume:K,updateEffects:ee,exportAudio:ce,isPlaying:u,currentTime:h,duration:p}}function _O(){return E.jsxs("header",{className:"text-center space-y-2",children:[E.jsx("h1",{className:"text-4xl font-bold text-primary tracking-tight",children:"Doomer Mix Maker"}),E.jsx("p",{className:"text-muted-foreground",children:"Transform your tracks into melancholic masterpieces"})]})}function wO(){return E.jsx("footer",{className:"mt-8 py-4 text-center text-sm text-muted-foreground border-t",children:E.jsxs("p",{children:["Made with 🩷 by HS Trejo Luna, Frontend Developer at"," ",E.jsx("a",{href:"https://mostwant.tech",target:"_blank",rel:"noopener noreferrer",className:"hover:text-foreground transition-colors underline underline-offset-4",children:"⚡️ Most Want Tech ⚡️"})]})})}function Mw(n){var e,s,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(s=Mw(n[e]))&&(r&&(r+=" "),r+=s)}else for(s in n)n[s]&&(r&&(r+=" "),r+=s);return r}function Ow(){for(var n,e,s=0,r="",o=arguments.length;s<o;s++)(n=arguments[s])&&(e=Mw(n))&&(r&&(r+=" "),r+=e);return r}const o0="-",xO=n=>{const e=TO(n),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const d=u.split(o0);return d[0]===""&&d.length!==1&&d.shift(),Nw(d,e)||SO(u)},getConflictingClassGroupIds:(u,d)=>{const f=s[u]||[];return d&&r[u]?[...f,...r[u]]:f}}},Nw=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const s=n[0],r=e.nextPart.get(s),o=r?Nw(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const l=n.join(o0);return(u=e.validators.find(({validator:d})=>d(l)))==null?void 0:u.classGroupId},ob=/^\[(.+)\]$/,SO=n=>{if(ob.test(n)){const e=ob.exec(n)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},TO=n=>{const{theme:e,classGroups:s}=n,r={nextPart:new Map,validators:[]};for(const o in s)$m(s[o],r,o,e);return r},$m=(n,e,s,r)=>{n.forEach(o=>{if(typeof o=="string"){const l=o===""?e:lb(e,o);l.classGroupId=s;return}if(typeof o=="function"){if(CO(o)){$m(o(r),e,s,r);return}e.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([l,u])=>{$m(u,lb(e,l),s,r)})})},lb=(n,e)=>{let s=n;return e.split(o0).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},CO=n=>n.isThemeGetter,EO=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,r=new Map;const o=(l,u)=>{s.set(l,u),e++,e>n&&(e=0,r=s,s=new Map)};return{get(l){let u=s.get(l);if(u!==void 0)return u;if((u=r.get(l))!==void 0)return o(l,u),u},set(l,u){s.has(l)?s.set(l,u):o(l,u)}}},Km="!",Jm=":",AO=Jm.length,MO=n=>{const{prefix:e,experimentalParseClassName:s}=n;let r=o=>{const l=[];let u=0,d=0,f=0,h;for(let x=0;x<o.length;x++){let _=o[x];if(u===0&&d===0){if(_===Jm){l.push(o.slice(f,x)),f=x+AO;continue}if(_==="/"){h=x;continue}}_==="["?u++:_==="]"?u--:_==="("?d++:_===")"&&d--}const g=l.length===0?o:o.substring(f),p=OO(g),y=p!==g,b=h&&h>f?h-f:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:p,maybePostfixModifierPosition:b}};if(e){const o=e+Jm,l=r;r=u=>u.startsWith(o)?l(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(s){const o=r;r=l=>s({className:l,parseClassName:o})}return r},OO=n=>n.endsWith(Km)?n.substring(0,n.length-1):n.startsWith(Km)?n.substring(1):n,NO=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let l=[];return r.forEach(u=>{u[0]==="["||e[u]?(o.push(...l.sort(),u),l=[]):l.push(u)}),o.push(...l.sort()),o}},RO=n=>({cache:EO(n.cacheSize),parseClassName:MO(n),sortModifiers:NO(n),...xO(n)}),kO=/\s+/,DO=(n,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:l}=e,u=[],d=n.trim().split(kO);let f="";for(let h=d.length-1;h>=0;h-=1){const g=d[h],{isExternal:p,modifiers:y,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:_}=s(g);if(p){f=g+(f.length>0?" "+f:f);continue}let T=!!_,C=r(T?x.substring(0,_):x);if(!C){if(!T){f=g+(f.length>0?" "+f:f);continue}if(C=r(x),!C){f=g+(f.length>0?" "+f:f);continue}T=!1}const M=l(y).join(":"),N=b?M+Km:M,B=N+C;if(u.includes(B))continue;u.push(B);const R=o(C,T);for(let z=0;z<R.length;++z){const D=R[z];u.push(N+D)}f=g+(f.length>0?" "+f:f)}return f};function VO(){let n=0,e,s,r="";for(;n<arguments.length;)(e=arguments[n++])&&(s=Rw(e))&&(r&&(r+=" "),r+=s);return r}const Rw=n=>{if(typeof n=="string")return n;let e,s="";for(let r=0;r<n.length;r++)n[r]&&(e=Rw(n[r]))&&(s&&(s+=" "),s+=e);return s};function zO(n,...e){let s,r,o,l=u;function u(f){const h=e.reduce((g,p)=>p(g),n());return s=RO(h),r=s.cache.get,o=s.cache.set,l=d,d(f)}function d(f){const h=r(f);if(h)return h;const g=DO(f,s);return o(f,g),g}return function(){return l(VO.apply(null,arguments))}}const Ut=n=>{const e=s=>s[n]||[];return e.isThemeGetter=!0,e},kw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Dw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,BO=/^\d+\/\d+$/,IO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,LO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ja=n=>BO.test(n),Ie=n=>!!n&&!Number.isNaN(Number(n)),Yi=n=>!!n&&Number.isInteger(Number(n)),_m=n=>n.endsWith("%")&&Ie(n.slice(0,-1)),ci=n=>IO.test(n),UO=()=>!0,HO=n=>PO.test(n)&&!FO.test(n),Vw=()=>!1,qO=n=>LO.test(n),WO=n=>jO.test(n),GO=n=>!ge(n)&&!ve(n),ZO=n=>So(n,Iw,Vw),ge=n=>kw.test(n),Br=n=>So(n,Pw,HO),wm=n=>So(n,KO,Ie),cb=n=>So(n,zw,Vw),YO=n=>So(n,Bw,WO),Tu=n=>So(n,Fw,qO),ve=n=>Dw.test(n),El=n=>To(n,Pw),XO=n=>To(n,JO),ub=n=>To(n,zw),QO=n=>To(n,Iw),$O=n=>To(n,Bw),Cu=n=>To(n,Fw,!0),So=(n,e,s)=>{const r=kw.exec(n);return r?r[1]?e(r[1]):s(r[2]):!1},To=(n,e,s=!1)=>{const r=Dw.exec(n);return r?r[1]?e(r[1]):s:!1},zw=n=>n==="position"||n==="percentage",Bw=n=>n==="image"||n==="url",Iw=n=>n==="length"||n==="size"||n==="bg-size",Pw=n=>n==="length",KO=n=>n==="number",JO=n=>n==="family-name",Fw=n=>n==="shadow",eN=()=>{const n=Ut("color"),e=Ut("font"),s=Ut("text"),r=Ut("font-weight"),o=Ut("tracking"),l=Ut("leading"),u=Ut("breakpoint"),d=Ut("container"),f=Ut("spacing"),h=Ut("radius"),g=Ut("shadow"),p=Ut("inset-shadow"),y=Ut("text-shadow"),b=Ut("drop-shadow"),x=Ut("blur"),_=Ut("perspective"),T=Ut("aspect"),C=Ut("ease"),M=Ut("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...B(),ve,ge],z=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],k=()=>[ve,ge,f],W=()=>[ja,"full","auto",...k()],U=()=>[Yi,"none","subgrid",ve,ge],j=()=>["auto",{span:["full",Yi,ve,ge]},Yi,ve,ge],H=()=>[Yi,"auto",ve,ge],K=()=>["auto","min","max","fr",ve,ge],ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ce=()=>["start","end","center","stretch","center-safe","end-safe"],O=()=>["auto",...k()],I=()=>[ja,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],F=()=>[n,ve,ge],$=()=>[...B(),ub,cb,{position:[ve,ge]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",QO,ZO,{size:[ve,ge]}],G=()=>[_m,El,Br],X=()=>["","none","full",h,ve,ge],te=()=>["",Ie,El,Br],re=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[Ie,_m,ub,cb],ie=()=>["","none",x,ve,ge],we=()=>["none",Ie,ve,ge],Ae=()=>["none",Ie,ve,ge],Oe=()=>[Ie,ve,ge],Ce=()=>[ja,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ci],breakpoint:[ci],color:[UO],container:[ci],"drop-shadow":[ci],ease:["in","out","in-out"],font:[GO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ci],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ci],shadow:[ci],spacing:["px",Ie],text:[ci],"text-shadow":[ci],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ja,ge,ve,T]}],container:["container"],columns:[{columns:[Ie,ge,ve,d]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[Yi,"auto",ve,ge]}],basis:[{basis:[ja,"full","auto",d,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ie,ja,"auto","initial","none",ge]}],grow:[{grow:["",Ie,ve,ge]}],shrink:[{shrink:["",Ie,ve,ge]}],order:[{order:[Yi,"first","last","none",ve,ge]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...ee(),"normal"]}],"justify-items":[{"justify-items":[...ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...ce()]}],"align-content":[{content:["normal",...ee()]}],"align-items":[{items:[...ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":ee()}],"place-items":[{"place-items":[...ce(),"baseline"]}],"place-self":[{"place-self":["auto",...ce()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[d,"screen",...I()]}],"min-w":[{"min-w":[d,"screen","none",...I()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",s,El,Br]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ve,wm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_m,ge]}],"font-family":[{font:[XO,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ve,ge]}],"line-clamp":[{"line-clamp":[Ie,"none",ve,wm]}],leading:[{leading:[l,...k()]}],"list-image":[{"list-image":["none",ve,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ie,"from-font","auto",ve,Br]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Ie,"auto",ve,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Yi,ve,ge],radial:["",ve,ge],conic:[Yi,ve,ge]},$O,YO]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...re(),"hidden","none"]}],"divide-style":[{divide:[...re(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ie,ve,ge]}],"outline-w":[{outline:["",Ie,El,Br]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",g,Cu,Tu]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",p,Cu,Tu]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Ie,Br]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",y,Cu,Tu]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Ie,ve,ge]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ie]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[ve,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[Ie]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ge]}],filter:[{filter:["","none",ve,ge]}],blur:[{blur:ie()}],brightness:[{brightness:[Ie,ve,ge]}],contrast:[{contrast:[Ie,ve,ge]}],"drop-shadow":[{"drop-shadow":["","none",b,Cu,Tu]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Ie,ve,ge]}],"hue-rotate":[{"hue-rotate":[Ie,ve,ge]}],invert:[{invert:["",Ie,ve,ge]}],saturate:[{saturate:[Ie,ve,ge]}],sepia:[{sepia:["",Ie,ve,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ge]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[Ie,ve,ge]}],"backdrop-contrast":[{"backdrop-contrast":[Ie,ve,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ie,ve,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ie,ve,ge]}],"backdrop-invert":[{"backdrop-invert":["",Ie,ve,ge]}],"backdrop-opacity":[{"backdrop-opacity":[Ie,ve,ge]}],"backdrop-saturate":[{"backdrop-saturate":[Ie,ve,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Ie,ve,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ie,"initial",ve,ge]}],ease:[{ease:["linear","initial",C,ve,ge]}],delay:[{delay:[Ie,ve,ge]}],animate:[{animate:["none",M,ve,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,ve,ge]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:Ae()}],"scale-x":[{"scale-x":Ae()}],"scale-y":[{"scale-y":Ae()}],"scale-z":[{"scale-z":Ae()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[ve,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ce()}],"translate-x":[{"translate-x":Ce()}],"translate-y":[{"translate-y":Ce()}],"translate-z":[{"translate-z":Ce()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ge]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Ie,El,Br,wm]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},tN=zO(eN);function ft(...n){return tN(Ow(n))}function kd({className:n,...e}){return E.jsx("div",{"data-slot":"card",className:ft("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}const nN=new Map([["bold",w.createElement(w.Fragment,null,w.createElement("path",{d:"M196.49,151.51a12,12,0,0,1-17,17L168,157v51a12,12,0,0,1-24,0V157l-11.51,11.52a12,12,0,1,1-17-17l32-32a12,12,0,0,1,17,0ZM160,36A92.08,92.08,0,0,0,79,84.37,68,68,0,1,0,72,220h28a12,12,0,0,0,0-24H72a44,44,0,0,1-1.81-87.95A91.7,91.7,0,0,0,68,128a12,12,0,0,0,24,0,68,68,0,1,1,132.6,21.29,12,12,0,1,0,22.8,7.51A92.06,92.06,0,0,0,160,36Z"}))],["duotone",w.createElement(w.Fragment,null,w.createElement("path",{d:"M240,128a80,80,0,0,1-80,80H72A56,56,0,1,1,85.92,97.74l0,.1A80,80,0,0,1,240,128Z",opacity:"0.2"}),w.createElement("path",{d:"M178.34,165.66,160,147.31V208a8,8,0,0,1-16,0V147.31l-18.34,18.35a8,8,0,0,1-11.32-11.32l32-32a8,8,0,0,1,11.32,0l32,32a8,8,0,0,1-11.32,11.32ZM160,40A88.08,88.08,0,0,0,81.29,88.68,64,64,0,1,0,72,216h40a8,8,0,0,0,0-16H72a48,48,0,0,1,0-96c1.1,0,2.2,0,3.29.12A88,88,0,0,0,72,128a8,8,0,0,0,16,0,72,72,0,1,1,100.8,66,8,8,0,0,0,3.2,15.34,7.9,7.9,0,0,0,3.2-.68A88,88,0,0,0,160,40Z"}))],["fill",w.createElement(w.Fragment,null,w.createElement("path",{d:"M247.93,124.52C246.11,77.54,207.07,40,160.06,40A88.1,88.1,0,0,0,81.29,88.67h0A87.48,87.48,0,0,0,72,127.73,8.18,8.18,0,0,1,64.57,136,8,8,0,0,1,56,128a103.66,103.66,0,0,1,5.34-32.92,4,4,0,0,0-4.75-5.18A64.09,64.09,0,0,0,8,152c0,35.19,29.75,64,65,64H160A88.09,88.09,0,0,0,247.93,124.52Zm-50.27,9.14a8,8,0,0,1-11.32,0L168,115.31V176a8,8,0,0,1-16,0V115.31l-18.34,18.35a8,8,0,0,1-11.32-11.32l32-32a8,8,0,0,1,11.32,0l32,32A8,8,0,0,1,197.66,133.66Z"}))],["light",w.createElement(w.Fragment,null,w.createElement("path",{d:"M188.24,164.24a6,6,0,0,1-8.48,0L158,142.49V208a6,6,0,0,1-12,0V142.49l-21.76,21.75a6,6,0,0,1-8.48-8.48l32-32a6,6,0,0,1,8.48,0l32,32A6,6,0,0,1,188.24,164.24ZM160,42A86.1,86.1,0,0,0,82.43,90.88,62,62,0,1,0,72,214h40a6,6,0,0,0,0-12H72a50,50,0,0,1,0-100,50.68,50.68,0,0,1,5.91.36A85.54,85.54,0,0,0,74,128a6,6,0,0,0,12,0,74,74,0,1,1,103.6,67.85,6,6,0,0,0,4.8,11A86,86,0,0,0,160,42Z"}))],["regular",w.createElement(w.Fragment,null,w.createElement("path",{d:"M178.34,165.66,160,147.31V208a8,8,0,0,1-16,0V147.31l-18.34,18.35a8,8,0,0,1-11.32-11.32l32-32a8,8,0,0,1,11.32,0l32,32a8,8,0,0,1-11.32,11.32ZM160,40A88.08,88.08,0,0,0,81.29,88.68,64,64,0,1,0,72,216h40a8,8,0,0,0,0-16H72a48,48,0,0,1,0-96c1.1,0,2.2,0,3.29.12A88,88,0,0,0,72,128a8,8,0,0,0,16,0,72,72,0,1,1,100.8,66,8,8,0,0,0,3.2,15.34,7.9,7.9,0,0,0,3.2-.68A88,88,0,0,0,160,40Z"}))],["thin",w.createElement(w.Fragment,null,w.createElement("path",{d:"M186.83,162.83a4,4,0,0,1-5.66,0L156,137.66V208a4,4,0,0,1-8,0V137.66l-25.17,25.17a4,4,0,0,1-5.66-5.66l32-32a4,4,0,0,1,5.66,0l32,32A4,4,0,0,1,186.83,162.83ZM160,44A84.09,84.09,0,0,0,83.61,93.13,60,60,0,1,0,72,212h40a4,4,0,0,0,0-8H72a52,52,0,1,1,8.57-103.27A83.45,83.45,0,0,0,76,128a4,4,0,0,0,8,0,76,76,0,1,1,106.4,69.68,4,4,0,0,0,1.6,7.66,3.92,3.92,0,0,0,1.6-.33A84,84,0,0,0,160,44Z"}))]]),sN=new Map([["bold",w.createElement(w.Fragment,null,w.createElement("path",{d:"M228,144v64a12,12,0,0,1-12,12H40a12,12,0,0,1-12-12V144a12,12,0,0,1,24,0v52H204V144a12,12,0,0,1,24,0Zm-108.49,8.49a12,12,0,0,0,17,0l40-40a12,12,0,0,0-17-17L140,115V32a12,12,0,0,0-24,0v83L96.49,95.51a12,12,0,0,0-17,17Z"}))],["duotone",w.createElement(w.Fragment,null,w.createElement("path",{d:"M216,48V208H40V48A16,16,0,0,1,56,32H200A16,16,0,0,1,216,48Z",opacity:"0.2"}),w.createElement("path",{d:"M224,144v64a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V144a8,8,0,0,1,16,0v56H208V144a8,8,0,0,1,16,0Zm-101.66,5.66a8,8,0,0,0,11.32,0l40-40a8,8,0,0,0-11.32-11.32L136,124.69V32a8,8,0,0,0-16,0v92.69L93.66,98.34a8,8,0,0,0-11.32,11.32Z"}))],["fill",w.createElement(w.Fragment,null,w.createElement("path",{d:"M224,144v64a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V144a8,8,0,0,1,16,0v56H208V144a8,8,0,0,1,16,0Zm-101.66,5.66a8,8,0,0,0,11.32,0l40-40A8,8,0,0,0,168,96H136V32a8,8,0,0,0-16,0V96H88a8,8,0,0,0-5.66,13.66Z"}))],["light",w.createElement(w.Fragment,null,w.createElement("path",{d:"M222,144v64a6,6,0,0,1-6,6H40a6,6,0,0,1-6-6V144a6,6,0,0,1,12,0v58H210V144a6,6,0,0,1,12,0Zm-98.24,4.24a6,6,0,0,0,8.48,0l40-40a6,6,0,0,0-8.48-8.48L134,129.51V32a6,6,0,0,0-12,0v97.51L92.24,99.76a6,6,0,0,0-8.48,8.48Z"}))],["regular",w.createElement(w.Fragment,null,w.createElement("path",{d:"M224,144v64a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V144a8,8,0,0,1,16,0v56H208V144a8,8,0,0,1,16,0Zm-101.66,5.66a8,8,0,0,0,11.32,0l40-40a8,8,0,0,0-11.32-11.32L136,124.69V32a8,8,0,0,0-16,0v92.69L93.66,98.34a8,8,0,0,0-11.32,11.32Z"}))],["thin",w.createElement(w.Fragment,null,w.createElement("path",{d:"M220,144v64a4,4,0,0,1-4,4H40a4,4,0,0,1-4-4V144a4,4,0,0,1,8,0v60H212V144a4,4,0,0,1,8,0Zm-94.83,2.83a4,4,0,0,0,5.66,0l40-40a4,4,0,1,0-5.66-5.66L132,134.34V32a4,4,0,0,0-8,0V134.34L90.83,101.17a4,4,0,0,0-5.66,5.66Z"}))]]),iN=new Map([["bold",w.createElement(w.Fragment,null,w.createElement("path",{d:"M222.14,69.17,186.83,33.86A19.86,19.86,0,0,0,172.69,28H48A20,20,0,0,0,28,48V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V83.31A19.86,19.86,0,0,0,222.14,69.17ZM164,204H92V160h72Zm40,0H188V156a20,20,0,0,0-20-20H88a20,20,0,0,0-20,20v48H52V52H171l33,33ZM164,84a12,12,0,0,1-12,12H96a12,12,0,0,1,0-24h56A12,12,0,0,1,164,84Z"}))],["duotone",w.createElement(w.Fragment,null,w.createElement("path",{d:"M216,83.31V208a8,8,0,0,1-8,8H176V152a8,8,0,0,0-8-8H88a8,8,0,0,0-8,8v64H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8H172.69a8,8,0,0,1,5.65,2.34l35.32,35.32A8,8,0,0,1,216,83.31Z",opacity:"0.2"}),w.createElement("path",{d:"M219.31,72,184,36.69A15.86,15.86,0,0,0,172.69,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V83.31A15.86,15.86,0,0,0,219.31,72ZM168,208H88V152h80Zm40,0H184V152a16,16,0,0,0-16-16H88a16,16,0,0,0-16,16v56H48V48H172.69L208,83.31ZM160,72a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h56A8,8,0,0,1,160,72Z"}))],["fill",w.createElement(w.Fragment,null,w.createElement("path",{d:"M219.31,72,184,36.69A15.86,15.86,0,0,0,172.69,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V83.31A15.86,15.86,0,0,0,219.31,72ZM208,208H184V152a16,16,0,0,0-16-16H88a16,16,0,0,0-16,16v56H48V48H172.69L208,83.31ZM160,72a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h56A8,8,0,0,1,160,72Z"}))],["light",w.createElement(w.Fragment,null,w.createElement("path",{d:"M217.9,73.42,182.58,38.1a13.9,13.9,0,0,0-9.89-4.1H48A14,14,0,0,0,34,48V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V83.31A13.9,13.9,0,0,0,217.9,73.42ZM170,210H86V152a2,2,0,0,1,2-2h80a2,2,0,0,1,2,2Zm40-2a2,2,0,0,1-2,2H182V152a14,14,0,0,0-14-14H88a14,14,0,0,0-14,14v58H48a2,2,0,0,1-2-2V48a2,2,0,0,1,2-2H172.69a2,2,0,0,1,1.41.58L209.42,81.9a2,2,0,0,1,.58,1.41ZM158,72a6,6,0,0,1-6,6H96a6,6,0,0,1,0-12h56A6,6,0,0,1,158,72Z"}))],["regular",w.createElement(w.Fragment,null,w.createElement("path",{d:"M219.31,72,184,36.69A15.86,15.86,0,0,0,172.69,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V83.31A15.86,15.86,0,0,0,219.31,72ZM168,208H88V152h80Zm40,0H184V152a16,16,0,0,0-16-16H88a16,16,0,0,0-16,16v56H48V48H172.69L208,83.31ZM160,72a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h56A8,8,0,0,1,160,72Z"}))],["thin",w.createElement(w.Fragment,null,w.createElement("path",{d:"M216.49,74.83,181.17,39.51A11.93,11.93,0,0,0,172.69,36H48A12,12,0,0,0,36,48V208a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V83.31A11.93,11.93,0,0,0,216.49,74.83ZM172,212H84V152a4,4,0,0,1,4-4h80a4,4,0,0,1,4,4Zm40-4a4,4,0,0,1-4,4H180V152a12,12,0,0,0-12-12H88a12,12,0,0,0-12,12v60H48a4,4,0,0,1-4-4V48a4,4,0,0,1,4-4H172.69a4,4,0,0,1,2.82,1.17l35.32,35.32A4,4,0,0,1,212,83.31ZM156,72a4,4,0,0,1-4,4H96a4,4,0,0,1,0-8h56A4,4,0,0,1,156,72Z"}))]]),rN=new Map([["bold",w.createElement(w.Fragment,null,w.createElement("path",{d:"M108,84a16,16,0,1,1,16,16A16,16,0,0,1,108,84Zm128,44A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Zm-72,36.68V132a20,20,0,0,0-20-20,12,12,0,0,0-4,23.32V168a20,20,0,0,0,20,20,12,12,0,0,0,4-23.32Z"}))],["duotone",w.createElement(w.Fragment,null,w.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),w.createElement("path",{d:"M144,176a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176Zm88-48A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128ZM124,96a12,12,0,1,0-12-12A12,12,0,0,0,124,96Z"}))],["fill",w.createElement(w.Fragment,null,w.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-4,48a12,12,0,1,1-12,12A12,12,0,0,1,124,72Zm12,112a16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40a8,8,0,0,1,0,16Z"}))],["light",w.createElement(w.Fragment,null,w.createElement("path",{d:"M142,176a6,6,0,0,1-6,6,14,14,0,0,1-14-14V128a2,2,0,0,0-2-2,6,6,0,0,1,0-12,14,14,0,0,1,14,14v40a2,2,0,0,0,2,2A6,6,0,0,1,142,176ZM124,94a10,10,0,1,0-10-10A10,10,0,0,0,124,94Zm106,34A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"}))],["regular",w.createElement(w.Fragment,null,w.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"}))],["thin",w.createElement(w.Fragment,null,w.createElement("path",{d:"M140,176a4,4,0,0,1-4,4,12,12,0,0,1-12-12V128a4,4,0,0,0-4-4,4,4,0,0,1,0-8,12,12,0,0,1,12,12v40a4,4,0,0,0,4,4A4,4,0,0,1,140,176ZM124,92a8,8,0,1,0-8-8A8,8,0,0,0,124,92Zm104,36A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"}))]]),aN=new Map([["bold",w.createElement(w.Fragment,null,w.createElement("path",{d:"M200,28H160a20,20,0,0,0-20,20V208a20,20,0,0,0,20,20h40a20,20,0,0,0,20-20V48A20,20,0,0,0,200,28Zm-4,176H164V52h32ZM96,28H56A20,20,0,0,0,36,48V208a20,20,0,0,0,20,20H96a20,20,0,0,0,20-20V48A20,20,0,0,0,96,28ZM92,204H60V52H92Z"}))],["duotone",w.createElement(w.Fragment,null,w.createElement("path",{d:"M208,48V208a8,8,0,0,1-8,8H160a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h40A8,8,0,0,1,208,48ZM96,40H56a8,8,0,0,0-8,8V208a8,8,0,0,0,8,8H96a8,8,0,0,0,8-8V48A8,8,0,0,0,96,40Z",opacity:"0.2"}),w.createElement("path",{d:"M200,32H160a16,16,0,0,0-16,16V208a16,16,0,0,0,16,16h40a16,16,0,0,0,16-16V48A16,16,0,0,0,200,32Zm0,176H160V48h40ZM96,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V48A16,16,0,0,0,96,32Zm0,176H56V48H96Z"}))],["fill",w.createElement(w.Fragment,null,w.createElement("path",{d:"M216,48V208a16,16,0,0,1-16,16H160a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h40A16,16,0,0,1,216,48ZM96,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V48A16,16,0,0,0,96,32Z"}))],["light",w.createElement(w.Fragment,null,w.createElement("path",{d:"M200,34H160a14,14,0,0,0-14,14V208a14,14,0,0,0,14,14h40a14,14,0,0,0,14-14V48A14,14,0,0,0,200,34Zm2,174a2,2,0,0,1-2,2H160a2,2,0,0,1-2-2V48a2,2,0,0,1,2-2h40a2,2,0,0,1,2,2ZM96,34H56A14,14,0,0,0,42,48V208a14,14,0,0,0,14,14H96a14,14,0,0,0,14-14V48A14,14,0,0,0,96,34Zm2,174a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V48a2,2,0,0,1,2-2H96a2,2,0,0,1,2,2Z"}))],["regular",w.createElement(w.Fragment,null,w.createElement("path",{d:"M200,32H160a16,16,0,0,0-16,16V208a16,16,0,0,0,16,16h40a16,16,0,0,0,16-16V48A16,16,0,0,0,200,32Zm0,176H160V48h40ZM96,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V48A16,16,0,0,0,96,32Zm0,176H56V48H96Z"}))],["thin",w.createElement(w.Fragment,null,w.createElement("path",{d:"M200,36H160a12,12,0,0,0-12,12V208a12,12,0,0,0,12,12h40a12,12,0,0,0,12-12V48A12,12,0,0,0,200,36Zm4,172a4,4,0,0,1-4,4H160a4,4,0,0,1-4-4V48a4,4,0,0,1,4-4h40a4,4,0,0,1,4,4ZM96,36H56A12,12,0,0,0,44,48V208a12,12,0,0,0,12,12H96a12,12,0,0,0,12-12V48A12,12,0,0,0,96,36Zm4,172a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V48a4,4,0,0,1,4-4H96a4,4,0,0,1,4,4Z"}))]]),oN=new Map([["bold",w.createElement(w.Fragment,null,w.createElement("path",{d:"M234.49,111.07,90.41,22.94A20,20,0,0,0,60,39.87V216.13a20,20,0,0,0,30.41,16.93l144.08-88.13a19.82,19.82,0,0,0,0-33.86ZM84,208.85V47.15L216.16,128Z"}))],["duotone",w.createElement(w.Fragment,null,w.createElement("path",{d:"M228.23,134.69,84.15,222.81A8,8,0,0,1,72,216.12V39.88a8,8,0,0,1,12.15-6.69l144.08,88.12A7.82,7.82,0,0,1,228.23,134.69Z",opacity:"0.2"}),w.createElement("path",{d:"M232.4,114.49,88.32,26.35a16,16,0,0,0-16.2-.3A15.86,15.86,0,0,0,64,39.87V216.13A15.94,15.94,0,0,0,80,232a16.07,16.07,0,0,0,8.36-2.35L232.4,141.51a15.81,15.81,0,0,0,0-27ZM80,215.94V40l143.83,88Z"}))],["fill",w.createElement(w.Fragment,null,w.createElement("path",{d:"M240,128a15.74,15.74,0,0,1-7.6,13.51L88.32,229.65a16,16,0,0,1-16.2.3A15.86,15.86,0,0,1,64,216.13V39.87a15.86,15.86,0,0,1,8.12-13.82,16,16,0,0,1,16.2.3L232.4,114.49A15.74,15.74,0,0,1,240,128Z"}))],["light",w.createElement(w.Fragment,null,w.createElement("path",{d:"M231.36,116.19,87.28,28.06a14,14,0,0,0-14.18-.27A13.69,13.69,0,0,0,66,39.87V216.13a13.69,13.69,0,0,0,7.1,12.08,14,14,0,0,0,14.18-.27l144.08-88.13a13.82,13.82,0,0,0,0-23.62Zm-6.26,13.38L81,217.7a2,2,0,0,1-2.06,0,1.78,1.78,0,0,1-1-1.61V39.87a1.78,1.78,0,0,1,1-1.61A2.06,2.06,0,0,1,80,38a2,2,0,0,1,1,.31L225.1,126.43a1.82,1.82,0,0,1,0,3.14Z"}))],["regular",w.createElement(w.Fragment,null,w.createElement("path",{d:"M232.4,114.49,88.32,26.35a16,16,0,0,0-16.2-.3A15.86,15.86,0,0,0,64,39.87V216.13A15.94,15.94,0,0,0,80,232a16.07,16.07,0,0,0,8.36-2.35L232.4,141.51a15.81,15.81,0,0,0,0-27ZM80,215.94V40l143.83,88Z"}))],["thin",w.createElement(w.Fragment,null,w.createElement("path",{d:"M230.32,117.9,86.24,29.79a11.91,11.91,0,0,0-12.17-.23A11.71,11.71,0,0,0,68,39.89V216.11a11.71,11.71,0,0,0,6.07,10.33,11.91,11.91,0,0,0,12.17-.23L230.32,138.1a11.82,11.82,0,0,0,0-20.2Zm-4.18,13.37L82.06,219.39a4,4,0,0,1-4.07.07,3.77,3.77,0,0,1-2-3.35V39.89a3.77,3.77,0,0,1,2-3.35,4,4,0,0,1,4.07.07l144.08,88.12a3.8,3.8,0,0,1,0,6.54Z"}))]]),lN=new Map([["bold",w.createElement(w.Fragment,null,w.createElement("path",{d:"M200,36H56A20,20,0,0,0,36,56V200a20,20,0,0,0,20,20H200a20,20,0,0,0,20-20V56A20,20,0,0,0,200,36Zm-4,160H60V60H196Z"}))],["duotone",w.createElement(w.Fragment,null,w.createElement("path",{d:"M208,56V200a8,8,0,0,1-8,8H56a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8H200A8,8,0,0,1,208,56Z",opacity:"0.2"}),w.createElement("path",{d:"M200,40H56A16,16,0,0,0,40,56V200a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,160H56V56H200V200Z"}))],["fill",w.createElement(w.Fragment,null,w.createElement("path",{d:"M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z"}))],["light",w.createElement(w.Fragment,null,w.createElement("path",{d:"M200,42H56A14,14,0,0,0,42,56V200a14,14,0,0,0,14,14H200a14,14,0,0,0,14-14V56A14,14,0,0,0,200,42Zm2,158a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2H200a2,2,0,0,1,2,2Z"}))],["regular",w.createElement(w.Fragment,null,w.createElement("path",{d:"M200,40H56A16,16,0,0,0,40,56V200a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,160H56V56H200V200Z"}))],["thin",w.createElement(w.Fragment,null,w.createElement("path",{d:"M200,44H56A12,12,0,0,0,44,56V200a12,12,0,0,0,12,12H200a12,12,0,0,0,12-12V56A12,12,0,0,0,200,44Zm4,156a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4H200a4,4,0,0,1,4,4Z"}))]]),cN=new Map([["bold",w.createElement(w.Fragment,null,w.createElement("path",{d:"M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"}))],["duotone",w.createElement(w.Fragment,null,w.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),w.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["fill",w.createElement(w.Fragment,null,w.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))],["light",w.createElement(w.Fragment,null,w.createElement("path",{d:"M216,50H174V40a22,22,0,0,0-22-22H104A22,22,0,0,0,82,40V50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM94,40a10,10,0,0,1,10-10h48a10,10,0,0,1,10,10V50H94ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM110,104v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Zm48,0v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Z"}))],["regular",w.createElement(w.Fragment,null,w.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["thin",w.createElement(w.Fragment,null,w.createElement("path",{d:"M216,52H172V40a20,20,0,0,0-20-20H104A20,20,0,0,0,84,40V52H40a4,4,0,0,0,0,8H52V208a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V60h12a4,4,0,0,0,0-8ZM92,40a12,12,0,0,1,12-12h48a12,12,0,0,1,12,12V52H92ZM196,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V60H196ZM108,104v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Zm48,0v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Z"}))]]),uN=w.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),_i=w.forwardRef((n,e)=>{const{alt:s,color:r,size:o,weight:l,mirrored:u,children:d,weights:f,...h}=n,{color:g="currentColor",size:p,weight:y="regular",mirrored:b=!1,...x}=w.useContext(uN);return w.createElement("svg",{ref:e,xmlns:"http://www.w3.org/2000/svg",width:o??p,height:o??p,fill:r??g,viewBox:"0 0 256 256",transform:u||b?"scale(-1, 1)":void 0,...x,...h},!!s&&w.createElement("title",null,s),d,f.get(l??y))});_i.displayName="IconBase";const Lw=w.forwardRef((n,e)=>w.createElement(_i,{ref:e,...n,weights:nN}));Lw.displayName="CloudArrowUpIcon";const dN=Lw,jw=w.forwardRef((n,e)=>w.createElement(_i,{ref:e,...n,weights:sN}));jw.displayName="DownloadSimpleIcon";const Uw=jw,Hw=w.forwardRef((n,e)=>w.createElement(_i,{ref:e,...n,weights:iN}));Hw.displayName="FloppyDiskIcon";const fN=Hw,qw=w.forwardRef((n,e)=>w.createElement(_i,{ref:e,...n,weights:rN}));qw.displayName="InfoIcon";const db=qw,Ww=w.forwardRef((n,e)=>w.createElement(_i,{ref:e,...n,weights:aN}));Ww.displayName="PauseIcon";const hN=Ww,Gw=w.forwardRef((n,e)=>w.createElement(_i,{ref:e,...n,weights:oN}));Gw.displayName="PlayIcon";const mN=Gw,Zw=w.forwardRef((n,e)=>w.createElement(_i,{ref:e,...n,weights:lN}));Zw.displayName="StopIcon";const pN=Zw,Yw=w.forwardRef((n,e)=>w.createElement(_i,{ref:e,...n,weights:cN}));Yw.displayName="TrashIcon";const gN=Yw;var nc=f_();const Xw=d_(nc);function vN(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}const yN=n=>{switch(n){case"success":return wN;case"info":return SN;case"warning":return xN;case"error":return TN;default:return null}},bN=Array(12).fill(0),_N=({visible:n,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},de.createElement("div",{className:"sonner-spinner"},bN.map((s,r)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),wN=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),xN=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),SN=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),TN=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CN=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),EN=()=>{const[n,e]=de.useState(document.hidden);return de.useEffect(()=>{const s=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),n};let ep=1;class AN{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const s=this.subscribers.indexOf(e);this.subscribers.splice(s,1)}),this.publish=e=>{this.subscribers.forEach(s=>s(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var s;const{message:r,...o}=e,l=typeof(e==null?void 0:e.id)=="number"||((s=e.id)==null?void 0:s.length)>0?e.id:ep++,u=this.toasts.find(f=>f.id===l),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(f=>f.id===l?(this.publish({...f,...e,id:l,title:r}),{...f,...e,id:l,dismissible:d,title:r}):f):this.addToast({title:r,...o,dismissible:d,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:e,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(r=>r({id:s.id,dismiss:!0}))}),e),this.message=(e,s)=>this.create({...s,message:e}),this.error=(e,s)=>this.create({...s,message:e,type:"error"}),this.success=(e,s)=>this.create({...s,type:"success",message:e}),this.info=(e,s)=>this.create({...s,type:"info",message:e}),this.warning=(e,s)=>this.create({...s,type:"warning",message:e}),this.loading=(e,s)=>this.create({...s,type:"loading",message:e}),this.promise=(e,s)=>{if(!s)return;let r;s.loading!==void 0&&(r=this.create({...s,promise:e,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let l=r!==void 0,u;const d=o.then(async h=>{if(u=["resolve",h],de.isValidElement(h))l=!1,this.create({id:r,type:"default",message:h});else if(ON(h)&&!h.ok){l=!1;const p=typeof s.error=="function"?await s.error(`HTTP error! status: ${h.status}`):s.error,y=typeof s.description=="function"?await s.description(`HTTP error! status: ${h.status}`):s.description,x=typeof p=="object"&&!de.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:y,...x})}else if(h instanceof Error){l=!1;const p=typeof s.error=="function"?await s.error(h):s.error,y=typeof s.description=="function"?await s.description(h):s.description,x=typeof p=="object"&&!de.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:y,...x})}else if(s.success!==void 0){l=!1;const p=typeof s.success=="function"?await s.success(h):s.success,y=typeof s.description=="function"?await s.description(h):s.description,x=typeof p=="object"&&!de.isValidElement(p)?p:{message:p};this.create({id:r,type:"success",description:y,...x})}}).catch(async h=>{if(u=["reject",h],s.error!==void 0){l=!1;const g=typeof s.error=="function"?await s.error(h):s.error,p=typeof s.description=="function"?await s.description(h):s.description,b=typeof g=="object"&&!de.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:p,...b})}}).finally(()=>{l&&(this.dismiss(r),r=void 0),s.finally==null||s.finally.call(s)}),f=()=>new Promise((h,g)=>d.then(()=>u[0]==="reject"?g(u[1]):h(u[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(e,s)=>{const r=(s==null?void 0:s.id)||ep++;return this.create({jsx:e(r),id:r,...s}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const An=new AN,MN=(n,e)=>{const s=(e==null?void 0:e.id)||ep++;return An.addToast({title:n,...e,id:s}),s},ON=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",NN=MN,RN=()=>An.toasts,kN=()=>An.getActiveToasts(),on=Object.assign(NN,{success:An.success,info:An.info,warning:An.warning,error:An.error,custom:An.custom,message:An.message,promise:An.promise,dismiss:An.dismiss,loading:An.loading},{getHistory:RN,getToasts:kN});vN("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Eu(n){return n.label!==void 0}const DN=3,VN="24px",zN="16px",fb=4e3,BN=356,IN=14,PN=45,FN=200;function Cs(...n){return n.filter(Boolean).join(" ")}function LN(n){const[e,s]=n.split("-"),r=[];return e&&r.push(e),s&&r.push(s),r}const jN=n=>{var e,s,r,o,l,u,d,f,h;const{invert:g,toast:p,unstyled:y,interacting:b,setHeights:x,visibleToasts:_,heights:T,index:C,toasts:M,expanded:N,removeToast:B,defaultRichColors:R,closeButton:z,style:D,cancelButtonStyle:k,actionButtonStyle:W,className:U="",descriptionClassName:j="",duration:H,position:K,gap:ee,expandByDefault:ce,classNames:O,icons:I,closeButtonAriaLabel:F="Close toast"}=n,[$,ne]=de.useState(null),[V,G]=de.useState(null),[X,te]=de.useState(!1),[re,ue]=de.useState(!1),[oe,ie]=de.useState(!1),[we,Ae]=de.useState(!1),[Oe,Ce]=de.useState(!1),[Dt,vt]=de.useState(0),[he,be]=de.useState(0),Ze=de.useRef(p.duration||H||fb),$e=de.useRef(null),Me=de.useRef(null),st=C===0,qt=C+1<=_,yt=p.type,pn=p.dismissible!==!1,Lt=p.className||"",ko=p.descriptionClassName||"",Hs=de.useMemo(()=>T.findIndex(Re=>Re.toastId===p.id)||0,[T,p.id]),rc=de.useMemo(()=>{var Re;return(Re=p.closeButton)!=null?Re:z},[p.closeButton,z]),pr=de.useMemo(()=>p.duration||H||fb,[p.duration,H]),Do=de.useRef(0),qs=de.useRef(0),ac=de.useRef(0),wi=de.useRef(null),[gr,un]=K.split("-"),ts=de.useMemo(()=>T.reduce((Re,bt,Wt)=>Wt>=Hs?Re:Re+bt.height,0),[T,Hs]),nn=EN(),ef=p.invert||g,Vo=yt==="loading";qs.current=de.useMemo(()=>Hs*ee+ts,[Hs,ts]),de.useEffect(()=>{Ze.current=pr},[pr]),de.useEffect(()=>{te(!0)},[]),de.useEffect(()=>{const Re=Me.current;if(Re){const bt=Re.getBoundingClientRect().height;return be(bt),x(Wt=>[{toastId:p.id,height:bt,position:p.position},...Wt]),()=>x(Wt=>Wt.filter(sn=>sn.toastId!==p.id))}},[x,p.id]),de.useLayoutEffect(()=>{if(!X)return;const Re=Me.current,bt=Re.style.height;Re.style.height="auto";const Wt=Re.getBoundingClientRect().height;Re.style.height=bt,be(Wt),x(sn=>sn.find(Tt=>Tt.toastId===p.id)?sn.map(Tt=>Tt.toastId===p.id?{...Tt,height:Wt}:Tt):[{toastId:p.id,height:Wt,position:p.position},...sn])},[X,p.title,p.description,x,p.id,p.jsx,p.action,p.cancel]);const bs=de.useCallback(()=>{ue(!0),vt(qs.current),x(Re=>Re.filter(bt=>bt.toastId!==p.id)),setTimeout(()=>{B(p)},FN)},[p,B,x,qs]);de.useEffect(()=>{if(p.promise&&yt==="loading"||p.duration===1/0||p.type==="loading")return;let Re;return N||b||nn?(()=>{if(ac.current<Do.current){const sn=new Date().getTime()-Do.current;Ze.current=Ze.current-sn}ac.current=new Date().getTime()})():(()=>{Ze.current!==1/0&&(Do.current=new Date().getTime(),Re=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),bs()},Ze.current))})(),()=>clearTimeout(Re)},[N,b,p,yt,nn,bs]),de.useEffect(()=>{p.delete&&(bs(),p.onDismiss==null||p.onDismiss.call(p,p))},[bs,p.delete]);function ea(){var Re;if(I!=null&&I.loading){var bt;return de.createElement("div",{className:Cs(O==null?void 0:O.loader,p==null||(bt=p.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":yt==="loading"},I.loading)}return de.createElement(_N,{className:Cs(O==null?void 0:O.loader,p==null||(Re=p.classNames)==null?void 0:Re.loader),visible:yt==="loading"})}const ta=p.icon||(I==null?void 0:I[yt])||yN(yt);var vr,_s;return de.createElement("li",{tabIndex:0,ref:Me,className:Cs(U,Lt,O==null?void 0:O.toast,p==null||(e=p.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[yt],p==null||(s=p.classNames)==null?void 0:s[yt]),"data-sonner-toast":"","data-rich-colors":(vr=p.richColors)!=null?vr:R,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":X,"data-promise":!!p.promise,"data-swiped":Oe,"data-removed":re,"data-visible":qt,"data-y-position":gr,"data-x-position":un,"data-index":C,"data-front":st,"data-swiping":oe,"data-dismissible":pn,"data-type":yt,"data-invert":ef,"data-swipe-out":we,"data-swipe-direction":V,"data-expanded":!!(N||ce&&X),"data-testid":p.testId,style:{"--index":C,"--toasts-before":C,"--z-index":M.length-C,"--offset":`${re?Dt:qs.current}px`,"--initial-height":ce?"auto":`${he}px`,...D,...p.style},onDragEnd:()=>{ie(!1),ne(null),wi.current=null},onPointerDown:Re=>{Re.button!==2&&(Vo||!pn||($e.current=new Date,vt(qs.current),Re.target.setPointerCapture(Re.pointerId),Re.target.tagName!=="BUTTON"&&(ie(!0),wi.current={x:Re.clientX,y:Re.clientY})))},onPointerUp:()=>{var Re,bt,Wt;if(we||!pn)return;wi.current=null;const sn=Number(((Re=Me.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xi=Number(((bt=Me.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Tt=new Date().getTime()-((Wt=$e.current)==null?void 0:Wt.getTime()),gn=$==="x"?sn:xi,yr=Math.abs(gn)/Tt;if(Math.abs(gn)>=PN||yr>.11){vt(qs.current),p.onDismiss==null||p.onDismiss.call(p,p),G($==="x"?sn>0?"right":"left":xi>0?"down":"up"),bs(),Ae(!0);return}else{var vn,yn;(vn=Me.current)==null||vn.style.setProperty("--swipe-amount-x","0px"),(yn=Me.current)==null||yn.style.setProperty("--swipe-amount-y","0px")}Ce(!1),ie(!1),ne(null)},onPointerMove:Re=>{var bt,Wt,sn;if(!wi.current||!pn||((bt=window.getSelection())==null?void 0:bt.toString().length)>0)return;const Tt=Re.clientY-wi.current.y,gn=Re.clientX-wi.current.x;var yr;const vn=(yr=n.swipeDirections)!=null?yr:LN(K);!$&&(Math.abs(gn)>1||Math.abs(Tt)>1)&&ne(Math.abs(gn)>Math.abs(Tt)?"x":"y");let yn={x:0,y:0};const na=ns=>1/(1.5+Math.abs(ns)/20);if($==="y"){if(vn.includes("top")||vn.includes("bottom"))if(vn.includes("top")&&Tt<0||vn.includes("bottom")&&Tt>0)yn.y=Tt;else{const ns=Tt*na(Tt);yn.y=Math.abs(ns)<Math.abs(Tt)?ns:Tt}}else if($==="x"&&(vn.includes("left")||vn.includes("right")))if(vn.includes("left")&&gn<0||vn.includes("right")&&gn>0)yn.x=gn;else{const ns=gn*na(gn);yn.x=Math.abs(ns)<Math.abs(gn)?ns:gn}(Math.abs(yn.x)>0||Math.abs(yn.y)>0)&&Ce(!0),(Wt=Me.current)==null||Wt.style.setProperty("--swipe-amount-x",`${yn.x}px`),(sn=Me.current)==null||sn.style.setProperty("--swipe-amount-y",`${yn.y}px`)}},rc&&!p.jsx&&yt!=="loading"?de.createElement("button",{"aria-label":F,"data-disabled":Vo,"data-close-button":!0,onClick:Vo||!pn?()=>{}:()=>{bs(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Cs(O==null?void 0:O.closeButton,p==null||(r=p.classNames)==null?void 0:r.closeButton)},(_s=I==null?void 0:I.close)!=null?_s:CN):null,(yt||p.icon||p.promise)&&p.icon!==null&&((I==null?void 0:I[yt])!==null||p.icon)?de.createElement("div",{"data-icon":"",className:Cs(O==null?void 0:O.icon,p==null||(o=p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ea():null,p.type!=="loading"?ta:null):null,de.createElement("div",{"data-content":"",className:Cs(O==null?void 0:O.content,p==null||(l=p.classNames)==null?void 0:l.content)},de.createElement("div",{"data-title":"",className:Cs(O==null?void 0:O.title,p==null||(u=p.classNames)==null?void 0:u.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?de.createElement("div",{"data-description":"",className:Cs(j,ko,O==null?void 0:O.description,p==null||(d=p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),de.isValidElement(p.cancel)?p.cancel:p.cancel&&Eu(p.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:Re=>{Eu(p.cancel)&&pn&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Re),bs())},className:Cs(O==null?void 0:O.cancelButton,p==null||(f=p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,de.isValidElement(p.action)?p.action:p.action&&Eu(p.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||W,onClick:Re=>{Eu(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Re),!Re.defaultPrevented&&bs())},className:Cs(O==null?void 0:O.actionButton,p==null||(h=p.classNames)==null?void 0:h.actionButton)},p.action.label):null)};function hb(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function UN(n,e){const s={};return[n,e].forEach((r,o)=>{const l=o===1,u=l?"--mobile-offset":"--offset",d=l?zN:VN;function f(h){["top","right","bottom","left"].forEach(g=>{s[`${u}-${g}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?s[`${u}-${h}`]=d:s[`${u}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):f(d)}),s}const HN=de.forwardRef(function(e,s){const{id:r,invert:o,position:l="bottom-right",hotkey:u=["altKey","KeyT"],expand:d,closeButton:f,className:h,offset:g,mobileOffset:p,theme:y="light",richColors:b,duration:x,style:_,visibleToasts:T=DN,toastOptions:C,dir:M=hb(),gap:N=IN,icons:B,containerAriaLabel:R="Notifications"}=e,[z,D]=de.useState([]),k=de.useMemo(()=>r?z.filter(X=>X.toasterId===r):z.filter(X=>!X.toasterId),[z,r]),W=de.useMemo(()=>Array.from(new Set([l].concat(k.filter(X=>X.position).map(X=>X.position)))),[k,l]),[U,j]=de.useState([]),[H,K]=de.useState(!1),[ee,ce]=de.useState(!1),[O,I]=de.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=de.useRef(null),$=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),ne=de.useRef(null),V=de.useRef(!1),G=de.useCallback(X=>{D(te=>{var re;return(re=te.find(ue=>ue.id===X.id))!=null&&re.delete||An.dismiss(X.id),te.filter(({id:ue})=>ue!==X.id)})},[]);return de.useEffect(()=>An.subscribe(X=>{if(X.dismiss){requestAnimationFrame(()=>{D(te=>te.map(re=>re.id===X.id?{...re,delete:!0}:re))});return}setTimeout(()=>{Xw.flushSync(()=>{D(te=>{const re=te.findIndex(ue=>ue.id===X.id);return re!==-1?[...te.slice(0,re),{...te[re],...X},...te.slice(re+1)]:[X,...te]})})})}),[z]),de.useEffect(()=>{if(y!=="system"){I(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;const X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:te})=>{I(te?"dark":"light")})}catch{X.addListener(({matches:re})=>{try{I(re?"dark":"light")}catch(ue){console.error(ue)}})}},[y]),de.useEffect(()=>{z.length<=1&&K(!1)},[z]),de.useEffect(()=>{const X=te=>{var re;if(u.every(ie=>te[ie]||te.code===ie)){var oe;K(!0),(oe=F.current)==null||oe.focus()}te.code==="Escape"&&(document.activeElement===F.current||(re=F.current)!=null&&re.contains(document.activeElement))&&K(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[u]),de.useEffect(()=>{if(F.current)return()=>{ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null,V.current=!1)}},[F.current]),de.createElement("section",{ref:s,"aria-label":`${R} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},W.map((X,te)=>{var re;const[ue,oe]=X.split("-");return k.length?de.createElement("ol",{key:X,dir:M==="auto"?hb():M,tabIndex:-1,ref:F,className:h,"data-sonner-toaster":!0,"data-sonner-theme":O,"data-y-position":ue,"data-x-position":oe,style:{"--front-toast-height":`${((re=U[0])==null?void 0:re.height)||0}px`,"--width":`${BN}px`,"--gap":`${N}px`,..._,...UN(g,p)},onBlur:ie=>{V.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(V.current=!1,ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||V.current||(V.current=!0,ne.current=ie.relatedTarget)},onMouseEnter:()=>K(!0),onMouseMove:()=>K(!0),onMouseLeave:()=>{ee||K(!1)},onDragEnd:()=>K(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||ce(!0)},onPointerUp:()=>ce(!1)},k.filter(ie=>!ie.position&&te===0||ie.position===X).map((ie,we)=>{var Ae,Oe;return de.createElement(jN,{key:ie.id,icons:B,index:we,toast:ie,defaultRichColors:b,duration:(Ae=C==null?void 0:C.duration)!=null?Ae:x,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:o,visibleToasts:T,closeButton:(Oe=C==null?void 0:C.closeButton)!=null?Oe:f,interacting:ee,position:X,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:G,toasts:k.filter(Ce=>Ce.position==ie.position),heights:U.filter(Ce=>Ce.position==ie.position),setHeights:j,expandByDefault:d,gap:N,expanded:H,swipeDirections:e.swipeDirections})})):null}))});function qN({fileName:n,onFileSelect:e}){const[s,r]=w.useState(!1),o=w.useRef(null),l=g=>{var y;const p=(y=g.target.files)==null?void 0:y[0];p&&h(p)},u=g=>{g.preventDefault(),r(!1);const p=g.dataTransfer.files[0];p&&h(p)},d=g=>{g.preventDefault(),r(!0)},f=()=>{r(!1)},h=async g=>{if(!g.type.startsWith("audio/")){on.error("Please upload an audio file (MP3, WAV, OGG)");return}try{await e(g),on.success("Audio loaded successfully")}catch(p){console.error("Failed to load audio file:",p),on.error("Failed to load audio file")}};return E.jsx(kd,{className:"p-6",children:E.jsxs("div",{onDrop:u,onDragOver:d,onDragLeave:f,onClick:()=>{var g;return(g=o.current)==null?void 0:g.click()},className:`border-2 border-dashed rounded-lg p-12 text-center cursor-pointer transition-colors ${s?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,children:[E.jsx("input",{ref:o,type:"file",accept:"audio/*",onChange:l,className:"hidden"}),E.jsx(dN,{className:"mx-auto mb-4 text-primary",size:48}),E.jsx("p",{className:"text-lg mb-2",children:n||"Drop your audio file here or click to browse"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Supports MP3, WAV, OGG"})]})})}function mb(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Qw(...n){return e=>{let s=!1;const r=n.map(o=>{const l=mb(o,e);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let o=0;o<r.length;o++){const l=r[o];typeof l=="function"?l():mb(n[o],null)}}}}function Je(...n){return w.useCallback(Qw(...n),n)}function co(n){const e=GN(n),s=w.forwardRef((r,o)=>{const{children:l,...u}=r,d=w.Children.toArray(l),f=d.find(YN);if(f){const h=f.props.children,g=d.map(p=>p===f?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:p);return E.jsx(e,{...u,ref:o,children:w.isValidElement(h)?w.cloneElement(h,void 0,g):null})}return E.jsx(e,{...u,ref:o,children:l})});return s.displayName=`${n}.Slot`,s}var WN=co("Slot");function GN(n){const e=w.forwardRef((s,r)=>{const{children:o,...l}=s;if(w.isValidElement(o)){const u=QN(o),d=XN(l,o.props);return o.type!==w.Fragment&&(d.ref=r?Qw(r,u):u),w.cloneElement(o,d)}return w.Children.count(o)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var $w=Symbol("radix.slottable");function ZN(n){const e=({children:s})=>E.jsx(E.Fragment,{children:s});return e.displayName=`${n}.Slottable`,e.__radixId=$w,e}function YN(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===$w}function XN(n,e){const s={...e};for(const r in e){const o=n[r],l=e[r];/^on[A-Z]/.test(r)?o&&l?s[r]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(s[r]=o):r==="style"?s[r]={...o,...l}:r==="className"&&(s[r]=[o,l].filter(Boolean).join(" "))}return{...n,...s}}function QN(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}const pb=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,gb=Ow,Kw=(n,e)=>s=>{var r;if((e==null?void 0:e.variants)==null)return gb(n,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:o,defaultVariants:l}=e,u=Object.keys(o).map(h=>{const g=s==null?void 0:s[h],p=l==null?void 0:l[h];if(g===null)return null;const y=pb(g)||pb(p);return o[h][y]}),d=s&&Object.entries(s).reduce((h,g)=>{let[p,y]=g;return y===void 0||(h[p]=y),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,g)=>{let{class:p,className:y,...b}=g;return Object.entries(b).every(x=>{let[_,T]=x;return Array.isArray(T)?T.includes({...l,...d}[_]):{...l,...d}[_]===T})?[...h,p,y]:h},[]);return gb(n,u,f,s==null?void 0:s.class,s==null?void 0:s.className)},$N=Kw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function rr({className:n,variant:e,size:s,asChild:r=!1,...o}){const l=r?WN:"button";return E.jsx(l,{"data-slot":"button",className:ft($N({variant:e,size:s,className:n})),...o})}function KN({isPlaying:n,onPlay:e,onPause:s,onStop:r}){return E.jsxs("div",{className:"flex gap-2",children:[E.jsx(rr,{onClick:n?s:e,variant:"default",size:"lg",children:n?E.jsx(hN,{size:20}):E.jsx(mN,{size:20})}),E.jsx(rr,{onClick:r,variant:"secondary",size:"lg",children:E.jsx(pN,{size:20})})]})}var JN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=JN.reduce((n,e)=>{const s=co(`Primitive.${e}`),r=w.forwardRef((o,l)=>{const{asChild:u,...d}=o,f=u?s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(f,{...d,ref:l})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function eR(n,e){n&&nc.flushSync(()=>n.dispatchEvent(e))}var tR="Label",Jw=w.forwardRef((n,e)=>E.jsx(Fe.label,{...n,ref:e,onMouseDown:s=>{var o;s.target.closest("button, input, select, textarea")||((o=n.onMouseDown)==null||o.call(n,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Jw.displayName=tR;var nR=Jw;function ar({className:n,...e}){return E.jsx(nR,{"data-slot":"label",className:ft("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function td(n,[e,s]){return Math.min(s,Math.max(e,n))}function Pe(n,e,{checkForDefaultPrevented:s=!0}={}){return function(o){if(n==null||n(o),s===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function sR(n,e){const s=w.createContext(e),r=l=>{const{children:u,...d}=l,f=w.useMemo(()=>d,Object.values(d));return E.jsx(s.Provider,{value:f,children:u})};r.displayName=n+"Provider";function o(l){const u=w.useContext(s);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${n}\``)}return[r,o]}function fr(n,e=[]){let s=[];function r(l,u){const d=w.createContext(u),f=s.length;s=[...s,u];const h=p=>{var C;const{scope:y,children:b,...x}=p,_=((C=y==null?void 0:y[n])==null?void 0:C[f])||d,T=w.useMemo(()=>x,Object.values(x));return E.jsx(_.Provider,{value:T,children:b})};h.displayName=l+"Provider";function g(p,y){var _;const b=((_=y==null?void 0:y[n])==null?void 0:_[f])||d,x=w.useContext(b);if(x)return x;if(u!==void 0)return u;throw new Error(`\`${p}\` must be used within \`${l}\``)}return[h,g]}const o=()=>{const l=s.map(u=>w.createContext(u));return function(d){const f=(d==null?void 0:d[n])||l;return w.useMemo(()=>({[`__scope${n}`]:{...d,[n]:f}}),[d,f])}};return o.scopeName=n,[r,iR(o,...e)]}function iR(...n){const e=n[0];if(n.length===1)return e;const s=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=r.reduce((d,{useScope:f,scopeName:h})=>{const p=f(l)[`__scope${h}`];return{...d,...p}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return s.scopeName=e.scopeName,s}var ln=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},rR=h_[" useInsertionEffect ".trim().toString()]||ln;function uo({prop:n,defaultProp:e,onChange:s=()=>{},caller:r}){const[o,l,u]=aR({defaultProp:e,onChange:s}),d=n!==void 0,f=d?n:o;{const g=w.useRef(n!==void 0);w.useEffect(()=>{const p=g.current;p!==d&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,r])}const h=w.useCallback(g=>{var p;if(d){const y=oR(g)?g(n):g;y!==n&&((p=u.current)==null||p.call(u,y))}else l(g)},[d,n,l,u]);return[f,h]}function aR({defaultProp:n,onChange:e}){const[s,r]=w.useState(n),o=w.useRef(s),l=w.useRef(e);return rR(()=>{l.current=e},[e]),w.useEffect(()=>{var u;o.current!==s&&((u=l.current)==null||u.call(l,s),o.current=s)},[s,o]),[s,r,l]}function oR(n){return typeof n=="function"}var lR=w.createContext(void 0);function ex(n){const e=w.useContext(lR);return n||e||"ltr"}function l0(n){const e=w.useRef({value:n,previous:n});return w.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function c0(n){const[e,s]=w.useState(void 0);return ln(()=>{if(n){s({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let u,d;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;u=h.inlineSize,d=h.blockSize}else u=n.offsetWidth,d=n.offsetHeight;s({width:u,height:d})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else s(void 0)},[n]),e}function tx(n){const e=n+"CollectionProvider",[s,r]=fr(e),[o,l]=s(e,{collectionRef:{current:null},itemMap:new Map}),u=_=>{const{scope:T,children:C}=_,M=de.useRef(null),N=de.useRef(new Map).current;return E.jsx(o,{scope:T,itemMap:N,collectionRef:M,children:C})};u.displayName=e;const d=n+"CollectionSlot",f=co(d),h=de.forwardRef((_,T)=>{const{scope:C,children:M}=_,N=l(d,C),B=Je(T,N.collectionRef);return E.jsx(f,{ref:B,children:M})});h.displayName=d;const g=n+"CollectionItemSlot",p="data-radix-collection-item",y=co(g),b=de.forwardRef((_,T)=>{const{scope:C,children:M,...N}=_,B=de.useRef(null),R=Je(T,B),z=l(g,C);return de.useEffect(()=>(z.itemMap.set(B,{ref:B,...N}),()=>void z.itemMap.delete(B))),E.jsx(y,{[p]:"",ref:R,children:M})});b.displayName=g;function x(_){const T=l(n+"CollectionConsumer",_);return de.useCallback(()=>{const M=T.collectionRef.current;if(!M)return[];const N=Array.from(M.querySelectorAll(`[${p}]`));return Array.from(T.itemMap.values()).sort((z,D)=>N.indexOf(z.ref.current)-N.indexOf(D.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:u,Slot:h,ItemSlot:b},x,r]}var nx=["PageUp","PageDown"],sx=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ix={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Co="Slider",[tp,cR,uR]=tx(Co),[rx]=fr(Co,[uR]),[dR,Dd]=rx(Co),ax=w.forwardRef((n,e)=>{const{name:s,min:r=0,max:o=100,step:l=1,orientation:u="horizontal",disabled:d=!1,minStepsBetweenThumbs:f=0,defaultValue:h=[r],value:g,onValueChange:p=()=>{},onValueCommit:y=()=>{},inverted:b=!1,form:x,..._}=n,T=w.useRef(new Set),C=w.useRef(0),N=u==="horizontal"?fR:hR,[B=[],R]=uo({prop:g,defaultProp:h,onChange:j=>{var K;(K=[...T.current][C.current])==null||K.focus(),p(j)}}),z=w.useRef(B);function D(j){const H=yR(B,j);U(j,H)}function k(j){U(j,C.current)}function W(){const j=z.current[C.current];B[C.current]!==j&&y(B)}function U(j,H,{commit:K}={commit:!1}){const ee=xR(l),ce=SR(Math.round((j-r)/l)*l+r,ee),O=td(ce,[r,o]);R((I=[])=>{const F=gR(I,O,H);if(wR(F,f*l)){C.current=F.indexOf(O);const $=String(F)!==String(I);return $&&K&&y(F),$?F:I}else return I})}return E.jsx(dR,{scope:n.__scopeSlider,name:s,disabled:d,min:r,max:o,valueIndexToChangeRef:C,thumbs:T.current,values:B,orientation:u,form:x,children:E.jsx(tp.Provider,{scope:n.__scopeSlider,children:E.jsx(tp.Slot,{scope:n.__scopeSlider,children:E.jsx(N,{"aria-disabled":d,"data-disabled":d?"":void 0,..._,ref:e,onPointerDown:Pe(_.onPointerDown,()=>{d||(z.current=B)}),min:r,max:o,inverted:b,onSlideStart:d?void 0:D,onSlideMove:d?void 0:k,onSlideEnd:d?void 0:W,onHomeKeyDown:()=>!d&&U(r,0,{commit:!0}),onEndKeyDown:()=>!d&&U(o,B.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:H})=>{if(!d){const ce=nx.includes(j.key)||j.shiftKey&&sx.includes(j.key)?10:1,O=C.current,I=B[O],F=l*ce*H;U(I+F,O,{commit:!0})}}})})})})});ax.displayName=Co;var[ox,lx]=rx(Co,{startEdge:"left",endEdge:"right",size:"width",direction:1}),fR=w.forwardRef((n,e)=>{const{min:s,max:r,dir:o,inverted:l,onSlideStart:u,onSlideMove:d,onSlideEnd:f,onStepKeyDown:h,...g}=n,[p,y]=w.useState(null),b=Je(e,N=>y(N)),x=w.useRef(void 0),_=ex(o),T=_==="ltr",C=T&&!l||!T&&l;function M(N){const B=x.current||p.getBoundingClientRect(),R=[0,B.width],D=u0(R,C?[s,r]:[r,s]);return x.current=B,D(N-B.left)}return E.jsx(ox,{scope:n.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:E.jsx(cx,{dir:_,"data-orientation":"horizontal",...g,ref:b,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const B=M(N.clientX);u==null||u(B)},onSlideMove:N=>{const B=M(N.clientX);d==null||d(B)},onSlideEnd:()=>{x.current=void 0,f==null||f()},onStepKeyDown:N=>{const R=ix[C?"from-left":"from-right"].includes(N.key);h==null||h({event:N,direction:R?-1:1})}})})}),hR=w.forwardRef((n,e)=>{const{min:s,max:r,inverted:o,onSlideStart:l,onSlideMove:u,onSlideEnd:d,onStepKeyDown:f,...h}=n,g=w.useRef(null),p=Je(e,g),y=w.useRef(void 0),b=!o;function x(_){const T=y.current||g.current.getBoundingClientRect(),C=[0,T.height],N=u0(C,b?[r,s]:[s,r]);return y.current=T,N(_-T.top)}return E.jsx(ox,{scope:n.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:E.jsx(cx,{"data-orientation":"vertical",...h,ref:p,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:_=>{const T=x(_.clientY);l==null||l(T)},onSlideMove:_=>{const T=x(_.clientY);u==null||u(T)},onSlideEnd:()=>{y.current=void 0,d==null||d()},onStepKeyDown:_=>{const C=ix[b?"from-bottom":"from-top"].includes(_.key);f==null||f({event:_,direction:C?-1:1})}})})}),cx=w.forwardRef((n,e)=>{const{__scopeSlider:s,onSlideStart:r,onSlideMove:o,onSlideEnd:l,onHomeKeyDown:u,onEndKeyDown:d,onStepKeyDown:f,...h}=n,g=Dd(Co,s);return E.jsx(Fe.span,{...h,ref:e,onKeyDown:Pe(n.onKeyDown,p=>{p.key==="Home"?(u(p),p.preventDefault()):p.key==="End"?(d(p),p.preventDefault()):nx.concat(sx).includes(p.key)&&(f(p),p.preventDefault())}),onPointerDown:Pe(n.onPointerDown,p=>{const y=p.target;y.setPointerCapture(p.pointerId),p.preventDefault(),g.thumbs.has(y)?y.focus():r(p)}),onPointerMove:Pe(n.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&o(p)}),onPointerUp:Pe(n.onPointerUp,p=>{const y=p.target;y.hasPointerCapture(p.pointerId)&&(y.releasePointerCapture(p.pointerId),l(p))})})}),ux="SliderTrack",dx=w.forwardRef((n,e)=>{const{__scopeSlider:s,...r}=n,o=Dd(ux,s);return E.jsx(Fe.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:e})});dx.displayName=ux;var np="SliderRange",fx=w.forwardRef((n,e)=>{const{__scopeSlider:s,...r}=n,o=Dd(np,s),l=lx(np,s),u=w.useRef(null),d=Je(e,u),f=o.values.length,h=o.values.map(y=>px(y,o.min,o.max)),g=f>1?Math.min(...h):0,p=100-Math.max(...h);return E.jsx(Fe.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:d,style:{...n.style,[l.startEdge]:g+"%",[l.endEdge]:p+"%"}})});fx.displayName=np;var sp="SliderThumb",hx=w.forwardRef((n,e)=>{const s=cR(n.__scopeSlider),[r,o]=w.useState(null),l=Je(e,d=>o(d)),u=w.useMemo(()=>r?s().findIndex(d=>d.ref.current===r):-1,[s,r]);return E.jsx(mR,{...n,ref:l,index:u})}),mR=w.forwardRef((n,e)=>{const{__scopeSlider:s,index:r,name:o,...l}=n,u=Dd(sp,s),d=lx(sp,s),[f,h]=w.useState(null),g=Je(e,M=>h(M)),p=f?u.form||!!f.closest("form"):!0,y=c0(f),b=u.values[r],x=b===void 0?0:px(b,u.min,u.max),_=vR(r,u.values.length),T=y==null?void 0:y[d.size],C=T?bR(T,x,d.direction):0;return w.useEffect(()=>{if(f)return u.thumbs.add(f),()=>{u.thumbs.delete(f)}},[f,u.thumbs]),E.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${x}% + ${C}px)`},children:[E.jsx(tp.ItemSlot,{scope:n.__scopeSlider,children:E.jsx(Fe.span,{role:"slider","aria-label":n["aria-label"]||_,"aria-valuemin":u.min,"aria-valuenow":b,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...l,ref:g,style:b===void 0?{display:"none"}:n.style,onFocus:Pe(n.onFocus,()=>{u.valueIndexToChangeRef.current=r})})}),p&&E.jsx(mx,{name:o??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:b},r)]})});hx.displayName=sp;var pR="RadioBubbleInput",mx=w.forwardRef(({__scopeSlider:n,value:e,...s},r)=>{const o=w.useRef(null),l=Je(o,r),u=l0(e);return w.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==e&&g){const p=new Event("input",{bubbles:!0});g.call(d,e),d.dispatchEvent(p)}},[u,e]),E.jsx(Fe.input,{style:{display:"none"},...s,ref:l,defaultValue:e})});mx.displayName=pR;function gR(n=[],e,s){const r=[...n];return r[s]=e,r.sort((o,l)=>o-l)}function px(n,e,s){const l=100/(s-e)*(n-e);return td(l,[0,100])}function vR(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function yR(n,e){if(n.length===1)return 0;const s=n.map(o=>Math.abs(o-e)),r=Math.min(...s);return s.indexOf(r)}function bR(n,e,s){const r=n/2,l=u0([0,50],[0,r]);return(r-l(e)*s)*s}function _R(n){return n.slice(0,-1).map((e,s)=>n[s+1]-e)}function wR(n,e){if(e>0){const s=_R(n);return Math.min(...s)>=e}return!0}function u0(n,e){return s=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(s-n[0])}}function xR(n){return(String(n).split(".")[1]||"").length}function SR(n,e){const s=Math.pow(10,e);return Math.round(n*s)/s}var TR=ax,CR=dx,ER=fx,AR=hx;function gx({className:n,defaultValue:e,value:s,min:r=0,max:o=100,...l}){const u=w.useMemo(()=>Array.isArray(s)?s:Array.isArray(e)?e:[r,o],[s,e,r,o]);return E.jsxs(TR,{"data-slot":"slider",defaultValue:e,value:s,min:r,max:o,className:ft("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",n),...l,children:[E.jsx(CR,{"data-slot":"slider-track",className:ft("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:E.jsx(ER,{"data-slot":"slider-range",className:ft("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:u.length},(d,f)=>E.jsx(AR,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},f))]})}function MR({volume:n,onVolumeChange:e}){const s=r=>{e(r[0])};return E.jsxs("div",{className:"flex items-center gap-2 w-32",children:[E.jsx(ar,{className:"text-xs",children:"Vol"}),E.jsx(gx,{value:[n],onValueChange:s,max:1,step:.01,className:"flex-1"})]})}function vb(n){const e=Math.floor(n/60),s=Math.floor(n%60);return`${e}:${s.toString().padStart(2,"0")}`}function OR({audioBuffer:n,currentTime:e,duration:s,onSeek:r}){const o=w.useRef(null);w.useEffect(()=>{if(!o.current||!n)return;const u=o.current,d=u.getContext("2d");if(!d)return;const f=window.devicePixelRatio||1,h=u.getBoundingClientRect();u.width=h.width*f,u.height=h.height*f,d.scale(f,f);const g=h.width,p=h.height,y=n.getChannelData(0),b=Math.ceil(y.length/g),x=p/2;d.fillStyle="oklch(0.3 0.01 265)",d.fillRect(0,0,g,p),d.strokeStyle="oklch(0.65 0.15 220)",d.lineWidth=1,d.beginPath();for(let T=0;T<g;T++){let C=1,M=-1;for(let z=0;z<b;z++){const D=y[T*b+z];D<C&&(C=D),D>M&&(M=D)}const N=T,B=(1+C)*x,R=(1+M)*x;T===0&&d.moveTo(N,B),d.lineTo(N,B),d.lineTo(N,R)}d.stroke();const _=e/s*g;d.fillStyle="oklch(0.65 0.15 220 / 0.3)",d.fillRect(0,0,_,p),d.strokeStyle="oklch(0.65 0.15 220)",d.lineWidth=2,d.beginPath(),d.moveTo(_,0),d.lineTo(_,p),d.stroke()},[n,e,s]);const l=u=>{if(!o.current||!s)return;const d=o.current.getBoundingClientRect(),g=(u.clientX-d.left)/d.width*s;r(g)};return E.jsx("canvas",{ref:o,onClick:l,className:"w-full h-32 rounded-md cursor-pointer",style:{width:"100%",height:"128px"}})}function NR({audioBuffer:n,currentTime:e,duration:s,isPlaying:r,volume:o,onSeek:l,onPlay:u,onPause:d,onStop:f,onVolumeChange:h}){return E.jsxs(kd,{className:"p-6 space-y-4",children:[E.jsx(OR,{audioBuffer:n,currentTime:e,duration:s,onSeek:l}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("span",{className:"font-mono text-sm text-muted-foreground",children:[vb(e)," / ",vb(s)]}),E.jsx(KN,{isPlaying:r,onPlay:u,onPause:d,onStop:f}),E.jsx(MR,{volume:o,onVolumeChange:h})]})]})}var Vd="Switch",[RR]=fr(Vd),[kR,DR]=RR(Vd),vx=w.forwardRef((n,e)=>{const{__scopeSwitch:s,name:r,checked:o,defaultChecked:l,required:u,disabled:d,value:f="on",onCheckedChange:h,form:g,...p}=n,[y,b]=w.useState(null),x=Je(e,N=>b(N)),_=w.useRef(!1),T=y?g||!!y.closest("form"):!0,[C,M]=uo({prop:o,defaultProp:l??!1,onChange:h,caller:Vd});return E.jsxs(kR,{scope:s,checked:C,disabled:d,children:[E.jsx(Fe.button,{type:"button",role:"switch","aria-checked":C,"aria-required":u,"data-state":wx(C),"data-disabled":d?"":void 0,disabled:d,value:f,...p,ref:x,onClick:Pe(n.onClick,N=>{M(B=>!B),T&&(_.current=N.isPropagationStopped(),_.current||N.stopPropagation())})}),T&&E.jsx(_x,{control:y,bubbles:!_.current,name:r,value:f,checked:C,required:u,disabled:d,form:g,style:{transform:"translateX(-100%)"}})]})});vx.displayName=Vd;var yx="SwitchThumb",bx=w.forwardRef((n,e)=>{const{__scopeSwitch:s,...r}=n,o=DR(yx,s);return E.jsx(Fe.span,{"data-state":wx(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:e})});bx.displayName=yx;var VR="SwitchBubbleInput",_x=w.forwardRef(({__scopeSwitch:n,control:e,checked:s,bubbles:r=!0,...o},l)=>{const u=w.useRef(null),d=Je(u,l),f=l0(s),h=c0(e);return w.useEffect(()=>{const g=u.current;if(!g)return;const p=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(p,"checked").set;if(f!==s&&b){const x=new Event("click",{bubbles:r});b.call(g,s),g.dispatchEvent(x)}},[f,s,r]),E.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:d,style:{...o.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_x.displayName=VR;function wx(n){return n?"checked":"unchecked"}var zR=vx,BR=bx;function IR({className:n,...e}){return E.jsx(zR,{"data-slot":"switch",className:ft("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:E.jsx(BR,{"data-slot":"switch-thumb",className:ft("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function qr(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...s)=>{var r;return(r=e.current)==null?void 0:r.call(e,...s)},[])}function PR(n,e=globalThis==null?void 0:globalThis.document){const s=qr(n);w.useEffect(()=>{const r=o=>{o.key==="Escape"&&s(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[s,e])}var FR="DismissableLayer",ip="dismissableLayer.update",LR="dismissableLayer.pointerDownOutside",jR="dismissableLayer.focusOutside",yb,xx=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zd=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...f}=n,h=w.useContext(xx),[g,p]=w.useState(null),y=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=w.useState({}),x=Je(e,D=>p(D)),_=Array.from(h.layers),[T]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),C=_.indexOf(T),M=g?_.indexOf(g):-1,N=h.layersWithOutsidePointerEventsDisabled.size>0,B=M>=C,R=qR(D=>{const k=D.target,W=[...h.branches].some(U=>U.contains(k));!B||W||(o==null||o(D),u==null||u(D),D.defaultPrevented||d==null||d())},y),z=WR(D=>{const k=D.target;[...h.branches].some(U=>U.contains(k))||(l==null||l(D),u==null||u(D),D.defaultPrevented||d==null||d())},y);return PR(D=>{M===h.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&d&&(D.preventDefault(),d()))},y),w.useEffect(()=>{if(g)return s&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(yb=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),bb(),()=>{s&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=yb)}},[g,y,s,h]),w.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),bb())},[g,h]),w.useEffect(()=>{const D=()=>b({});return document.addEventListener(ip,D),()=>document.removeEventListener(ip,D)},[]),E.jsx(Fe.div,{...f,ref:x,style:{pointerEvents:N?B?"auto":"none":void 0,...n.style},onFocusCapture:Pe(n.onFocusCapture,z.onFocusCapture),onBlurCapture:Pe(n.onBlurCapture,z.onBlurCapture),onPointerDownCapture:Pe(n.onPointerDownCapture,R.onPointerDownCapture)})});zd.displayName=FR;var UR="DismissableLayerBranch",HR=w.forwardRef((n,e)=>{const s=w.useContext(xx),r=w.useRef(null),o=Je(e,r);return w.useEffect(()=>{const l=r.current;if(l)return s.branches.add(l),()=>{s.branches.delete(l)}},[s.branches]),E.jsx(Fe.div,{...n,ref:o})});HR.displayName=UR;function qR(n,e=globalThis==null?void 0:globalThis.document){const s=qr(n),r=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const l=d=>{if(d.target&&!r.current){let f=function(){Sx(LR,s,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,s]),{onPointerDownCapture:()=>r.current=!0}}function WR(n,e=globalThis==null?void 0:globalThis.document){const s=qr(n),r=w.useRef(!1);return w.useEffect(()=>{const o=l=>{l.target&&!r.current&&Sx(jR,s,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bb(){const n=new CustomEvent(ip);document.dispatchEvent(n)}function Sx(n,e,s,{discrete:r}){const o=s.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:s});e&&o.addEventListener(n,e,{once:!0}),r?eR(o,l):o.dispatchEvent(l)}var GR=h_[" useId ".trim().toString()]||(()=>{}),ZR=0;function Fr(n){const[e,s]=w.useState(GR());return ln(()=>{s(r=>r??String(ZR++))},[n]),n||(e?`radix-${e}`:"")}const YR=["top","right","bottom","left"],or=Math.min,Fn=Math.max,nd=Math.round,Au=Math.floor,Ds=n=>({x:n,y:n}),XR={left:"right",right:"left",bottom:"top",top:"bottom"},QR={start:"end",end:"start"};function rp(n,e,s){return Fn(n,or(e,s))}function pi(n,e){return typeof n=="function"?n(e):n}function gi(n){return n.split("-")[0]}function Eo(n){return n.split("-")[1]}function d0(n){return n==="x"?"y":"x"}function f0(n){return n==="y"?"height":"width"}const $R=new Set(["top","bottom"]);function Rs(n){return $R.has(gi(n))?"y":"x"}function h0(n){return d0(Rs(n))}function KR(n,e,s){s===void 0&&(s=!1);const r=Eo(n),o=h0(n),l=f0(o);let u=o==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=sd(u)),[u,sd(u)]}function JR(n){const e=sd(n);return[ap(n),e,ap(e)]}function ap(n){return n.replace(/start|end/g,e=>QR[e])}const _b=["left","right"],wb=["right","left"],ek=["top","bottom"],tk=["bottom","top"];function nk(n,e,s){switch(n){case"top":case"bottom":return s?e?wb:_b:e?_b:wb;case"left":case"right":return e?ek:tk;default:return[]}}function sk(n,e,s,r){const o=Eo(n);let l=nk(gi(n),s==="start",r);return o&&(l=l.map(u=>u+"-"+o),e&&(l=l.concat(l.map(ap)))),l}function sd(n){return n.replace(/left|right|bottom|top/g,e=>XR[e])}function ik(n){return{top:0,right:0,bottom:0,left:0,...n}}function Tx(n){return typeof n!="number"?ik(n):{top:n,right:n,bottom:n,left:n}}function id(n){const{x:e,y:s,width:r,height:o}=n;return{width:r,height:o,top:s,left:e,right:e+r,bottom:s+o,x:e,y:s}}function xb(n,e,s){let{reference:r,floating:o}=n;const l=Rs(e),u=h0(e),d=f0(u),f=gi(e),h=l==="y",g=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,y=r[d]/2-o[d]/2;let b;switch(f){case"top":b={x:g,y:r.y-o.height};break;case"bottom":b={x:g,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:p};break;case"left":b={x:r.x-o.width,y:p};break;default:b={x:r.x,y:r.y}}switch(Eo(e)){case"start":b[u]-=y*(s&&h?-1:1);break;case"end":b[u]+=y*(s&&h?-1:1);break}return b}const rk=async(n,e,s)=>{const{placement:r="bottom",strategy:o="absolute",middleware:l=[],platform:u}=s,d=l.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let h=await u.getElementRects({reference:n,floating:e,strategy:o}),{x:g,y:p}=xb(h,r,f),y=r,b={},x=0;for(let _=0;_<d.length;_++){const{name:T,fn:C}=d[_],{x:M,y:N,data:B,reset:R}=await C({x:g,y:p,initialPlacement:r,placement:y,strategy:o,middlewareData:b,rects:h,platform:u,elements:{reference:n,floating:e}});g=M??g,p=N??p,b={...b,[T]:{...b[T],...B}},R&&x<=50&&(x++,typeof R=="object"&&(R.placement&&(y=R.placement),R.rects&&(h=R.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:o}):R.rects),{x:g,y:p}=xb(h,y,f)),_=-1)}return{x:g,y:p,placement:y,strategy:o,middlewareData:b}};async function jl(n,e){var s;e===void 0&&(e={});const{x:r,y:o,platform:l,rects:u,elements:d,strategy:f}=n,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:p="floating",altBoundary:y=!1,padding:b=0}=pi(e,n),x=Tx(b),T=d[y?p==="floating"?"reference":"floating":p],C=id(await l.getClippingRect({element:(s=await(l.isElement==null?void 0:l.isElement(T)))==null||s?T:T.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:h,rootBoundary:g,strategy:f})),M=p==="floating"?{x:r,y:o,width:u.floating.width,height:u.floating.height}:u.reference,N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),B=await(l.isElement==null?void 0:l.isElement(N))?await(l.getScale==null?void 0:l.getScale(N))||{x:1,y:1}:{x:1,y:1},R=id(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:M,offsetParent:N,strategy:f}):M);return{top:(C.top-R.top+x.top)/B.y,bottom:(R.bottom-C.bottom+x.bottom)/B.y,left:(C.left-R.left+x.left)/B.x,right:(R.right-C.right+x.right)/B.x}}const ak=n=>({name:"arrow",options:n,async fn(e){const{x:s,y:r,placement:o,rects:l,platform:u,elements:d,middlewareData:f}=e,{element:h,padding:g=0}=pi(n,e)||{};if(h==null)return{};const p=Tx(g),y={x:s,y:r},b=h0(o),x=f0(b),_=await u.getDimensions(h),T=b==="y",C=T?"top":"left",M=T?"bottom":"right",N=T?"clientHeight":"clientWidth",B=l.reference[x]+l.reference[b]-y[b]-l.floating[x],R=y[b]-l.reference[b],z=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h));let D=z?z[N]:0;(!D||!await(u.isElement==null?void 0:u.isElement(z)))&&(D=d.floating[N]||l.floating[x]);const k=B/2-R/2,W=D/2-_[x]/2-1,U=or(p[C],W),j=or(p[M],W),H=U,K=D-_[x]-j,ee=D/2-_[x]/2+k,ce=rp(H,ee,K),O=!f.arrow&&Eo(o)!=null&&ee!==ce&&l.reference[x]/2-(ee<H?U:j)-_[x]/2<0,I=O?ee<H?ee-H:ee-K:0;return{[b]:y[b]+I,data:{[b]:ce,centerOffset:ee-ce-I,...O&&{alignmentOffset:I}},reset:O}}}),ok=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var s,r;const{placement:o,middlewareData:l,rects:u,initialPlacement:d,platform:f,elements:h}=e,{mainAxis:g=!0,crossAxis:p=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:_=!0,...T}=pi(n,e);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const C=gi(o),M=Rs(d),N=gi(d)===d,B=await(f.isRTL==null?void 0:f.isRTL(h.floating)),R=y||(N||!_?[sd(d)]:JR(d)),z=x!=="none";!y&&z&&R.push(...sk(d,_,x,B));const D=[d,...R],k=await jl(e,T),W=[];let U=((r=l.flip)==null?void 0:r.overflows)||[];if(g&&W.push(k[C]),p){const ee=KR(o,u,B);W.push(k[ee[0]],k[ee[1]])}if(U=[...U,{placement:o,overflows:W}],!W.every(ee=>ee<=0)){var j,H;const ee=(((j=l.flip)==null?void 0:j.index)||0)+1,ce=D[ee];if(ce&&(!(p==="alignment"?M!==Rs(ce):!1)||U.every(F=>Rs(F.placement)===M?F.overflows[0]>0:!0)))return{data:{index:ee,overflows:U},reset:{placement:ce}};let O=(H=U.filter(I=>I.overflows[0]<=0).sort((I,F)=>I.overflows[1]-F.overflows[1])[0])==null?void 0:H.placement;if(!O)switch(b){case"bestFit":{var K;const I=(K=U.filter(F=>{if(z){const $=Rs(F.placement);return $===M||$==="y"}return!0}).map(F=>[F.placement,F.overflows.filter($=>$>0).reduce(($,ne)=>$+ne,0)]).sort((F,$)=>F[1]-$[1])[0])==null?void 0:K[0];I&&(O=I);break}case"initialPlacement":O=d;break}if(o!==O)return{reset:{placement:O}}}return{}}}};function Sb(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Tb(n){return YR.some(e=>n[e]>=0)}const lk=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:s}=e,{strategy:r="referenceHidden",...o}=pi(n,e);switch(r){case"referenceHidden":{const l=await jl(e,{...o,elementContext:"reference"}),u=Sb(l,s.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Tb(u)}}}case"escaped":{const l=await jl(e,{...o,altBoundary:!0}),u=Sb(l,s.floating);return{data:{escapedOffsets:u,escaped:Tb(u)}}}default:return{}}}}},Cx=new Set(["left","top"]);async function ck(n,e){const{placement:s,platform:r,elements:o}=n,l=await(r.isRTL==null?void 0:r.isRTL(o.floating)),u=gi(s),d=Eo(s),f=Rs(s)==="y",h=Cx.has(u)?-1:1,g=l&&f?-1:1,p=pi(e,n);let{mainAxis:y,crossAxis:b,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return d&&typeof x=="number"&&(b=d==="end"?x*-1:x),f?{x:b*g,y:y*h}:{x:y*h,y:b*g}}const uk=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var s,r;const{x:o,y:l,placement:u,middlewareData:d}=e,f=await ck(e,n);return u===((s=d.offset)==null?void 0:s.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:u}}}}},dk=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:s,y:r,placement:o}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:T=>{let{x:C,y:M}=T;return{x:C,y:M}}},...f}=pi(n,e),h={x:s,y:r},g=await jl(e,f),p=Rs(gi(o)),y=d0(p);let b=h[y],x=h[p];if(l){const T=y==="y"?"top":"left",C=y==="y"?"bottom":"right",M=b+g[T],N=b-g[C];b=rp(M,b,N)}if(u){const T=p==="y"?"top":"left",C=p==="y"?"bottom":"right",M=x+g[T],N=x-g[C];x=rp(M,x,N)}const _=d.fn({...e,[y]:b,[p]:x});return{..._,data:{x:_.x-s,y:_.y-r,enabled:{[y]:l,[p]:u}}}}}},fk=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:s,y:r,placement:o,rects:l,middlewareData:u}=e,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=pi(n,e),g={x:s,y:r},p=Rs(o),y=d0(p);let b=g[y],x=g[p];const _=pi(d,e),T=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(f){const N=y==="y"?"height":"width",B=l.reference[y]-l.floating[N]+T.mainAxis,R=l.reference[y]+l.reference[N]-T.mainAxis;b<B?b=B:b>R&&(b=R)}if(h){var C,M;const N=y==="y"?"width":"height",B=Cx.has(gi(o)),R=l.reference[p]-l.floating[N]+(B&&((C=u.offset)==null?void 0:C[p])||0)+(B?0:T.crossAxis),z=l.reference[p]+l.reference[N]+(B?0:((M=u.offset)==null?void 0:M[p])||0)-(B?T.crossAxis:0);x<R?x=R:x>z&&(x=z)}return{[y]:b,[p]:x}}}},hk=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var s,r;const{placement:o,rects:l,platform:u,elements:d}=e,{apply:f=()=>{},...h}=pi(n,e),g=await jl(e,h),p=gi(o),y=Eo(o),b=Rs(o)==="y",{width:x,height:_}=l.floating;let T,C;p==="top"||p==="bottom"?(T=p,C=y===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(C=p,T=y==="end"?"top":"bottom");const M=_-g.top-g.bottom,N=x-g.left-g.right,B=or(_-g[T],M),R=or(x-g[C],N),z=!e.middlewareData.shift;let D=B,k=R;if((s=e.middlewareData.shift)!=null&&s.enabled.x&&(k=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=M),z&&!y){const U=Fn(g.left,0),j=Fn(g.right,0),H=Fn(g.top,0),K=Fn(g.bottom,0);b?k=x-2*(U!==0||j!==0?U+j:Fn(g.left,g.right)):D=_-2*(H!==0||K!==0?H+K:Fn(g.top,g.bottom))}await f({...e,availableWidth:k,availableHeight:D});const W=await u.getDimensions(d.floating);return x!==W.width||_!==W.height?{reset:{rects:!0}}:{}}}};function Bd(){return typeof window<"u"}function Ao(n){return Ex(n)?(n.nodeName||"").toLowerCase():"#document"}function Ln(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Us(n){var e;return(e=(Ex(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Ex(n){return Bd()?n instanceof Node||n instanceof Ln(n).Node:!1}function hs(n){return Bd()?n instanceof Element||n instanceof Ln(n).Element:!1}function Bs(n){return Bd()?n instanceof HTMLElement||n instanceof Ln(n).HTMLElement:!1}function Cb(n){return!Bd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ln(n).ShadowRoot}const mk=new Set(["inline","contents"]);function sc(n){const{overflow:e,overflowX:s,overflowY:r,display:o}=ms(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+s)&&!mk.has(o)}const pk=new Set(["table","td","th"]);function gk(n){return pk.has(Ao(n))}const vk=[":popover-open",":modal"];function Id(n){return vk.some(e=>{try{return n.matches(e)}catch{return!1}})}const yk=["transform","translate","scale","rotate","perspective"],bk=["transform","translate","scale","rotate","perspective","filter"],_k=["paint","layout","strict","content"];function m0(n){const e=p0(),s=hs(n)?ms(n):n;return yk.some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!e&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!e&&(s.filter?s.filter!=="none":!1)||bk.some(r=>(s.willChange||"").includes(r))||_k.some(r=>(s.contain||"").includes(r))}function wk(n){let e=lr(n);for(;Bs(e)&&!fo(e);){if(m0(e))return e;if(Id(e))return null;e=lr(e)}return null}function p0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xk=new Set(["html","body","#document"]);function fo(n){return xk.has(Ao(n))}function ms(n){return Ln(n).getComputedStyle(n)}function Pd(n){return hs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function lr(n){if(Ao(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Cb(n)&&n.host||Us(n);return Cb(e)?e.host:e}function Ax(n){const e=lr(n);return fo(e)?n.ownerDocument?n.ownerDocument.body:n.body:Bs(e)&&sc(e)?e:Ax(e)}function Ul(n,e,s){var r;e===void 0&&(e=[]),s===void 0&&(s=!0);const o=Ax(n),l=o===((r=n.ownerDocument)==null?void 0:r.body),u=Ln(o);if(l){const d=op(u);return e.concat(u,u.visualViewport||[],sc(o)?o:[],d&&s?Ul(d):[])}return e.concat(o,Ul(o,[],s))}function op(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Mx(n){const e=ms(n);let s=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Bs(n),l=o?n.offsetWidth:s,u=o?n.offsetHeight:r,d=nd(s)!==l||nd(r)!==u;return d&&(s=l,r=u),{width:s,height:r,$:d}}function g0(n){return hs(n)?n:n.contextElement}function to(n){const e=g0(n);if(!Bs(e))return Ds(1);const s=e.getBoundingClientRect(),{width:r,height:o,$:l}=Mx(e);let u=(l?nd(s.width):s.width)/r,d=(l?nd(s.height):s.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const Sk=Ds(0);function Ox(n){const e=Ln(n);return!p0()||!e.visualViewport?Sk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Tk(n,e,s){return e===void 0&&(e=!1),!s||e&&s!==Ln(n)?!1:e}function Wr(n,e,s,r){e===void 0&&(e=!1),s===void 0&&(s=!1);const o=n.getBoundingClientRect(),l=g0(n);let u=Ds(1);e&&(r?hs(r)&&(u=to(r)):u=to(n));const d=Tk(l,s,r)?Ox(l):Ds(0);let f=(o.left+d.x)/u.x,h=(o.top+d.y)/u.y,g=o.width/u.x,p=o.height/u.y;if(l){const y=Ln(l),b=r&&hs(r)?Ln(r):r;let x=y,_=op(x);for(;_&&r&&b!==x;){const T=to(_),C=_.getBoundingClientRect(),M=ms(_),N=C.left+(_.clientLeft+parseFloat(M.paddingLeft))*T.x,B=C.top+(_.clientTop+parseFloat(M.paddingTop))*T.y;f*=T.x,h*=T.y,g*=T.x,p*=T.y,f+=N,h+=B,x=Ln(_),_=op(x)}}return id({width:g,height:p,x:f,y:h})}function Fd(n,e){const s=Pd(n).scrollLeft;return e?e.left+s:Wr(Us(n)).left+s}function Nx(n,e){const s=n.getBoundingClientRect(),r=s.left+e.scrollLeft-Fd(n,s),o=s.top+e.scrollTop;return{x:r,y:o}}function Ck(n){let{elements:e,rect:s,offsetParent:r,strategy:o}=n;const l=o==="fixed",u=Us(r),d=e?Id(e.floating):!1;if(r===u||d&&l)return s;let f={scrollLeft:0,scrollTop:0},h=Ds(1);const g=Ds(0),p=Bs(r);if((p||!p&&!l)&&((Ao(r)!=="body"||sc(u))&&(f=Pd(r)),Bs(r))){const b=Wr(r);h=to(r),g.x=b.x+r.clientLeft,g.y=b.y+r.clientTop}const y=u&&!p&&!l?Nx(u,f):Ds(0);return{width:s.width*h.x,height:s.height*h.y,x:s.x*h.x-f.scrollLeft*h.x+g.x+y.x,y:s.y*h.y-f.scrollTop*h.y+g.y+y.y}}function Ek(n){return Array.from(n.getClientRects())}function Ak(n){const e=Us(n),s=Pd(n),r=n.ownerDocument.body,o=Fn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=Fn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-s.scrollLeft+Fd(n);const d=-s.scrollTop;return ms(r).direction==="rtl"&&(u+=Fn(e.clientWidth,r.clientWidth)-o),{width:o,height:l,x:u,y:d}}const Eb=25;function Mk(n,e){const s=Ln(n),r=Us(n),o=s.visualViewport;let l=r.clientWidth,u=r.clientHeight,d=0,f=0;if(o){l=o.width,u=o.height;const g=p0();(!g||g&&e==="fixed")&&(d=o.offsetLeft,f=o.offsetTop)}const h=Fd(r);if(h<=0){const g=r.ownerDocument,p=g.body,y=getComputedStyle(p),b=g.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,x=Math.abs(r.clientWidth-p.clientWidth-b);x<=Eb&&(l-=x)}else h<=Eb&&(l+=h);return{width:l,height:u,x:d,y:f}}const Ok=new Set(["absolute","fixed"]);function Nk(n,e){const s=Wr(n,!0,e==="fixed"),r=s.top+n.clientTop,o=s.left+n.clientLeft,l=Bs(n)?to(n):Ds(1),u=n.clientWidth*l.x,d=n.clientHeight*l.y,f=o*l.x,h=r*l.y;return{width:u,height:d,x:f,y:h}}function Ab(n,e,s){let r;if(e==="viewport")r=Mk(n,s);else if(e==="document")r=Ak(Us(n));else if(hs(e))r=Nk(e,s);else{const o=Ox(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return id(r)}function Rx(n,e){const s=lr(n);return s===e||!hs(s)||fo(s)?!1:ms(s).position==="fixed"||Rx(s,e)}function Rk(n,e){const s=e.get(n);if(s)return s;let r=Ul(n,[],!1).filter(d=>hs(d)&&Ao(d)!=="body"),o=null;const l=ms(n).position==="fixed";let u=l?lr(n):n;for(;hs(u)&&!fo(u);){const d=ms(u),f=m0(u);!f&&d.position==="fixed"&&(o=null),(l?!f&&!o:!f&&d.position==="static"&&!!o&&Ok.has(o.position)||sc(u)&&!f&&Rx(n,u))?r=r.filter(g=>g!==u):o=d,u=lr(u)}return e.set(n,r),r}function kk(n){let{element:e,boundary:s,rootBoundary:r,strategy:o}=n;const u=[...s==="clippingAncestors"?Id(e)?[]:Rk(e,this._c):[].concat(s),r],d=u[0],f=u.reduce((h,g)=>{const p=Ab(e,g,o);return h.top=Fn(p.top,h.top),h.right=or(p.right,h.right),h.bottom=or(p.bottom,h.bottom),h.left=Fn(p.left,h.left),h},Ab(e,d,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Dk(n){const{width:e,height:s}=Mx(n);return{width:e,height:s}}function Vk(n,e,s){const r=Bs(e),o=Us(e),l=s==="fixed",u=Wr(n,!0,l,e);let d={scrollLeft:0,scrollTop:0};const f=Ds(0);function h(){f.x=Fd(o)}if(r||!r&&!l)if((Ao(e)!=="body"||sc(o))&&(d=Pd(e)),r){const b=Wr(e,!0,l,e);f.x=b.x+e.clientLeft,f.y=b.y+e.clientTop}else o&&h();l&&!r&&o&&h();const g=o&&!r&&!l?Nx(o,d):Ds(0),p=u.left+d.scrollLeft-f.x-g.x,y=u.top+d.scrollTop-f.y-g.y;return{x:p,y,width:u.width,height:u.height}}function xm(n){return ms(n).position==="static"}function Mb(n,e){if(!Bs(n)||ms(n).position==="fixed")return null;if(e)return e(n);let s=n.offsetParent;return Us(n)===s&&(s=s.ownerDocument.body),s}function kx(n,e){const s=Ln(n);if(Id(n))return s;if(!Bs(n)){let o=lr(n);for(;o&&!fo(o);){if(hs(o)&&!xm(o))return o;o=lr(o)}return s}let r=Mb(n,e);for(;r&&gk(r)&&xm(r);)r=Mb(r,e);return r&&fo(r)&&xm(r)&&!m0(r)?s:r||wk(n)||s}const zk=async function(n){const e=this.getOffsetParent||kx,s=this.getDimensions,r=await s(n.floating);return{reference:Vk(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Bk(n){return ms(n).direction==="rtl"}const Ik={convertOffsetParentRelativeRectToViewportRelativeRect:Ck,getDocumentElement:Us,getClippingRect:kk,getOffsetParent:kx,getElementRects:zk,getClientRects:Ek,getDimensions:Dk,getScale:to,isElement:hs,isRTL:Bk};function Dx(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Pk(n,e){let s=null,r;const o=Us(n);function l(){var d;clearTimeout(r),(d=s)==null||d.disconnect(),s=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const h=n.getBoundingClientRect(),{left:g,top:p,width:y,height:b}=h;if(d||e(),!y||!b)return;const x=Au(p),_=Au(o.clientWidth-(g+y)),T=Au(o.clientHeight-(p+b)),C=Au(g),N={rootMargin:-x+"px "+-_+"px "+-T+"px "+-C+"px",threshold:Fn(0,or(1,f))||1};let B=!0;function R(z){const D=z[0].intersectionRatio;if(D!==f){if(!B)return u();D?u(!1,D):r=setTimeout(()=>{u(!1,1e-7)},1e3)}D===1&&!Dx(h,n.getBoundingClientRect())&&u(),B=!1}try{s=new IntersectionObserver(R,{...N,root:o.ownerDocument})}catch{s=new IntersectionObserver(R,N)}s.observe(n)}return u(!0),l}function Fk(n,e,s,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=g0(n),g=o||l?[...h?Ul(h):[],...Ul(e)]:[];g.forEach(C=>{o&&C.addEventListener("scroll",s,{passive:!0}),l&&C.addEventListener("resize",s)});const p=h&&d?Pk(h,s):null;let y=-1,b=null;u&&(b=new ResizeObserver(C=>{let[M]=C;M&&M.target===h&&b&&(b.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(e)})),s()}),h&&!f&&b.observe(h),b.observe(e));let x,_=f?Wr(n):null;f&&T();function T(){const C=Wr(n);_&&!Dx(_,C)&&s(),_=C,x=requestAnimationFrame(T)}return s(),()=>{var C;g.forEach(M=>{o&&M.removeEventListener("scroll",s),l&&M.removeEventListener("resize",s)}),p==null||p(),(C=b)==null||C.disconnect(),b=null,f&&cancelAnimationFrame(x)}}const Lk=uk,jk=dk,Uk=ok,Hk=hk,qk=lk,Ob=ak,Wk=fk,Gk=(n,e,s)=>{const r=new Map,o={platform:Ik,...s},l={...o.platform,_c:r};return rk(n,e,{...o,platform:l})};var Zk=typeof document<"u",Yk=function(){},Pu=Zk?w.useLayoutEffect:Yk;function rd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let s,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(s=n.length,s!==e.length)return!1;for(r=s;r--!==0;)if(!rd(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),s=o.length,s!==Object.keys(e).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=s;r--!==0;){const l=o[r];if(!(l==="_owner"&&n.$$typeof)&&!rd(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function Vx(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Nb(n,e){const s=Vx(n);return Math.round(e*s)/s}function Sm(n){const e=w.useRef(n);return Pu(()=>{e.current=n}),e}function Xk(n){n===void 0&&(n={});const{placement:e="bottom",strategy:s="absolute",middleware:r=[],platform:o,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:f,open:h}=n,[g,p]=w.useState({x:0,y:0,strategy:s,placement:e,middlewareData:{},isPositioned:!1}),[y,b]=w.useState(r);rd(y,r)||b(r);const[x,_]=w.useState(null),[T,C]=w.useState(null),M=w.useCallback(F=>{F!==z.current&&(z.current=F,_(F))},[]),N=w.useCallback(F=>{F!==D.current&&(D.current=F,C(F))},[]),B=l||x,R=u||T,z=w.useRef(null),D=w.useRef(null),k=w.useRef(g),W=f!=null,U=Sm(f),j=Sm(o),H=Sm(h),K=w.useCallback(()=>{if(!z.current||!D.current)return;const F={placement:e,strategy:s,middleware:y};j.current&&(F.platform=j.current),Gk(z.current,D.current,F).then($=>{const ne={...$,isPositioned:H.current!==!1};ee.current&&!rd(k.current,ne)&&(k.current=ne,nc.flushSync(()=>{p(ne)}))})},[y,e,s,j,H]);Pu(()=>{h===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,p(F=>({...F,isPositioned:!1})))},[h]);const ee=w.useRef(!1);Pu(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Pu(()=>{if(B&&(z.current=B),R&&(D.current=R),B&&R){if(U.current)return U.current(B,R,K);K()}},[B,R,K,U,W]);const ce=w.useMemo(()=>({reference:z,floating:D,setReference:M,setFloating:N}),[M,N]),O=w.useMemo(()=>({reference:B,floating:R}),[B,R]),I=w.useMemo(()=>{const F={position:s,left:0,top:0};if(!O.floating)return F;const $=Nb(O.floating,g.x),ne=Nb(O.floating,g.y);return d?{...F,transform:"translate("+$+"px, "+ne+"px)",...Vx(O.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:$,top:ne}},[s,d,O.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:K,refs:ce,elements:O,floatingStyles:I}),[g,K,ce,O,I])}const Qk=n=>{function e(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:n,fn(s){const{element:r,padding:o}=typeof n=="function"?n(s):n;return r&&e(r)?r.current!=null?Ob({element:r.current,padding:o}).fn(s):{}:r?Ob({element:r,padding:o}).fn(s):{}}}},$k=(n,e)=>({...Lk(n),options:[n,e]}),Kk=(n,e)=>({...jk(n),options:[n,e]}),Jk=(n,e)=>({...Wk(n),options:[n,e]}),e3=(n,e)=>({...Uk(n),options:[n,e]}),t3=(n,e)=>({...Hk(n),options:[n,e]}),n3=(n,e)=>({...qk(n),options:[n,e]}),s3=(n,e)=>({...Qk(n),options:[n,e]});var i3="Arrow",zx=w.forwardRef((n,e)=>{const{children:s,width:r=10,height:o=5,...l}=n;return E.jsx(Fe.svg,{...l,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?s:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});zx.displayName=i3;var r3=zx,v0="Popper",[Bx,Ld]=fr(v0),[a3,Ix]=Bx(v0),Px=n=>{const{__scopePopper:e,children:s}=n,[r,o]=w.useState(null);return E.jsx(a3,{scope:e,anchor:r,onAnchorChange:o,children:s})};Px.displayName=v0;var Fx="PopperAnchor",Lx=w.forwardRef((n,e)=>{const{__scopePopper:s,virtualRef:r,...o}=n,l=Ix(Fx,s),u=w.useRef(null),d=Je(e,u),f=w.useRef(null);return w.useEffect(()=>{const h=f.current;f.current=(r==null?void 0:r.current)||u.current,h!==f.current&&l.onAnchorChange(f.current)}),r?null:E.jsx(Fe.div,{...o,ref:d})});Lx.displayName=Fx;var y0="PopperContent",[o3,l3]=Bx(y0),jx=w.forwardRef((n,e)=>{var oe,ie,we,Ae,Oe,Ce;const{__scopePopper:s,side:r="bottom",sideOffset:o=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:p="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:x,..._}=n,T=Ix(y0,s),[C,M]=w.useState(null),N=Je(e,Dt=>M(Dt)),[B,R]=w.useState(null),z=c0(B),D=(z==null?void 0:z.width)??0,k=(z==null?void 0:z.height)??0,W=r+(l!=="center"?"-"+l:""),U=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},j=Array.isArray(h)?h:[h],H=j.length>0,K={padding:U,boundary:j.filter(u3),altBoundary:H},{refs:ee,floatingStyles:ce,placement:O,isPositioned:I,middlewareData:F}=Xk({strategy:"fixed",placement:W,whileElementsMounted:(...Dt)=>Fk(...Dt,{animationFrame:b==="always"}),elements:{reference:T.anchor},middleware:[$k({mainAxis:o+k,alignmentAxis:u}),f&&Kk({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Jk():void 0,...K}),f&&e3({...K}),t3({...K,apply:({elements:Dt,rects:vt,availableWidth:he,availableHeight:be})=>{const{width:Ze,height:$e}=vt.reference,Me=Dt.floating.style;Me.setProperty("--radix-popper-available-width",`${he}px`),Me.setProperty("--radix-popper-available-height",`${be}px`),Me.setProperty("--radix-popper-anchor-width",`${Ze}px`),Me.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),B&&s3({element:B,padding:d}),d3({arrowWidth:D,arrowHeight:k}),y&&n3({strategy:"referenceHidden",...K})]}),[$,ne]=qx(O),V=qr(x);ln(()=>{I&&(V==null||V())},[I,V]);const G=(oe=F.arrow)==null?void 0:oe.x,X=(ie=F.arrow)==null?void 0:ie.y,te=((we=F.arrow)==null?void 0:we.centerOffset)!==0,[re,ue]=w.useState();return ln(()=>{C&&ue(window.getComputedStyle(C).zIndex)},[C]),E.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:I?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(Ae=F.transformOrigin)==null?void 0:Ae.x,(Oe=F.transformOrigin)==null?void 0:Oe.y].join(" "),...((Ce=F.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:E.jsx(o3,{scope:s,placedSide:$,onArrowChange:R,arrowX:G,arrowY:X,shouldHideArrow:te,children:E.jsx(Fe.div,{"data-side":$,"data-align":ne,..._,ref:N,style:{..._.style,animation:I?void 0:"none"}})})})});jx.displayName=y0;var Ux="PopperArrow",c3={top:"bottom",right:"left",bottom:"top",left:"right"},Hx=w.forwardRef(function(e,s){const{__scopePopper:r,...o}=e,l=l3(Ux,r),u=c3[l.placedSide];return E.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:E.jsx(r3,{...o,ref:s,style:{...o.style,display:"block"}})})});Hx.displayName=Ux;function u3(n){return n!==null}var d3=n=>({name:"transformOrigin",options:n,fn(e){var T,C,M;const{placement:s,rects:r,middlewareData:o}=e,u=((T=o.arrow)==null?void 0:T.centerOffset)!==0,d=u?0:n.arrowWidth,f=u?0:n.arrowHeight,[h,g]=qx(s),p={start:"0%",center:"50%",end:"100%"}[g],y=(((C=o.arrow)==null?void 0:C.x)??0)+d/2,b=(((M=o.arrow)==null?void 0:M.y)??0)+f/2;let x="",_="";return h==="bottom"?(x=u?p:`${y}px`,_=`${-f}px`):h==="top"?(x=u?p:`${y}px`,_=`${r.floating.height+f}px`):h==="right"?(x=`${-f}px`,_=u?p:`${b}px`):h==="left"&&(x=`${r.floating.width+f}px`,_=u?p:`${b}px`),{data:{x,y:_}}}});function qx(n){const[e,s="center"]=n.split("-");return[e,s]}var Wx=Px,Gx=Lx,Zx=jx,Yx=Hx,f3="Portal",jd=w.forwardRef((n,e)=>{var d;const{container:s,...r}=n,[o,l]=w.useState(!1);ln(()=>l(!0),[]);const u=s||o&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?Xw.createPortal(E.jsx(Fe.div,{...r,ref:e}),u):null});jd.displayName=f3;function h3(n,e){return w.useReducer((s,r)=>e[s][r]??s,n)}var Mo=n=>{const{present:e,children:s}=n,r=m3(e),o=typeof s=="function"?s({present:r.isPresent}):w.Children.only(s),l=Je(r.ref,p3(o));return typeof s=="function"||r.isPresent?w.cloneElement(o,{ref:l}):null};Mo.displayName="Presence";function m3(n){const[e,s]=w.useState(),r=w.useRef(null),o=w.useRef(n),l=w.useRef("none"),u=n?"mounted":"unmounted",[d,f]=h3(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const h=Mu(r.current);l.current=d==="mounted"?h:"none"},[d]),ln(()=>{const h=r.current,g=o.current;if(g!==n){const y=l.current,b=Mu(h);n?f("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(g&&y!==b?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,f]),ln(()=>{if(e){let h;const g=e.ownerDocument.defaultView??window,p=b=>{const _=Mu(r.current).includes(CSS.escape(b.animationName));if(b.target===e&&_&&(f("ANIMATION_END"),!o.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",h=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},y=b=>{b.target===e&&(l.current=Mu(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{g.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(h=>{r.current=h?getComputedStyle(h):null,s(h)},[])}}function Mu(n){return(n==null?void 0:n.animationName)||"none"}function p3(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}var Xx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),g3="VisuallyHidden",Qx=w.forwardRef((n,e)=>E.jsx(Fe.span,{...n,ref:e,style:{...Xx,...n.style}}));Qx.displayName=g3;var v3=Qx,[Ud]=fr("Tooltip",[Ld]),Hd=Ld(),$x="TooltipProvider",y3=700,lp="tooltip.open",[b3,b0]=Ud($x),Kx=n=>{const{__scopeTooltip:e,delayDuration:s=y3,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:l}=n,u=w.useRef(!0),d=w.useRef(!1),f=w.useRef(0);return w.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),E.jsx(b3,{scope:e,isOpenDelayedRef:u,delayDuration:s,onOpen:w.useCallback(()=>{window.clearTimeout(f.current),u.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:w.useCallback(h=>{d.current=h},[]),disableHoverableContent:o,children:l})};Kx.displayName=$x;var Hl="Tooltip",[_3,ic]=Ud(Hl),Jx=n=>{const{__scopeTooltip:e,children:s,open:r,defaultOpen:o,onOpenChange:l,disableHoverableContent:u,delayDuration:d}=n,f=b0(Hl,n.__scopeTooltip),h=Hd(e),[g,p]=w.useState(null),y=Fr(),b=w.useRef(0),x=u??f.disableHoverableContent,_=d??f.delayDuration,T=w.useRef(!1),[C,M]=uo({prop:r,defaultProp:o??!1,onChange:D=>{D?(f.onOpen(),document.dispatchEvent(new CustomEvent(lp))):f.onClose(),l==null||l(D)},caller:Hl}),N=w.useMemo(()=>C?T.current?"delayed-open":"instant-open":"closed",[C]),B=w.useCallback(()=>{window.clearTimeout(b.current),b.current=0,T.current=!1,M(!0)},[M]),R=w.useCallback(()=>{window.clearTimeout(b.current),b.current=0,M(!1)},[M]),z=w.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{T.current=!0,M(!0),b.current=0},_)},[_,M]);return w.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),E.jsx(Wx,{...h,children:E.jsx(_3,{scope:e,contentId:y,open:C,stateAttribute:N,trigger:g,onTriggerChange:p,onTriggerEnter:w.useCallback(()=>{f.isOpenDelayedRef.current?z():B()},[f.isOpenDelayedRef,z,B]),onTriggerLeave:w.useCallback(()=>{x?R():(window.clearTimeout(b.current),b.current=0)},[R,x]),onOpen:B,onClose:R,disableHoverableContent:x,children:s})})};Jx.displayName=Hl;var cp="TooltipTrigger",eS=w.forwardRef((n,e)=>{const{__scopeTooltip:s,...r}=n,o=ic(cp,s),l=b0(cp,s),u=Hd(s),d=w.useRef(null),f=Je(e,d,o.onTriggerChange),h=w.useRef(!1),g=w.useRef(!1),p=w.useCallback(()=>h.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),E.jsx(Gx,{asChild:!0,...u,children:E.jsx(Fe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:f,onPointerMove:Pe(n.onPointerMove,y=>{y.pointerType!=="touch"&&!g.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),g.current=!0)}),onPointerLeave:Pe(n.onPointerLeave,()=>{o.onTriggerLeave(),g.current=!1}),onPointerDown:Pe(n.onPointerDown,()=>{o.open&&o.onClose(),h.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Pe(n.onFocus,()=>{h.current||o.onOpen()}),onBlur:Pe(n.onBlur,o.onClose),onClick:Pe(n.onClick,o.onClose)})})});eS.displayName=cp;var _0="TooltipPortal",[w3,x3]=Ud(_0,{forceMount:void 0}),tS=n=>{const{__scopeTooltip:e,forceMount:s,children:r,container:o}=n,l=ic(_0,e);return E.jsx(w3,{scope:e,forceMount:s,children:E.jsx(Mo,{present:s||l.open,children:E.jsx(jd,{asChild:!0,container:o,children:r})})})};tS.displayName=_0;var ho="TooltipContent",nS=w.forwardRef((n,e)=>{const s=x3(ho,n.__scopeTooltip),{forceMount:r=s.forceMount,side:o="top",...l}=n,u=ic(ho,n.__scopeTooltip);return E.jsx(Mo,{present:r||u.open,children:u.disableHoverableContent?E.jsx(sS,{side:o,...l,ref:e}):E.jsx(S3,{side:o,...l,ref:e})})}),S3=w.forwardRef((n,e)=>{const s=ic(ho,n.__scopeTooltip),r=b0(ho,n.__scopeTooltip),o=w.useRef(null),l=Je(e,o),[u,d]=w.useState(null),{trigger:f,onClose:h}=s,g=o.current,{onPointerInTransitChange:p}=r,y=w.useCallback(()=>{d(null),p(!1)},[p]),b=w.useCallback((x,_)=>{const T=x.currentTarget,C={x:x.clientX,y:x.clientY},M=A3(C,T.getBoundingClientRect()),N=M3(C,M),B=O3(_.getBoundingClientRect()),R=R3([...N,...B]);d(R),p(!0)},[p]);return w.useEffect(()=>()=>y(),[y]),w.useEffect(()=>{if(f&&g){const x=T=>b(T,g),_=T=>b(T,f);return f.addEventListener("pointerleave",x),g.addEventListener("pointerleave",_),()=>{f.removeEventListener("pointerleave",x),g.removeEventListener("pointerleave",_)}}},[f,g,b,y]),w.useEffect(()=>{if(u){const x=_=>{const T=_.target,C={x:_.clientX,y:_.clientY},M=(f==null?void 0:f.contains(T))||(g==null?void 0:g.contains(T)),N=!N3(C,u);M?y():N&&(y(),h())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[f,g,u,h,y]),E.jsx(sS,{...n,ref:l})}),[T3,C3]=Ud(Hl,{isInside:!1}),E3=ZN("TooltipContent"),sS=w.forwardRef((n,e)=>{const{__scopeTooltip:s,children:r,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:u,...d}=n,f=ic(ho,s),h=Hd(s),{onClose:g}=f;return w.useEffect(()=>(document.addEventListener(lp,g),()=>document.removeEventListener(lp,g)),[g]),w.useEffect(()=>{if(f.trigger){const p=y=>{const b=y.target;b!=null&&b.contains(f.trigger)&&g()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[f.trigger,g]),E.jsx(zd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:p=>p.preventDefault(),onDismiss:g,children:E.jsxs(Zx,{"data-state":f.stateAttribute,...h,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(E3,{children:r}),E.jsx(T3,{scope:s,isInside:!0,children:E.jsx(v3,{id:f.contentId,role:"tooltip",children:o||r})})]})})});nS.displayName=ho;var iS="TooltipArrow",rS=w.forwardRef((n,e)=>{const{__scopeTooltip:s,...r}=n,o=Hd(s);return C3(iS,s).isInside?null:E.jsx(Yx,{...o,...r,ref:e})});rS.displayName=iS;function A3(n,e){const s=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),o=Math.abs(e.right-n.x),l=Math.abs(e.left-n.x);switch(Math.min(s,r,o,l)){case l:return"left";case o:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function M3(n,e,s=5){const r=[];switch(e){case"top":r.push({x:n.x-s,y:n.y+s},{x:n.x+s,y:n.y+s});break;case"bottom":r.push({x:n.x-s,y:n.y-s},{x:n.x+s,y:n.y-s});break;case"left":r.push({x:n.x+s,y:n.y-s},{x:n.x+s,y:n.y+s});break;case"right":r.push({x:n.x-s,y:n.y-s},{x:n.x-s,y:n.y+s});break}return r}function O3(n){const{top:e,right:s,bottom:r,left:o}=n;return[{x:o,y:e},{x:s,y:e},{x:s,y:r},{x:o,y:r}]}function N3(n,e){const{x:s,y:r}=n;let o=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const d=e[l],f=e[u],h=d.x,g=d.y,p=f.x,y=f.y;g>r!=y>r&&s<(p-h)*(r-g)/(y-g)+h&&(o=!o)}return o}function R3(n){const e=n.slice();return e.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),k3(e)}function k3(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const o=n[r];for(;e.length>=2;){const l=e[e.length-1],u=e[e.length-2];if((l.x-u.x)*(o.y-u.y)>=(l.y-u.y)*(o.x-u.x))e.pop();else break}e.push(o)}e.pop();const s=[];for(let r=n.length-1;r>=0;r--){const o=n[r];for(;s.length>=2;){const l=s[s.length-1],u=s[s.length-2];if((l.x-u.x)*(o.y-u.y)>=(l.y-u.y)*(o.x-u.x))s.pop();else break}s.push(o)}return s.pop(),e.length===1&&s.length===1&&e[0].x===s[0].x&&e[0].y===s[0].y?e:e.concat(s)}var D3=Kx,V3=Jx,z3=eS,B3=tS,I3=nS,P3=rS;function aS({delayDuration:n=0,...e}){return E.jsx(D3,{"data-slot":"tooltip-provider",delayDuration:n,...e})}function Rb({...n}){return E.jsx(aS,{children:E.jsx(V3,{"data-slot":"tooltip",...n})})}function kb({...n}){return E.jsx(z3,{"data-slot":"tooltip-trigger",...n})}function Db({className:n,sideOffset:e=0,children:s,...r}){return E.jsx(B3,{children:E.jsxs(I3,{"data-slot":"tooltip-content",sideOffset:e,className:ft("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),...r,children:[s,E.jsx(P3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function F3({label:n,value:e,info:s,onChange:r}){const{type:o="slider",description:l,min:u=0,max:d=1,step:f=.01,format:h}=s;if(o==="switch")return E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(ar,{children:n}),E.jsxs(Rb,{children:[E.jsx(kb,{asChild:!0,children:E.jsx(db,{size:16,className:"text-muted-foreground cursor-help"})}),E.jsx(Db,{className:"max-w-xs",children:E.jsx("p",{children:l})})]})]}),E.jsx(IR,{checked:e,onCheckedChange:r})]});const g=h?h(e):e.toFixed(2);return E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(ar,{children:n}),E.jsxs(Rb,{children:[E.jsx(kb,{asChild:!0,children:E.jsx(db,{size:16,className:"text-muted-foreground cursor-help"})}),E.jsx(Db,{className:"max-w-xs",children:E.jsx("p",{children:l})})]})]}),E.jsx("span",{className:"font-mono text-sm text-muted-foreground",children:g})]}),E.jsx(gx,{value:[e],onValueChange:p=>r(p[0]),min:u,max:d,step:f})]})}var L3="Separator",Vb="horizontal",j3=["horizontal","vertical"],oS=w.forwardRef((n,e)=>{const{decorative:s,orientation:r=Vb,...o}=n,l=U3(r)?r:Vb,d=s?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return E.jsx(Fe.div,{"data-orientation":l,...d,...o,ref:e})});oS.displayName=L3;function U3(n){return j3.includes(n)}var H3=oS;function q3({className:n,orientation:e="horizontal",decorative:s=!0,...r}){return E.jsx(H3,{"data-slot":"separator-root",decorative:s,orientation:e,className:ft("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}const W3={delayTime:{name:"Delay Time",description:"Controls how long it takes for the delayed signal to repeat. Longer times create more spaced-out echoes.",min:0,max:2,step:.01,unit:"s",format:n=>`${n.toFixed(2)}s`,type:"slider"},delayFeedback:{name:"Delay Feedback",description:"Determines how many times the delay repeats. Higher values create more echoes that fade gradually.",min:0,max:.9,step:.01,unit:"%",format:n=>`${(n*100).toFixed(0)}%`,type:"slider"},reverbMix:{name:"Reverb Mix",description:"Blends the reverb effect with the dry signal. Higher values create a more spacious, ambient sound.",min:0,max:1,step:.01,unit:"%",format:n=>`${(n*100).toFixed(0)}%`,type:"slider"},reverbDecay:{name:"Reverb Decay",description:"Controls how long the reverb tail lasts. Longer decay simulates larger spaces like halls or cathedrals.",min:0,max:10,step:.1,unit:"s",format:n=>`${n.toFixed(1)}s`,type:"slider"},noiseLevel:{name:"Noise Level",description:"Adds analog-style background noise for a vintage tape or cassette feel. Subtle amounts add warmth.",min:0,max:.1,step:.001,unit:"%",format:n=>`${(n*100).toFixed(1)}%`,type:"slider"},vinylCrackle:{name:"Vinyl Crackle",description:"Simulates the pops and crackles of vinyl records for an authentic retro sound aesthetic.",type:"switch"},distortionAmount:{name:"Distortion",description:"Waveshaping saturation that adds harmonic grit. Higher values introduce more drive and compression.",min:0,max:100,step:1,unit:"%",format:n=>`${n.toFixed(0)}%`,type:"slider"},lowPassFreq:{name:"Low Pass Filter",description:"Cuts high frequencies above the set value. Lower settings create a muffled, distant, or underwater sound.",min:20,max:2e4,step:10,unit:"Hz",format:n=>`${n.toFixed(0)}Hz`,type:"slider"},highPassFreq:{name:"High Pass Filter",description:"Cuts low frequencies below the set value. Higher settings thin out the sound and remove bass rumble.",min:0,max:1e3,step:10,unit:"Hz",format:n=>`${n.toFixed(0)}Hz`,type:"slider"},pitchShift:{name:"Pitch Shift",description:"Changes the pitch without affecting playback speed. Negative values create darker tones, positive values brighten. Independent of speed control.",min:-12,max:12,step:1,unit:"semi",format:n=>`${n>0?"+":""}${n.toFixed(0)} semi`,type:"slider"},playbackRate:{name:"Playback Speed",description:"Changes playback speed without affecting pitch. Lower values create a slowed-down, dreamy effect while maintaining original pitch. Independent of pitch control.",min:.25,max:2,step:.01,unit:"x",format:n=>`${n.toFixed(2)}x`,type:"slider"}};function G3({effects:n,onEffectChange:e,presetControls:s}){const r=h=>{const g=W3[h];return E.jsx(F3,{label:g.name,value:n[h],info:g,onChange:p=>e(h,p)},h)},o=["delayTime","delayFeedback","reverbMix","reverbDecay"],l=["distortionAmount"],u=["noiseLevel","vinylCrackle"],d=["lowPassFreq","highPassFreq"],f=["pitchShift","playbackRate"];return E.jsxs(kd,{className:"p-6 space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h2",{className:"text-xl font-semibold",children:"Effects"}),s]}),E.jsx(q3,{}),E.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-4",children:[o.map(r),l.map(r)]}),E.jsxs("div",{className:"space-y-4",children:[d.map(r),f.map(r),u.map(r)]})]})]})}var Tm=0;function lS(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??zb()),document.body.insertAdjacentElement("beforeend",n[1]??zb()),Tm++,()=>{Tm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Tm--}},[])}function zb(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Cm="focusScope.autoFocusOnMount",Em="focusScope.autoFocusOnUnmount",Bb={bubbles:!1,cancelable:!0},Z3="FocusScope",w0=w.forwardRef((n,e)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...u}=n,[d,f]=w.useState(null),h=qr(o),g=qr(l),p=w.useRef(null),y=Je(e,_=>f(_)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let _=function(N){if(b.paused||!d)return;const B=N.target;d.contains(B)?p.current=B:Qi(p.current,{select:!0})},T=function(N){if(b.paused||!d)return;const B=N.relatedTarget;B!==null&&(d.contains(B)||Qi(p.current,{select:!0}))},C=function(N){if(document.activeElement===document.body)for(const R of N)R.removedNodes.length>0&&Qi(d)};document.addEventListener("focusin",_),document.addEventListener("focusout",T);const M=new MutationObserver(C);return d&&M.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",T),M.disconnect()}}},[r,d,b.paused]),w.useEffect(()=>{if(d){Pb.add(b);const _=document.activeElement;if(!d.contains(_)){const C=new CustomEvent(Cm,Bb);d.addEventListener(Cm,h),d.dispatchEvent(C),C.defaultPrevented||(Y3(J3(cS(d)),{select:!0}),document.activeElement===_&&Qi(d))}return()=>{d.removeEventListener(Cm,h),setTimeout(()=>{const C=new CustomEvent(Em,Bb);d.addEventListener(Em,g),d.dispatchEvent(C),C.defaultPrevented||Qi(_??document.body,{select:!0}),d.removeEventListener(Em,g),Pb.remove(b)},0)}}},[d,h,g,b]);const x=w.useCallback(_=>{if(!s&&!r||b.paused)return;const T=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,C=document.activeElement;if(T&&C){const M=_.currentTarget,[N,B]=X3(M);N&&B?!_.shiftKey&&C===B?(_.preventDefault(),s&&Qi(N,{select:!0})):_.shiftKey&&C===N&&(_.preventDefault(),s&&Qi(B,{select:!0})):C===M&&_.preventDefault()}},[s,r,b.paused]);return E.jsx(Fe.div,{tabIndex:-1,...u,ref:y,onKeyDown:x})});w0.displayName=Z3;function Y3(n,{select:e=!1}={}){const s=document.activeElement;for(const r of n)if(Qi(r,{select:e}),document.activeElement!==s)return}function X3(n){const e=cS(n),s=Ib(e,n),r=Ib(e.reverse(),n);return[s,r]}function cS(n){const e=[],s=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function Ib(n,e){for(const s of n)if(!Q3(s,{upTo:e}))return s}function Q3(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function $3(n){return n instanceof HTMLInputElement&&"select"in n}function Qi(n,{select:e=!1}={}){if(n&&n.focus){const s=document.activeElement;n.focus({preventScroll:!0}),n!==s&&$3(n)&&e&&n.select()}}var Pb=K3();function K3(){let n=[];return{add(e){const s=n[0];e!==s&&(s==null||s.pause()),n=Fb(n,e),n.unshift(e)},remove(e){var s;n=Fb(n,e),(s=n[0])==null||s.resume()}}}function Fb(n,e){const s=[...n],r=s.indexOf(e);return r!==-1&&s.splice(r,1),s}function J3(n){return n.filter(e=>e.tagName!=="A")}var eD=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Ua=new WeakMap,Ou=new WeakMap,Nu={},Am=0,uS=function(n){return n&&(n.host||uS(n.parentNode))},tD=function(n,e){return e.map(function(s){if(n.contains(s))return s;var r=uS(s);return r&&n.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",n,". Doing nothing"),null)}).filter(function(s){return!!s})},nD=function(n,e,s,r){var o=tD(e,Array.isArray(n)?n:[n]);Nu[s]||(Nu[s]=new WeakMap);var l=Nu[s],u=[],d=new Set,f=new Set(o),h=function(p){!p||d.has(p)||(d.add(p),h(p.parentNode))};o.forEach(h);var g=function(p){!p||f.has(p)||Array.prototype.forEach.call(p.children,function(y){if(d.has(y))g(y);else try{var b=y.getAttribute(r),x=b!==null&&b!=="false",_=(Ua.get(y)||0)+1,T=(l.get(y)||0)+1;Ua.set(y,_),l.set(y,T),u.push(y),_===1&&x&&Ou.set(y,!0),T===1&&y.setAttribute(s,"true"),x||y.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",y,C)}})};return g(e),d.clear(),Am++,function(){u.forEach(function(p){var y=Ua.get(p)-1,b=l.get(p)-1;Ua.set(p,y),l.set(p,b),y||(Ou.has(p)||p.removeAttribute(r),Ou.delete(p)),b||p.removeAttribute(s)}),Am--,Am||(Ua=new WeakMap,Ua=new WeakMap,Ou=new WeakMap,Nu={})}},dS=function(n,e,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),o=eD(n);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),nD(r,o,s,"aria-hidden")):function(){return null}},Fu="right-scroll-bar-position",Lu="width-before-scroll-bar",sD="with-scroll-bars-hidden",iD="--removed-body-scroll-bar-size";function Mm(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function rD(n,e){var s=w.useState(function(){return{value:n,callback:e,facade:{get current(){return s.value},set current(r){var o=s.value;o!==r&&(s.value=r,s.callback(r,o))}}}})[0];return s.callback=e,s.facade}var aD=typeof window<"u"?w.useLayoutEffect:w.useEffect,Lb=new WeakMap;function oD(n,e){var s=rD(null,function(r){return n.forEach(function(o){return Mm(o,r)})});return aD(function(){var r=Lb.get(s);if(r){var o=new Set(r),l=new Set(n),u=s.current;o.forEach(function(d){l.has(d)||Mm(d,null)}),l.forEach(function(d){o.has(d)||Mm(d,u)})}Lb.set(s,n)},[n]),s}function lD(n){return n}function cD(n,e){e===void 0&&(e=lD);var s=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:n},useMedium:function(l){var u=e(l,r);return s.push(u),function(){s=s.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(r=!0;s.length;){var u=s;s=[],u.forEach(l)}s={push:function(d){return l(d)},filter:function(){return s}}},assignMedium:function(l){r=!0;var u=[];if(s.length){var d=s;s=[],d.forEach(l),u=s}var f=function(){var g=u;u=[],g.forEach(l)},h=function(){return Promise.resolve().then(f)};h(),s={push:function(g){u.push(g),h()},filter:function(g){return u=u.filter(g),s}}}};return o}function uD(n){n===void 0&&(n={});var e=cD(null);return e.options=Os({async:!0,ssr:!1},n),e}var fS=function(n){var e=n.sideCar,s=pw(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Os({},s))};fS.isSideCarExport=!0;function dD(n,e){return n.useMedium(e),fS}var hS=uD(),Om=function(){},qd=w.forwardRef(function(n,e){var s=w.useRef(null),r=w.useState({onScrollCapture:Om,onWheelCapture:Om,onTouchMoveCapture:Om}),o=r[0],l=r[1],u=n.forwardProps,d=n.children,f=n.className,h=n.removeScrollBar,g=n.enabled,p=n.shards,y=n.sideCar,b=n.noRelative,x=n.noIsolation,_=n.inert,T=n.allowPinchZoom,C=n.as,M=C===void 0?"div":C,N=n.gapMode,B=pw(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=y,z=oD([s,e]),D=Os(Os({},B),o);return w.createElement(w.Fragment,null,g&&w.createElement(R,{sideCar:hS,removeScrollBar:h,shards:p,noRelative:b,noIsolation:x,inert:_,setCallbacks:l,allowPinchZoom:!!T,lockRef:s,gapMode:N}),u?w.cloneElement(w.Children.only(d),Os(Os({},D),{ref:z})):w.createElement(M,Os({},D,{className:f,ref:z}),d))});qd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qd.classNames={fullWidth:Lu,zeroRight:Fu};var fD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hD(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=fD();return e&&n.setAttribute("nonce",e),n}function mD(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function pD(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var gD=function(){var n=0,e=null;return{add:function(s){n==0&&(e=hD())&&(mD(e,s),pD(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},vD=function(){var n=gD();return function(e,s){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&s])}},mS=function(){var n=vD(),e=function(s){var r=s.styles,o=s.dynamic;return n(r,o),null};return e},yD={left:0,top:0,right:0,gap:0},Nm=function(n){return parseInt(n||"",10)||0},bD=function(n){var e=window.getComputedStyle(document.body),s=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[Nm(s),Nm(r),Nm(o)]},_D=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return yD;var e=bD(n),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-s+e[2]-e[0])}},wD=mS(),no="data-scroll-locked",xD=function(n,e,s,r){var o=n.left,l=n.top,u=n.right,d=n.gap;return s===void 0&&(s="margin"),`
  .`.concat(sD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(no,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fu,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Lu,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Fu," .").concat(Fu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Lu," .").concat(Lu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(no,`] {
    `).concat(iD,": ").concat(d,`px;
  }
`)},jb=function(){var n=parseInt(document.body.getAttribute(no)||"0",10);return isFinite(n)?n:0},SD=function(){w.useEffect(function(){return document.body.setAttribute(no,(jb()+1).toString()),function(){var n=jb()-1;n<=0?document.body.removeAttribute(no):document.body.setAttribute(no,n.toString())}},[])},TD=function(n){var e=n.noRelative,s=n.noImportant,r=n.gapMode,o=r===void 0?"margin":r;SD();var l=w.useMemo(function(){return _D(o)},[o]);return w.createElement(wD,{styles:xD(l,!e,o,s?"":"!important")})},up=!1;if(typeof window<"u")try{var Ru=Object.defineProperty({},"passive",{get:function(){return up=!0,!0}});window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{up=!1}var Ha=up?{passive:!1}:!1,CD=function(n){return n.tagName==="TEXTAREA"},pS=function(n,e){if(!(n instanceof Element))return!1;var s=window.getComputedStyle(n);return s[e]!=="hidden"&&!(s.overflowY===s.overflowX&&!CD(n)&&s[e]==="visible")},ED=function(n){return pS(n,"overflowY")},AD=function(n){return pS(n,"overflowX")},Ub=function(n,e){var s=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=gS(n,r);if(o){var l=vS(n,r),u=l[1],d=l[2];if(u>d)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},MD=function(n){var e=n.scrollTop,s=n.scrollHeight,r=n.clientHeight;return[e,s,r]},OD=function(n){var e=n.scrollLeft,s=n.scrollWidth,r=n.clientWidth;return[e,s,r]},gS=function(n,e){return n==="v"?ED(e):AD(e)},vS=function(n,e){return n==="v"?MD(e):OD(e)},ND=function(n,e){return n==="h"&&e==="rtl"?-1:1},RD=function(n,e,s,r,o){var l=ND(n,window.getComputedStyle(e).direction),u=l*r,d=s.target,f=e.contains(d),h=!1,g=u>0,p=0,y=0;do{if(!d)break;var b=vS(n,d),x=b[0],_=b[1],T=b[2],C=_-T-l*x;(x||C)&&gS(n,d)&&(p+=C,y+=x);var M=d.parentNode;d=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(g&&Math.abs(p)<1||!g&&Math.abs(y)<1)&&(h=!0),h},ku=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Hb=function(n){return[n.deltaX,n.deltaY]},qb=function(n){return n&&"current"in n?n.current:n},kD=function(n,e){return n[0]===e[0]&&n[1]===e[1]},DD=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},VD=0,qa=[];function zD(n){var e=w.useRef([]),s=w.useRef([0,0]),r=w.useRef(),o=w.useState(VD++)[0],l=w.useState(mS)[0],u=w.useRef(n);w.useEffect(function(){u.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var _=kM([n.lockRef.current],(n.shards||[]).map(qb),!0).filter(Boolean);return _.forEach(function(T){return T.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),_.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var d=w.useCallback(function(_,T){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!u.current.allowPinchZoom;var C=ku(_),M=s.current,N="deltaX"in _?_.deltaX:M[0]-C[0],B="deltaY"in _?_.deltaY:M[1]-C[1],R,z=_.target,D=Math.abs(N)>Math.abs(B)?"h":"v";if("touches"in _&&D==="h"&&z.type==="range")return!1;var k=Ub(D,z);if(!k)return!0;if(k?R=D:(R=D==="v"?"h":"v",k=Ub(D,z)),!k)return!1;if(!r.current&&"changedTouches"in _&&(N||B)&&(r.current=R),!R)return!0;var W=r.current||R;return RD(W,T,_,W==="h"?N:B)},[]),f=w.useCallback(function(_){var T=_;if(!(!qa.length||qa[qa.length-1]!==l)){var C="deltaY"in T?Hb(T):ku(T),M=e.current.filter(function(R){return R.name===T.type&&(R.target===T.target||T.target===R.shadowParent)&&kD(R.delta,C)})[0];if(M&&M.should){T.cancelable&&T.preventDefault();return}if(!M){var N=(u.current.shards||[]).map(qb).filter(Boolean).filter(function(R){return R.contains(T.target)}),B=N.length>0?d(T,N[0]):!u.current.noIsolation;B&&T.cancelable&&T.preventDefault()}}},[]),h=w.useCallback(function(_,T,C,M){var N={name:_,delta:T,target:C,should:M,shadowParent:BD(C)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(B){return B!==N})},1)},[]),g=w.useCallback(function(_){s.current=ku(_),r.current=void 0},[]),p=w.useCallback(function(_){h(_.type,Hb(_),_.target,d(_,n.lockRef.current))},[]),y=w.useCallback(function(_){h(_.type,ku(_),_.target,d(_,n.lockRef.current))},[]);w.useEffect(function(){return qa.push(l),n.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:y}),document.addEventListener("wheel",f,Ha),document.addEventListener("touchmove",f,Ha),document.addEventListener("touchstart",g,Ha),function(){qa=qa.filter(function(_){return _!==l}),document.removeEventListener("wheel",f,Ha),document.removeEventListener("touchmove",f,Ha),document.removeEventListener("touchstart",g,Ha)}},[]);var b=n.removeScrollBar,x=n.inert;return w.createElement(w.Fragment,null,x?w.createElement(l,{styles:DD(o)}):null,b?w.createElement(TD,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function BD(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const ID=dD(hS,zD);var x0=w.forwardRef(function(n,e){return w.createElement(qd,Os({},n,{ref:e,sideCar:ID}))});x0.classNames=qd.classNames;var PD=[" ","Enter","ArrowUp","ArrowDown"],FD=[" ","Enter"],Gr="Select",[Wd,Gd,LD]=tx(Gr),[Oo]=fr(Gr,[LD,Ld]),Zd=Ld(),[jD,hr]=Oo(Gr),[UD,HD]=Oo(Gr),yS=n=>{const{__scopeSelect:e,children:s,open:r,defaultOpen:o,onOpenChange:l,value:u,defaultValue:d,onValueChange:f,dir:h,name:g,autoComplete:p,disabled:y,required:b,form:x}=n,_=Zd(e),[T,C]=w.useState(null),[M,N]=w.useState(null),[B,R]=w.useState(!1),z=ex(h),[D,k]=uo({prop:r,defaultProp:o??!1,onChange:l,caller:Gr}),[W,U]=uo({prop:u,defaultProp:d,onChange:f,caller:Gr}),j=w.useRef(null),H=T?x||!!T.closest("form"):!0,[K,ee]=w.useState(new Set),ce=Array.from(K).map(O=>O.props.value).join(";");return E.jsx(Wx,{..._,children:E.jsxs(jD,{required:b,scope:e,trigger:T,onTriggerChange:C,valueNode:M,onValueNodeChange:N,valueNodeHasChildren:B,onValueNodeHasChildrenChange:R,contentId:Fr(),value:W,onValueChange:U,open:D,onOpenChange:k,dir:z,triggerPointerDownPosRef:j,disabled:y,children:[E.jsx(Wd.Provider,{scope:e,children:E.jsx(UD,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(O=>{ee(I=>new Set(I).add(O))},[]),onNativeOptionRemove:w.useCallback(O=>{ee(I=>{const F=new Set(I);return F.delete(O),F})},[]),children:s})}),H?E.jsxs(LS,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:p,value:W,onChange:O=>U(O.target.value),disabled:y,form:x,children:[W===void 0?E.jsx("option",{value:""}):null,Array.from(K)]},ce):null]})})};yS.displayName=Gr;var bS="SelectTrigger",_S=w.forwardRef((n,e)=>{const{__scopeSelect:s,disabled:r=!1,...o}=n,l=Zd(s),u=hr(bS,s),d=u.disabled||r,f=Je(e,u.onTriggerChange),h=Gd(s),g=w.useRef("touch"),[p,y,b]=US(_=>{const T=h().filter(N=>!N.disabled),C=T.find(N=>N.value===u.value),M=HS(T,_,C);M!==void 0&&u.onValueChange(M.value)}),x=_=>{d||(u.onOpenChange(!0),b()),_&&(u.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return E.jsx(Gx,{asChild:!0,...l,children:E.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":jS(u.value)?"":void 0,...o,ref:f,onClick:Pe(o.onClick,_=>{_.currentTarget.focus(),g.current!=="mouse"&&x(_)}),onPointerDown:Pe(o.onPointerDown,_=>{g.current=_.pointerType;const T=_.target;T.hasPointerCapture(_.pointerId)&&T.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(x(_),_.preventDefault())}),onKeyDown:Pe(o.onKeyDown,_=>{const T=p.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&y(_.key),!(T&&_.key===" ")&&PD.includes(_.key)&&(x(),_.preventDefault())})})})});_S.displayName=bS;var wS="SelectValue",xS=w.forwardRef((n,e)=>{const{__scopeSelect:s,className:r,style:o,children:l,placeholder:u="",...d}=n,f=hr(wS,s),{onValueNodeHasChildrenChange:h}=f,g=l!==void 0,p=Je(e,f.onValueNodeChange);return ln(()=>{h(g)},[h,g]),E.jsx(Fe.span,{...d,ref:p,style:{pointerEvents:"none"},children:jS(f.value)?E.jsx(E.Fragment,{children:u}):l})});xS.displayName=wS;var qD="SelectIcon",SS=w.forwardRef((n,e)=>{const{__scopeSelect:s,children:r,...o}=n;return E.jsx(Fe.span,{"aria-hidden":!0,...o,ref:e,children:r||"▼"})});SS.displayName=qD;var WD="SelectPortal",TS=n=>E.jsx(jd,{asChild:!0,...n});TS.displayName=WD;var Zr="SelectContent",CS=w.forwardRef((n,e)=>{const s=hr(Zr,n.__scopeSelect),[r,o]=w.useState();if(ln(()=>{o(new DocumentFragment)},[]),!s.open){const l=r;return l?nc.createPortal(E.jsx(ES,{scope:n.__scopeSelect,children:E.jsx(Wd.Slot,{scope:n.__scopeSelect,children:E.jsx("div",{children:n.children})})}),l):null}return E.jsx(AS,{...n,ref:e})});CS.displayName=Zr;var os=10,[ES,mr]=Oo(Zr),GD="SelectContentImpl",ZD=co("SelectContent.RemoveScroll"),AS=w.forwardRef((n,e)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:u,side:d,sideOffset:f,align:h,alignOffset:g,arrowPadding:p,collisionBoundary:y,collisionPadding:b,sticky:x,hideWhenDetached:_,avoidCollisions:T,...C}=n,M=hr(Zr,s),[N,B]=w.useState(null),[R,z]=w.useState(null),D=Je(e,oe=>B(oe)),[k,W]=w.useState(null),[U,j]=w.useState(null),H=Gd(s),[K,ee]=w.useState(!1),ce=w.useRef(!1);w.useEffect(()=>{if(N)return dS(N)},[N]),lS();const O=w.useCallback(oe=>{const[ie,...we]=H().map(Ce=>Ce.ref.current),[Ae]=we.slice(-1),Oe=document.activeElement;for(const Ce of oe)if(Ce===Oe||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===ie&&R&&(R.scrollTop=0),Ce===Ae&&R&&(R.scrollTop=R.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==Oe))return},[H,R]),I=w.useCallback(()=>O([k,N]),[O,k,N]);w.useEffect(()=>{K&&I()},[K,I]);const{onOpenChange:F,triggerPointerDownPosRef:$}=M;w.useEffect(()=>{if(N){let oe={x:0,y:0};const ie=Ae=>{var Oe,Ce;oe={x:Math.abs(Math.round(Ae.pageX)-(((Oe=$.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(Ae.pageY)-(((Ce=$.current)==null?void 0:Ce.y)??0))}},we=Ae=>{oe.x<=10&&oe.y<=10?Ae.preventDefault():N.contains(Ae.target)||F(!1),document.removeEventListener("pointermove",ie),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",we,{capture:!0})}}},[N,F,$]),w.useEffect(()=>{const oe=()=>F(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[F]);const[ne,V]=US(oe=>{const ie=H().filter(Oe=>!Oe.disabled),we=ie.find(Oe=>Oe.ref.current===document.activeElement),Ae=HS(ie,oe,we);Ae&&setTimeout(()=>Ae.ref.current.focus())}),G=w.useCallback((oe,ie,we)=>{const Ae=!ce.current&&!we;(M.value!==void 0&&M.value===ie||Ae)&&(W(oe),Ae&&(ce.current=!0))},[M.value]),X=w.useCallback(()=>N==null?void 0:N.focus(),[N]),te=w.useCallback((oe,ie,we)=>{const Ae=!ce.current&&!we;(M.value!==void 0&&M.value===ie||Ae)&&j(oe)},[M.value]),re=r==="popper"?dp:MS,ue=re===dp?{side:d,sideOffset:f,align:h,alignOffset:g,arrowPadding:p,collisionBoundary:y,collisionPadding:b,sticky:x,hideWhenDetached:_,avoidCollisions:T}:{};return E.jsx(ES,{scope:s,content:N,viewport:R,onViewportChange:z,itemRefCallback:G,selectedItem:k,onItemLeave:X,itemTextRefCallback:te,focusSelectedItem:I,selectedItemText:U,position:r,isPositioned:K,searchRef:ne,children:E.jsx(x0,{as:ZD,allowPinchZoom:!0,children:E.jsx(w0,{asChild:!0,trapped:M.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Pe(o,oe=>{var ie;(ie=M.trigger)==null||ie.focus({preventScroll:!0}),oe.preventDefault()}),children:E.jsx(zd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:E.jsx(re,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:oe=>oe.preventDefault(),...C,...ue,onPlaced:()=>ee(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Pe(C.onKeyDown,oe=>{const ie=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ie&&oe.key.length===1&&V(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Ae=H().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Oe=oe.target,Ce=Ae.indexOf(Oe);Ae=Ae.slice(Ce+1)}setTimeout(()=>O(Ae)),oe.preventDefault()}})})})})})})});AS.displayName=GD;var YD="SelectItemAlignedPosition",MS=w.forwardRef((n,e)=>{const{__scopeSelect:s,onPlaced:r,...o}=n,l=hr(Zr,s),u=mr(Zr,s),[d,f]=w.useState(null),[h,g]=w.useState(null),p=Je(e,D=>g(D)),y=Gd(s),b=w.useRef(!1),x=w.useRef(!0),{viewport:_,selectedItem:T,selectedItemText:C,focusSelectedItem:M}=u,N=w.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&h&&_&&T&&C){const D=l.trigger.getBoundingClientRect(),k=h.getBoundingClientRect(),W=l.valueNode.getBoundingClientRect(),U=C.getBoundingClientRect();if(l.dir!=="rtl"){const Oe=U.left-k.left,Ce=W.left-Oe,Dt=D.left-Ce,vt=D.width+Dt,he=Math.max(vt,k.width),be=window.innerWidth-os,Ze=td(Ce,[os,Math.max(os,be-he)]);d.style.minWidth=vt+"px",d.style.left=Ze+"px"}else{const Oe=k.right-U.right,Ce=window.innerWidth-W.right-Oe,Dt=window.innerWidth-D.right-Ce,vt=D.width+Dt,he=Math.max(vt,k.width),be=window.innerWidth-os,Ze=td(Ce,[os,Math.max(os,be-he)]);d.style.minWidth=vt+"px",d.style.right=Ze+"px"}const j=y(),H=window.innerHeight-os*2,K=_.scrollHeight,ee=window.getComputedStyle(h),ce=parseInt(ee.borderTopWidth,10),O=parseInt(ee.paddingTop,10),I=parseInt(ee.borderBottomWidth,10),F=parseInt(ee.paddingBottom,10),$=ce+O+K+F+I,ne=Math.min(T.offsetHeight*5,$),V=window.getComputedStyle(_),G=parseInt(V.paddingTop,10),X=parseInt(V.paddingBottom,10),te=D.top+D.height/2-os,re=H-te,ue=T.offsetHeight/2,oe=T.offsetTop+ue,ie=ce+O+oe,we=$-ie;if(ie<=te){const Oe=j.length>0&&T===j[j.length-1].ref.current;d.style.bottom="0px";const Ce=h.clientHeight-_.offsetTop-_.offsetHeight,Dt=Math.max(re,ue+(Oe?X:0)+Ce+I),vt=ie+Dt;d.style.height=vt+"px"}else{const Oe=j.length>0&&T===j[0].ref.current;d.style.top="0px";const Dt=Math.max(te,ce+_.offsetTop+(Oe?G:0)+ue)+we;d.style.height=Dt+"px",_.scrollTop=ie-te+_.offsetTop}d.style.margin=`${os}px 0`,d.style.minHeight=ne+"px",d.style.maxHeight=H+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[y,l.trigger,l.valueNode,d,h,_,T,C,l.dir,r]);ln(()=>N(),[N]);const[B,R]=w.useState();ln(()=>{h&&R(window.getComputedStyle(h).zIndex)},[h]);const z=w.useCallback(D=>{D&&x.current===!0&&(N(),M==null||M(),x.current=!1)},[N,M]);return E.jsx(QD,{scope:s,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:z,children:E.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:E.jsx(Fe.div,{...o,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});MS.displayName=YD;var XD="SelectPopperPosition",dp=w.forwardRef((n,e)=>{const{__scopeSelect:s,align:r="start",collisionPadding:o=os,...l}=n,u=Zd(s);return E.jsx(Zx,{...u,...l,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dp.displayName=XD;var[QD,S0]=Oo(Zr,{}),fp="SelectViewport",OS=w.forwardRef((n,e)=>{const{__scopeSelect:s,nonce:r,...o}=n,l=mr(fp,s),u=S0(fp,s),d=Je(e,l.onViewportChange),f=w.useRef(0);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),E.jsx(Wd.Slot,{scope:s,children:E.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Pe(o.onScroll,h=>{const g=h.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:y}=u;if(y!=null&&y.current&&p){const b=Math.abs(f.current-g.scrollTop);if(b>0){const x=window.innerHeight-os*2,_=parseFloat(p.style.minHeight),T=parseFloat(p.style.height),C=Math.max(_,T);if(C<x){const M=C+b,N=Math.min(x,M),B=M-N;p.style.height=N+"px",p.style.bottom==="0px"&&(g.scrollTop=B>0?B:0,p.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});OS.displayName=fp;var NS="SelectGroup",[$D,KD]=Oo(NS),JD=w.forwardRef((n,e)=>{const{__scopeSelect:s,...r}=n,o=Fr();return E.jsx($D,{scope:s,id:o,children:E.jsx(Fe.div,{role:"group","aria-labelledby":o,...r,ref:e})})});JD.displayName=NS;var RS="SelectLabel",eV=w.forwardRef((n,e)=>{const{__scopeSelect:s,...r}=n,o=KD(RS,s);return E.jsx(Fe.div,{id:o.id,...r,ref:e})});eV.displayName=RS;var ad="SelectItem",[tV,kS]=Oo(ad),DS=w.forwardRef((n,e)=>{const{__scopeSelect:s,value:r,disabled:o=!1,textValue:l,...u}=n,d=hr(ad,s),f=mr(ad,s),h=d.value===r,[g,p]=w.useState(l??""),[y,b]=w.useState(!1),x=Je(e,M=>{var N;return(N=f.itemRefCallback)==null?void 0:N.call(f,M,r,o)}),_=Fr(),T=w.useRef("touch"),C=()=>{o||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return E.jsx(tV,{scope:s,value:r,disabled:o,textId:_,isSelected:h,onItemTextChange:w.useCallback(M=>{p(N=>N||((M==null?void 0:M.textContent)??"").trim())},[]),children:E.jsx(Wd.ItemSlot,{scope:s,value:r,disabled:o,textValue:g,children:E.jsx(Fe.div,{role:"option","aria-labelledby":_,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:x,onFocus:Pe(u.onFocus,()=>b(!0)),onBlur:Pe(u.onBlur,()=>b(!1)),onClick:Pe(u.onClick,()=>{T.current!=="mouse"&&C()}),onPointerUp:Pe(u.onPointerUp,()=>{T.current==="mouse"&&C()}),onPointerDown:Pe(u.onPointerDown,M=>{T.current=M.pointerType}),onPointerMove:Pe(u.onPointerMove,M=>{var N;T.current=M.pointerType,o?(N=f.onItemLeave)==null||N.call(f):T.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(u.onPointerLeave,M=>{var N;M.currentTarget===document.activeElement&&((N=f.onItemLeave)==null||N.call(f))}),onKeyDown:Pe(u.onKeyDown,M=>{var B;((B=f.searchRef)==null?void 0:B.current)!==""&&M.key===" "||(FD.includes(M.key)&&C(),M.key===" "&&M.preventDefault())})})})})});DS.displayName=ad;var Rl="SelectItemText",VS=w.forwardRef((n,e)=>{const{__scopeSelect:s,className:r,style:o,...l}=n,u=hr(Rl,s),d=mr(Rl,s),f=kS(Rl,s),h=HD(Rl,s),[g,p]=w.useState(null),y=Je(e,C=>p(C),f.onItemTextChange,C=>{var M;return(M=d.itemTextRefCallback)==null?void 0:M.call(d,C,f.value,f.disabled)}),b=g==null?void 0:g.textContent,x=w.useMemo(()=>E.jsx("option",{value:f.value,disabled:f.disabled,children:b},f.value),[f.disabled,f.value,b]),{onNativeOptionAdd:_,onNativeOptionRemove:T}=h;return ln(()=>(_(x),()=>T(x)),[_,T,x]),E.jsxs(E.Fragment,{children:[E.jsx(Fe.span,{id:f.textId,...l,ref:y}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?nc.createPortal(l.children,u.valueNode):null]})});VS.displayName=Rl;var zS="SelectItemIndicator",BS=w.forwardRef((n,e)=>{const{__scopeSelect:s,...r}=n;return kS(zS,s).isSelected?E.jsx(Fe.span,{"aria-hidden":!0,...r,ref:e}):null});BS.displayName=zS;var hp="SelectScrollUpButton",IS=w.forwardRef((n,e)=>{const s=mr(hp,n.__scopeSelect),r=S0(hp,n.__scopeSelect),[o,l]=w.useState(!1),u=Je(e,r.onScrollButtonChange);return ln(()=>{if(s.viewport&&s.isPositioned){let d=function(){const h=f.scrollTop>0;l(h)};const f=s.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,s.isPositioned]),o?E.jsx(FS,{...n,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=s;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});IS.displayName=hp;var mp="SelectScrollDownButton",PS=w.forwardRef((n,e)=>{const s=mr(mp,n.__scopeSelect),r=S0(mp,n.__scopeSelect),[o,l]=w.useState(!1),u=Je(e,r.onScrollButtonChange);return ln(()=>{if(s.viewport&&s.isPositioned){let d=function(){const h=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<h;l(g)};const f=s.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,s.isPositioned]),o?E.jsx(FS,{...n,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=s;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});PS.displayName=mp;var FS=w.forwardRef((n,e)=>{const{__scopeSelect:s,onAutoScroll:r,...o}=n,l=mr("SelectScrollButton",s),u=w.useRef(null),d=Gd(s),f=w.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return w.useEffect(()=>()=>f(),[f]),ln(()=>{var g;const h=d().find(p=>p.ref.current===document.activeElement);(g=h==null?void 0:h.ref.current)==null||g.scrollIntoView({block:"nearest"})},[d]),E.jsx(Fe.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Pe(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:Pe(o.onPointerMove,()=>{var h;(h=l.onItemLeave)==null||h.call(l),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:Pe(o.onPointerLeave,()=>{f()})})}),nV="SelectSeparator",sV=w.forwardRef((n,e)=>{const{__scopeSelect:s,...r}=n;return E.jsx(Fe.div,{"aria-hidden":!0,...r,ref:e})});sV.displayName=nV;var pp="SelectArrow",iV=w.forwardRef((n,e)=>{const{__scopeSelect:s,...r}=n,o=Zd(s),l=hr(pp,s),u=mr(pp,s);return l.open&&u.position==="popper"?E.jsx(Yx,{...o,...r,ref:e}):null});iV.displayName=pp;var rV="SelectBubbleInput",LS=w.forwardRef(({__scopeSelect:n,value:e,...s},r)=>{const o=w.useRef(null),l=Je(r,o),u=l0(e);return w.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==e&&g){const p=new Event("change",{bubbles:!0});g.call(d,e),d.dispatchEvent(p)}},[u,e]),E.jsx(Fe.select,{...s,style:{...Xx,...s.style},ref:l,defaultValue:e})});LS.displayName=rV;function jS(n){return n===""||n===void 0}function US(n){const e=qr(n),s=w.useRef(""),r=w.useRef(0),o=w.useCallback(u=>{const d=s.current+u;e(d),(function f(h){s.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>f(""),1e3))})(d)},[e]),l=w.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,o,l]}function HS(n,e,s){const o=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,l=s?n.indexOf(s):-1;let u=aV(n,Math.max(l,0));o.length===1&&(u=u.filter(h=>h!==s));const f=u.find(h=>h.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==s?f:void 0}function aV(n,e){return n.map((s,r)=>n[(e+r)%n.length])}var oV=yS,lV=_S,cV=xS,uV=SS,dV=TS,fV=CS,hV=OS,mV=DS,pV=VS,gV=BS,vV=IS,yV=PS;/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_V=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),Wb=n=>{const e=_V(n);return e.charAt(0).toUpperCase()+e.slice(1)},qS=(...n)=>n.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:u,...d},f)=>w.createElement("svg",{ref:f,...wV,width:e,height:e,stroke:n,strokeWidth:r?Number(s)*24/Number(e):s,className:qS("lucide",o),...d},[...u.map(([h,g])=>w.createElement(h,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=(n,e)=>{const s=w.forwardRef(({className:r,...o},l)=>w.createElement(xV,{ref:l,iconNode:e,className:qS(`lucide-${bV(Wb(n))}`,`lucide-${n}`,r),...o}));return s.displayName=Wb(n),s};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],TV=No("check",SV);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],WS=No("chevron-down",CV);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],AV=No("chevron-up",EV);function GS({...n}){return E.jsx(oV,{"data-slot":"select",...n})}function ZS({...n}){return E.jsx(cV,{"data-slot":"select-value",...n})}function YS({className:n,size:e="default",children:s,...r}){return E.jsxs(lV,{"data-slot":"select-trigger","data-size":e,className:ft("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[s,E.jsx(uV,{asChild:!0,children:E.jsx(WS,{className:"size-4 opacity-50"})})]})}function XS({className:n,children:e,position:s="popper",...r}){return E.jsx(dV,{children:E.jsxs(fV,{"data-slot":"select-content",className:ft("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:s,...r,children:[E.jsx(MV,{}),E.jsx(hV,{className:ft("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),E.jsx(OV,{})]})})}function gp({className:n,children:e,...s}){return E.jsxs(mV,{"data-slot":"select-item",className:ft("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...s,children:[E.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:E.jsx(gV,{children:E.jsx(TV,{className:"size-4"})})}),E.jsx(pV,{children:e})]})}function MV({className:n,...e}){return E.jsx(vV,{"data-slot":"select-scroll-up-button",className:ft("flex cursor-default items-center justify-center py-1",n),...e,children:E.jsx(AV,{className:"size-4"})})}function OV({className:n,...e}){return E.jsx(yV,{"data-slot":"select-scroll-down-button",className:ft("flex cursor-default items-center justify-center py-1",n),...e,children:E.jsx(WS,{className:"size-4"})})}function NV({presets:n,onSelect:e}){return n.length===0?null:E.jsxs(GS,{onValueChange:e,children:[E.jsx(YS,{className:"w-40",children:E.jsx(ZS,{placeholder:"Load preset"})}),E.jsx(XS,{children:n.map(s=>E.jsx(gp,{value:s.name,children:s.name},s.name))})]})}function RV({className:n,type:e,...s}){return E.jsx("input",{type:e,"data-slot":"input",className:ft("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...s})}var Yd="Dialog",[QS]=fr(Yd),[kV,ys]=QS(Yd),$S=n=>{const{__scopeDialog:e,children:s,open:r,defaultOpen:o,onOpenChange:l,modal:u=!0}=n,d=w.useRef(null),f=w.useRef(null),[h,g]=uo({prop:r,defaultProp:o??!1,onChange:l,caller:Yd});return E.jsx(kV,{scope:e,triggerRef:d,contentRef:f,contentId:Fr(),titleId:Fr(),descriptionId:Fr(),open:h,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(p=>!p),[g]),modal:u,children:s})};$S.displayName=Yd;var KS="DialogTrigger",JS=w.forwardRef((n,e)=>{const{__scopeDialog:s,...r}=n,o=ys(KS,s),l=Je(e,o.triggerRef);return E.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":E0(o.open),...r,ref:l,onClick:Pe(n.onClick,o.onOpenToggle)})});JS.displayName=KS;var T0="DialogPortal",[DV,eT]=QS(T0,{forceMount:void 0}),tT=n=>{const{__scopeDialog:e,forceMount:s,children:r,container:o}=n,l=ys(T0,e);return E.jsx(DV,{scope:e,forceMount:s,children:w.Children.map(r,u=>E.jsx(Mo,{present:s||l.open,children:E.jsx(jd,{asChild:!0,container:o,children:u})}))})};tT.displayName=T0;var od="DialogOverlay",nT=w.forwardRef((n,e)=>{const s=eT(od,n.__scopeDialog),{forceMount:r=s.forceMount,...o}=n,l=ys(od,n.__scopeDialog);return l.modal?E.jsx(Mo,{present:r||l.open,children:E.jsx(zV,{...o,ref:e})}):null});nT.displayName=od;var VV=co("DialogOverlay.RemoveScroll"),zV=w.forwardRef((n,e)=>{const{__scopeDialog:s,...r}=n,o=ys(od,s);return E.jsx(x0,{as:VV,allowPinchZoom:!0,shards:[o.contentRef],children:E.jsx(Fe.div,{"data-state":E0(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Yr="DialogContent",sT=w.forwardRef((n,e)=>{const s=eT(Yr,n.__scopeDialog),{forceMount:r=s.forceMount,...o}=n,l=ys(Yr,n.__scopeDialog);return E.jsx(Mo,{present:r||l.open,children:l.modal?E.jsx(BV,{...o,ref:e}):E.jsx(IV,{...o,ref:e})})});sT.displayName=Yr;var BV=w.forwardRef((n,e)=>{const s=ys(Yr,n.__scopeDialog),r=w.useRef(null),o=Je(e,s.contentRef,r);return w.useEffect(()=>{const l=r.current;if(l)return dS(l)},[]),E.jsx(iT,{...n,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(n.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=s.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Pe(n.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&l.preventDefault()}),onFocusOutside:Pe(n.onFocusOutside,l=>l.preventDefault())})}),IV=w.forwardRef((n,e)=>{const s=ys(Yr,n.__scopeDialog),r=w.useRef(!1),o=w.useRef(!1);return E.jsx(iT,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,d;(u=n.onCloseAutoFocus)==null||u.call(n,l),l.defaultPrevented||(r.current||(d=s.triggerRef.current)==null||d.focus(),l.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:l=>{var f,h;(f=n.onInteractOutside)==null||f.call(n,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=l.target;((h=s.triggerRef.current)==null?void 0:h.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),iT=w.forwardRef((n,e)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:l,...u}=n,d=ys(Yr,s),f=w.useRef(null),h=Je(e,f);return lS(),E.jsxs(E.Fragment,{children:[E.jsx(w0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:l,children:E.jsx(zd,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":E0(d.open),...u,ref:h,onDismiss:()=>d.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(FV,{titleId:d.titleId}),E.jsx(jV,{contentRef:f,descriptionId:d.descriptionId})]})]})}),C0="DialogTitle",rT=w.forwardRef((n,e)=>{const{__scopeDialog:s,...r}=n,o=ys(C0,s);return E.jsx(Fe.h2,{id:o.titleId,...r,ref:e})});rT.displayName=C0;var aT="DialogDescription",PV=w.forwardRef((n,e)=>{const{__scopeDialog:s,...r}=n,o=ys(aT,s);return E.jsx(Fe.p,{id:o.descriptionId,...r,ref:e})});PV.displayName=aT;var oT="DialogClose",lT=w.forwardRef((n,e)=>{const{__scopeDialog:s,...r}=n,o=ys(oT,s);return E.jsx(Fe.button,{type:"button",...r,ref:e,onClick:Pe(n.onClick,()=>o.onOpenChange(!1))})});lT.displayName=oT;function E0(n){return n?"open":"closed"}var cT="DialogTitleWarning",[GI,uT]=sR(cT,{contentName:Yr,titleName:C0,docsSlug:"dialog"}),FV=({titleId:n})=>{const e=uT(cT),s=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{n&&(document.getElementById(n)||console.error(s))},[s,n]),null},LV="DialogDescriptionWarning",jV=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uT(LV).contentName}}.`;return w.useEffect(()=>{var l;const o=(l=n.current)==null?void 0:l.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},UV=$S,HV=JS,qV=tT,WV=nT,GV=sT,ZV=rT,YV=lT;/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],QV=No("x",XV);function $V({...n}){return E.jsx(UV,{"data-slot":"dialog",...n})}function KV({...n}){return E.jsx(HV,{"data-slot":"dialog-trigger",...n})}function JV({...n}){return E.jsx(qV,{"data-slot":"dialog-portal",...n})}function e5({className:n,...e}){return E.jsx(WV,{"data-slot":"dialog-overlay",className:ft("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function t5({className:n,children:e,...s}){return E.jsxs(JV,{"data-slot":"dialog-portal",children:[E.jsx(e5,{}),E.jsxs(GV,{"data-slot":"dialog-content",className:ft("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...s,children:[e,E.jsxs(YV,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[E.jsx(QV,{}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function n5({className:n,...e}){return E.jsx("div",{"data-slot":"dialog-header",className:ft("flex flex-col gap-2 text-center sm:text-left",n),...e})}function s5({className:n,...e}){return E.jsx("div",{"data-slot":"dialog-footer",className:ft("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function i5({className:n,...e}){return E.jsx(ZV,{"data-slot":"dialog-title",className:ft("text-lg leading-none font-semibold",n),...e})}function r5({preset:n,onDelete:e}){return E.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-muted",children:[E.jsx("span",{className:"text-sm",children:n.name}),E.jsx(rr,{variant:"ghost",size:"sm",onClick:()=>e(n.name),children:E.jsx(gN,{size:16})})]})}function a5({presets:n,onSave:e,onDelete:s}){const[r,o]=w.useState(!1),[l,u]=w.useState(""),d=()=>{e(l),u(""),o(!1)};return E.jsxs($V,{open:r,onOpenChange:o,children:[E.jsx(KV,{asChild:!0,children:E.jsxs(rr,{variant:"secondary",size:"sm",children:[E.jsx(fN,{size:16,className:"mr-2"}),"Save Preset"]})}),E.jsxs(t5,{children:[E.jsx(n5,{children:E.jsx(i5,{children:"Save Preset"})}),E.jsxs("div",{className:"space-y-4 py-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(ar,{htmlFor:"preset-name",children:"Preset Name"}),E.jsx(RV,{id:"preset-name",value:l,onChange:f=>u(f.target.value),placeholder:"My Doomer Mix"})]}),n.length>0&&E.jsxs("div",{className:"space-y-2",children:[E.jsx(ar,{children:"Existing Presets"}),E.jsx("div",{className:"space-y-2",children:n.map(f=>E.jsx(r5,{preset:f,onDelete:s},f.name))})]})]}),E.jsx(s5,{children:E.jsx(rr,{onClick:d,children:"Save"})})]})]})}function o5({presets:n,onLoad:e,onSave:s,onDelete:r}){return E.jsxs("div",{className:"flex gap-2",children:[E.jsx(NV,{presets:n,onSelect:e}),E.jsx(a5,{presets:n,onSave:s,onDelete:r})]})}const dT="doomer-presets",l5=()=>{if(typeof window>"u")return[];try{const n=window.localStorage.getItem(dT);if(!n)return[];const e=JSON.parse(n);return Array.isArray(e)?e.filter(s=>!!(s&&typeof s=="object"&&"name"in s&&"effects"in s)):[]}catch(n){return console.warn("Failed to read stored presets",n),[]}};function c5(){const[n,e]=w.useState(()=>l5()),s=w.useCallback(u=>{e(d=>{const f=typeof u=="function"?u(d):u;if(typeof window<"u")try{window.localStorage.setItem(dT,JSON.stringify(f))}catch(h){console.warn("Failed to persist presets",h)}return f})},[]);return{presets:n,savePreset:(u,d)=>{if(!u.trim()){on.error("Please enter a preset name");return}const f={...Ka,...d};s(h=>[...(h||[]).filter(g=>g.name!==u),{name:u,effects:f}]),on.success(`Preset "${u}" saved`)},loadPreset:u=>{const d=n.find(f=>f.name===u);return d?(on.success(`Loaded preset "${u}"`),{...Ka,...d.effects}):null},deletePreset:u=>{s(d=>d.filter(f=>f.name!==u)),on.success(`Deleted preset "${u}"`)}}}var A0="Progress",M0=100,[u5]=fr(A0),[d5,f5]=u5(A0),fT=w.forwardRef((n,e)=>{const{__scopeProgress:s,value:r=null,max:o,getValueLabel:l=h5,...u}=n;(o||o===0)&&!Gb(o)&&console.error(m5(`${o}`,"Progress"));const d=Gb(o)?o:M0;r!==null&&!Zb(r,d)&&console.error(p5(`${r}`,"Progress"));const f=Zb(r,d)?r:null,h=ld(f)?l(f,d):void 0;return E.jsx(d5,{scope:s,value:f,max:d,children:E.jsx(Fe.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":ld(f)?f:void 0,"aria-valuetext":h,role:"progressbar","data-state":pT(f,d),"data-value":f??void 0,"data-max":d,...u,ref:e})})});fT.displayName=A0;var hT="ProgressIndicator",mT=w.forwardRef((n,e)=>{const{__scopeProgress:s,...r}=n,o=f5(hT,s);return E.jsx(Fe.div,{"data-state":pT(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:e})});mT.displayName=hT;function h5(n,e){return`${Math.round(n/e*100)}%`}function pT(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function ld(n){return typeof n=="number"}function Gb(n){return ld(n)&&!isNaN(n)&&n>0}function Zb(n,e){return ld(n)&&!isNaN(n)&&n<=e&&n>=0}function m5(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${M0}\`.`}function p5(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${M0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var g5=fT,v5=mT;function gT({className:n,value:e,...s}){return E.jsx(g5,{"data-slot":"progress",className:ft("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...s,children:E.jsx(v5,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function y5({isExporting:n,progress:e,onExport:s}){return E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(ar,{className:"text-sm",children:"Audio"}),E.jsx("p",{className:"text-xs text-muted-foreground",children:"Download the processed track as a high-quality WAV file."})]}),E.jsx(rr,{onClick:s,disabled:n,size:"lg",className:"w-full",children:n?E.jsx(E.Fragment,{children:"Exporting..."}):E.jsxs(E.Fragment,{children:[E.jsx(Uw,{size:20,className:"mr-2"}),"Export as WAV"]})}),n&&E.jsx(gT,{value:e,className:"mt-2"})]})}function b5({imagePreviewUrl:n,imageInputRef:e,isDisabled:s,onImageInput:r}){return E.jsxs("div",{className:"space-y-2",children:[E.jsx(ar,{className:"text-sm",children:"Video Image"}),E.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a JPG, PNG, or GIF that will stay centered in the video export."}),E.jsxs("div",{onClick:()=>{var o;return!s&&((o=e.current)==null?void 0:o.click())},className:`flex flex-col items-center justify-center gap-2 rounded-md border border-dashed p-4 text-center cursor-pointer transition-colors ${s?"opacity-60 pointer-events-none":"hover:border-primary/60"}`,children:[E.jsx("input",{ref:e,type:"file",accept:"image/png,image/jpeg,image/gif",className:"hidden",onChange:r}),n?E.jsx("img",{src:n,alt:"Video artwork preview",className:"h-32 w-full object-contain"}):E.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to add image"})]})]})}const kl={landscape:{width:320,height:180},portrait:{width:180,height:320}},_5=n=>kl[n],w5=(n,e,s,r)=>{if(n<=0||e<=0)return{x:0,y:0,width:s,height:r,scale:1};const o=n/e,l=s/r;let u=s,d=r;o>l?d=s/o:u=r*o;const f=(s-u)/2,h=(r-d)/2;return{x:f,y:h,width:u,height:d,scale:u/n}};function x5({orientation:n,isDisabled:e,onOrientationChange:s}){return E.jsxs("div",{className:"space-y-2",children:[E.jsx(ar,{htmlFor:"orientation-select",children:"Orientation"}),E.jsxs(GS,{value:n,onValueChange:r=>s(r),disabled:e,children:[E.jsx(YS,{id:"orientation-select",children:E.jsx(ZS,{placeholder:"Select orientation"})}),E.jsxs(XS,{children:[E.jsxs(gp,{value:"landscape",children:["Landscape (",kl.landscape.width,"x",kl.landscape.height,")"]}),E.jsxs(gp,{value:"portrait",children:["Portrait (",kl.portrait.width,"x",kl.portrait.height,")"]})]})]})]})}function S5({isExporting:n,isDisabled:e,progress:s,stage:r,onExport:o}){return E.jsxs(E.Fragment,{children:[E.jsx(rr,{onClick:o,disabled:e,size:"lg",className:"w-full",children:n?E.jsxs("span",{className:"flex items-center justify-center gap-2",children:[E.jsx("span",{className:"h-2 w-2 animate-pulse rounded-full bg-primary","aria-hidden":!0}),r||"Rendering…"]}):E.jsxs(E.Fragment,{children:[E.jsx(Uw,{size:20,className:"mr-2"}),"Export as MP4"]})}),n&&E.jsxs("div",{className:"mt-2 space-y-1",children:[E.jsx(gT,{value:s}),E.jsx("p",{className:"text-xs text-muted-foreground text-center","aria-live":"polite",children:r||"Rendering…"})]})]})}function T5({isAudioExporting:n,audioExportProgress:e,onAudioExport:s,isVideoExporting:r,videoExportProgress:o,videoExportStage:l,videoImage:u,imagePreviewUrl:d,imageInputRef:f,videoOrientation:h,onImageInput:g,onOrientationChange:p,onVideoExport:y}){return E.jsxs(kd,{className:"p-6 space-y-6",children:[E.jsx("h2",{className:"text-xl font-semibold",children:"Export"}),E.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[E.jsx(y5,{isExporting:n,progress:e,onExport:s}),E.jsxs("div",{className:"space-y-4",children:[E.jsx(b5,{imagePreviewUrl:d,imageInputRef:f,isDisabled:r,onImageInput:g}),E.jsx(x5,{orientation:h,isDisabled:r,onOrientationChange:p}),E.jsx(S5,{isExporting:r,isDisabled:r||!u,progress:o,stage:l,onExport:y})]})]})]})}function C5({audioBuffer:n,fileName:e,exportAudio:s}){const[r,o]=w.useState(!1),[l,u]=w.useState(0);return{isAudioExporting:r,audioExportProgress:l,handleAudioExport:async f=>{if(!n){on.error("No audio loaded");return}o(!0),u(0);const h=setInterval(()=>{u(g=>Math.min(g+10,90))},200);try{const g=await s(f);clearInterval(h),u(100);const p=URL.createObjectURL(g),y=document.createElement("a");y.href=p,y.download=`doomer-${e.replace(/\.[^/.]+$/,"")}.wav`,y.style.display="none",document.body.appendChild(y),requestAnimationFrame(()=>{y.click(),requestAnimationFrame(()=>{URL.revokeObjectURL(p),y.remove()})}),on.success("Audio exported successfully"),setTimeout(()=>{o(!1),u(0)},1e3)}catch(g){clearInterval(h),on.error("Failed to export audio"),console.error(g),o(!1),u(0)}}}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */function me(n){if(!n)throw new Error("Assertion failed.")}const Ns=n=>n&&n[n.length-1],mo=n=>n>=0&&n<2**32;class ql{constructor(e){this.bytes=e,this.pos=0}seekToByte(e){this.pos=8*e}readBit(){const e=Math.floor(this.pos/8),s=this.bytes[e]??0,r=7-(this.pos&7),o=(s&1<<r)>>r;return this.pos++,o}readBits(e){if(e===1)return this.readBit();let s=0;for(let r=0;r<e;r++)s<<=1,s|=this.readBit();return s}writeBits(e,s){const r=this.pos+e;for(let o=this.pos;o<r;o++){const l=Math.floor(o/8);let u=this.bytes[l];const d=7-(o&7);u&=~(1<<d),u|=(s&1<<r-o-1)>>r-o-1<<d,this.bytes[l]=u}this.pos=r}readAlignedByte(){if(this.pos%8!==0)throw new Error("Bitstream is not byte-aligned.");const e=this.pos/8,s=this.bytes[e]??0;return this.pos+=8,s}skipBits(e){this.pos+=e}getBitsLeft(){return this.bytes.length*8-this.pos}clone(){const e=new ql(this.bytes);return e.pos=this.pos,e}}const _e=n=>{let e=0;for(;n.readBits(1)===0&&e<32;)e++;if(e>=32)throw new Error("Invalid exponential-Golomb code.");return(1<<e)-1+n.readBits(e)},Bl=n=>{const e=_e(n);return(e&1)===0?-(e>>1):e+1>>1},tr=n=>n.constructor===Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength),vT=n=>n.constructor===DataView?n:n instanceof ArrayBuffer?new DataView(n):new DataView(n.buffer,n.byteOffset,n.byteLength);new TextDecoder;const ks=new TextEncoder,O0=n=>Object.fromEntries(Object.entries(n).map(([e,s])=>[s,e])),Xd={bt709:1,bt470bg:5,smpte170m:6,bt2020:9,smpte432:12};O0(Xd);const Qd={bt709:1,smpte170m:6,linear:8,"iec61966-2-1":13,pq:16,hlg:18};O0(Qd);const $d={rgb:0,bt709:1,bt470bg:5,smpte170m:6,"bt2020-ncl":9};O0($d);const E5=n=>!!n&&!!n.primaries&&!!n.transfer&&!!n.matrix&&n.fullRange!==void 0,Kd=n=>n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer||ArrayBuffer.isView(n);class yT{constructor(){this.currentPromise=Promise.resolve()}async acquire(){let e;const s=new Promise(o=>{e=o}),r=this.currentPromise;return this.currentPromise=s,await r,e}}const A5=()=>{let n,e;return{promise:new Promise((r,o)=>{n=r,e=o}),resolve:n,reject:e}},N0=n=>{throw new Error(`Unexpected value: ${n}`)},bT=(n,e,s,r)=>{s=s>>>0,s=s&16777215,r?(n.setUint8(e,s&255),n.setUint8(e+1,s>>>8&255),n.setUint8(e+2,s>>>16&255)):(n.setUint8(e,s>>>16&255),n.setUint8(e+1,s>>>8&255),n.setUint8(e+2,s&255))},M5=(n,e,s,r)=>{s=En(s,-8388608,8388607),s<0&&(s=s+16777216&16777215),bT(n,e,s,r)},En=(n,e,s)=>Math.max(e,Math.min(s,n)),O5="und",N5=/^[a-z]{3}$/,R5=n=>N5.test(n),Ji=1e6*(1+Number.EPSILON),k5=(n,e)=>{const s=n<0?-1:1;n=Math.abs(n);let r=0,o=1,l=1,u=0,d=n;for(;;){const f=Math.floor(d),h=f*l+r,g=f*u+o;if(g>e)return{numerator:s*l,denominator:u};if(r=l,o=u,l=h,u=g,d=1/(d-f),!isFinite(d))break}return{numerator:s*l,denominator:u}};class _T{constructor(){this.currentPromise=Promise.resolve()}call(e){return this.currentPromise=this.currentPromise.then(e)}}let Rm=null;const vp=()=>{var n;return Rm!==null?Rm:Rm=typeof navigator<"u"&&((n=navigator.userAgent)==null?void 0:n.includes("Firefox"))},wT=function*(n){for(const e in n){const s=n[e];s!==void 0&&(yield{key:e,value:s})}},D5=()=>{Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose"))};/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class xT{constructor(e,s){if(this.data=e,this.mimeType=s,!(e instanceof Uint8Array))throw new TypeError("data must be a Uint8Array.");if(typeof s!="string")throw new TypeError("mimeType must be a string.")}}class V5{constructor(e,s,r,o){if(this.data=e,this.mimeType=s,this.name=r,this.description=o,!(e instanceof Uint8Array))throw new TypeError("data must be a Uint8Array.");if(s!==void 0&&typeof s!="string")throw new TypeError("mimeType, when provided, must be a string.");if(r!==void 0&&typeof r!="string")throw new TypeError("name, when provided, must be a string.");if(o!==void 0&&typeof o!="string")throw new TypeError("description, when provided, must be a string.")}}const z5=n=>{if(!n||typeof n!="object")throw new TypeError("tags must be an object.");if(n.title!==void 0&&typeof n.title!="string")throw new TypeError("tags.title, when provided, must be a string.");if(n.description!==void 0&&typeof n.description!="string")throw new TypeError("tags.description, when provided, must be a string.");if(n.artist!==void 0&&typeof n.artist!="string")throw new TypeError("tags.artist, when provided, must be a string.");if(n.album!==void 0&&typeof n.album!="string")throw new TypeError("tags.album, when provided, must be a string.");if(n.albumArtist!==void 0&&typeof n.albumArtist!="string")throw new TypeError("tags.albumArtist, when provided, must be a string.");if(n.trackNumber!==void 0&&(!Number.isInteger(n.trackNumber)||n.trackNumber<=0))throw new TypeError("tags.trackNumber, when provided, must be a positive integer.");if(n.tracksTotal!==void 0&&(!Number.isInteger(n.tracksTotal)||n.tracksTotal<=0))throw new TypeError("tags.tracksTotal, when provided, must be a positive integer.");if(n.discNumber!==void 0&&(!Number.isInteger(n.discNumber)||n.discNumber<=0))throw new TypeError("tags.discNumber, when provided, must be a positive integer.");if(n.discsTotal!==void 0&&(!Number.isInteger(n.discsTotal)||n.discsTotal<=0))throw new TypeError("tags.discsTotal, when provided, must be a positive integer.");if(n.genre!==void 0&&typeof n.genre!="string")throw new TypeError("tags.genre, when provided, must be a string.");if(n.date!==void 0&&(!(n.date instanceof Date)||Number.isNaN(n.date.getTime())))throw new TypeError("tags.date, when provided, must be a valid Date.");if(n.lyrics!==void 0&&typeof n.lyrics!="string")throw new TypeError("tags.lyrics, when provided, must be a string.");if(n.images!==void 0){if(!Array.isArray(n.images))throw new TypeError("tags.images, when provided, must be an array.");for(const e of n.images){if(!e||typeof e!="object")throw new TypeError("Each image in tags.images must be an object.");if(!(e.data instanceof Uint8Array))throw new TypeError("Each image.data must be a Uint8Array.");if(typeof e.mimeType!="string")throw new TypeError("Each image.mimeType must be a string.");if(!["coverFront","coverBack","unknown"].includes(e.kind))throw new TypeError("Each image.kind must be 'coverFront', 'coverBack', or 'unknown'.")}}if(n.comment!==void 0&&typeof n.comment!="string")throw new TypeError("tags.comment, when provided, must be a string.");if(n.raw!==void 0){if(!n.raw||typeof n.raw!="object")throw new TypeError("tags.raw, when provided, must be an object.");for(const e of Object.values(n.raw))if(e!==null&&typeof e!="string"&&!(e instanceof Uint8Array)&&!(e instanceof xT)&&!(e instanceof V5))throw new TypeError("Each value in tags.raw must be a string, Uint8Array, RichImageData, AttachedFile, or null.")}};/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const Xr=["avc","hevc","vp9","av1","vp8"],Is=["pcm-s16","pcm-s16be","pcm-s24","pcm-s24be","pcm-s32","pcm-s32be","pcm-f32","pcm-f32be","pcm-f64","pcm-f64be","pcm-u8","pcm-s8","ulaw","alaw"],ST=["aac","opus","mp3","vorbis","flac"],po=[...ST,...Is],cd=["webvtt"],Yb=[{maxMacroblocks:99,maxBitrate:64e3,level:10},{maxMacroblocks:396,maxBitrate:192e3,level:11},{maxMacroblocks:396,maxBitrate:384e3,level:12},{maxMacroblocks:396,maxBitrate:768e3,level:13},{maxMacroblocks:396,maxBitrate:2e6,level:20},{maxMacroblocks:792,maxBitrate:4e6,level:21},{maxMacroblocks:1620,maxBitrate:4e6,level:22},{maxMacroblocks:1620,maxBitrate:1e7,level:30},{maxMacroblocks:3600,maxBitrate:14e6,level:31},{maxMacroblocks:5120,maxBitrate:2e7,level:32},{maxMacroblocks:8192,maxBitrate:2e7,level:40},{maxMacroblocks:8192,maxBitrate:5e7,level:41},{maxMacroblocks:8704,maxBitrate:5e7,level:42},{maxMacroblocks:22080,maxBitrate:135e6,level:50},{maxMacroblocks:36864,maxBitrate:24e7,level:51},{maxMacroblocks:36864,maxBitrate:24e7,level:52},{maxMacroblocks:139264,maxBitrate:24e7,level:60},{maxMacroblocks:139264,maxBitrate:48e7,level:61},{maxMacroblocks:139264,maxBitrate:8e8,level:62}],Xb=[{maxPictureSize:36864,maxBitrate:128e3,tier:"L",level:30},{maxPictureSize:122880,maxBitrate:15e5,tier:"L",level:60},{maxPictureSize:245760,maxBitrate:3e6,tier:"L",level:63},{maxPictureSize:552960,maxBitrate:6e6,tier:"L",level:90},{maxPictureSize:983040,maxBitrate:1e7,tier:"L",level:93},{maxPictureSize:2228224,maxBitrate:12e6,tier:"L",level:120},{maxPictureSize:2228224,maxBitrate:3e7,tier:"H",level:120},{maxPictureSize:2228224,maxBitrate:2e7,tier:"L",level:123},{maxPictureSize:2228224,maxBitrate:5e7,tier:"H",level:123},{maxPictureSize:8912896,maxBitrate:25e6,tier:"L",level:150},{maxPictureSize:8912896,maxBitrate:1e8,tier:"H",level:150},{maxPictureSize:8912896,maxBitrate:4e7,tier:"L",level:153},{maxPictureSize:8912896,maxBitrate:16e7,tier:"H",level:153},{maxPictureSize:8912896,maxBitrate:6e7,tier:"L",level:156},{maxPictureSize:8912896,maxBitrate:24e7,tier:"H",level:156},{maxPictureSize:35651584,maxBitrate:6e7,tier:"L",level:180},{maxPictureSize:35651584,maxBitrate:24e7,tier:"H",level:180},{maxPictureSize:35651584,maxBitrate:12e7,tier:"L",level:183},{maxPictureSize:35651584,maxBitrate:48e7,tier:"H",level:183},{maxPictureSize:35651584,maxBitrate:24e7,tier:"L",level:186},{maxPictureSize:35651584,maxBitrate:8e8,tier:"H",level:186}],Qb=[{maxPictureSize:36864,maxBitrate:2e5,level:10},{maxPictureSize:73728,maxBitrate:8e5,level:11},{maxPictureSize:122880,maxBitrate:18e5,level:20},{maxPictureSize:245760,maxBitrate:36e5,level:21},{maxPictureSize:552960,maxBitrate:72e5,level:30},{maxPictureSize:983040,maxBitrate:12e6,level:31},{maxPictureSize:2228224,maxBitrate:18e6,level:40},{maxPictureSize:2228224,maxBitrate:3e7,level:41},{maxPictureSize:8912896,maxBitrate:6e7,level:50},{maxPictureSize:8912896,maxBitrate:12e7,level:51},{maxPictureSize:8912896,maxBitrate:18e7,level:52},{maxPictureSize:35651584,maxBitrate:18e7,level:60},{maxPictureSize:35651584,maxBitrate:24e7,level:61},{maxPictureSize:35651584,maxBitrate:48e7,level:62}],$b=[{maxPictureSize:147456,maxBitrate:15e5,tier:"M",level:0},{maxPictureSize:278784,maxBitrate:3e6,tier:"M",level:1},{maxPictureSize:665856,maxBitrate:6e6,tier:"M",level:4},{maxPictureSize:1065024,maxBitrate:1e7,tier:"M",level:5},{maxPictureSize:2359296,maxBitrate:12e6,tier:"M",level:8},{maxPictureSize:2359296,maxBitrate:3e7,tier:"H",level:8},{maxPictureSize:2359296,maxBitrate:2e7,tier:"M",level:9},{maxPictureSize:2359296,maxBitrate:5e7,tier:"H",level:9},{maxPictureSize:8912896,maxBitrate:3e7,tier:"M",level:12},{maxPictureSize:8912896,maxBitrate:1e8,tier:"H",level:12},{maxPictureSize:8912896,maxBitrate:4e7,tier:"M",level:13},{maxPictureSize:8912896,maxBitrate:16e7,tier:"H",level:13},{maxPictureSize:8912896,maxBitrate:6e7,tier:"M",level:14},{maxPictureSize:8912896,maxBitrate:24e7,tier:"H",level:14},{maxPictureSize:35651584,maxBitrate:6e7,tier:"M",level:15},{maxPictureSize:35651584,maxBitrate:24e7,tier:"H",level:15},{maxPictureSize:35651584,maxBitrate:6e7,tier:"M",level:16},{maxPictureSize:35651584,maxBitrate:24e7,tier:"H",level:16},{maxPictureSize:35651584,maxBitrate:1e8,tier:"M",level:17},{maxPictureSize:35651584,maxBitrate:48e7,tier:"H",level:17},{maxPictureSize:35651584,maxBitrate:16e7,tier:"M",level:18},{maxPictureSize:35651584,maxBitrate:8e8,tier:"H",level:18},{maxPictureSize:35651584,maxBitrate:16e7,tier:"M",level:19},{maxPictureSize:35651584,maxBitrate:8e8,tier:"H",level:19}],B5=(n,e,s,r)=>{if(n==="avc"){const l=Math.ceil(e/16)*Math.ceil(s/16),u=Yb.find(p=>l<=p.maxMacroblocks&&r<=p.maxBitrate)??Ns(Yb),d=u?u.level:0,f="64".padStart(2,"0"),h="00",g=d.toString(16).padStart(2,"0");return`avc1.${f}${h}${g}`}else if(n==="hevc"){const d=e*s,f=Xb.find(g=>d<=g.maxPictureSize&&r<=g.maxBitrate)??Ns(Xb);return`hev1.1.6.${f.tier}${f.level}.B0`}else{if(n==="vp8")return"vp8";if(n==="vp9"){const l=e*s;return`vp09.00.${(Qb.find(f=>l<=f.maxPictureSize&&r<=f.maxBitrate)??Ns(Qb)).level.toString().padStart(2,"0")}.08`}else if(n==="av1"){const l=e*s,u=$b.find(h=>l<=h.maxPictureSize&&r<=h.maxBitrate)??Ns($b);return`av01.0.${u.level.toString().padStart(2,"0")}${u.tier}.08`}}throw new TypeError(`Unhandled codec '${n}'.`)},I5=n=>{const e=n.split("."),o=(1<<7)+1,l=Number(e[1]),u=e[2],d=Number(u.slice(0,-1)),f=(l<<5)+d,h=u.slice(-1)==="H"?1:0,p=Number(e[3])===8?0:1,y=0,b=e[4]?Number(e[4]):0,x=e[5]?Number(e[5][0]):1,_=e[5]?Number(e[5][1]):1,T=e[5]?Number(e[5][2]):0,C=(h<<7)+(p<<6)+(y<<5)+(b<<4)+(x<<3)+(_<<2)+T;return[o,f,C,0]},P5=(n,e,s)=>{if(n==="aac")return e>=2&&s<=24e3?"mp4a.40.29":s<=24e3?"mp4a.40.5":"mp4a.40.2";if(n==="mp3")return"mp3";if(n==="opus")return"opus";if(n==="vorbis")return"vorbis";if(n==="flac")return"flac";if(Is.includes(n))return n;throw new TypeError(`Unhandled codec '${n}'.`)},TT=/^pcm-([usf])(\d+)+(be)?$/,Ro=n=>{if(me(Is.includes(n)),n==="ulaw")return{dataType:"ulaw",sampleSize:1,littleEndian:!0,silentValue:255};if(n==="alaw")return{dataType:"alaw",sampleSize:1,littleEndian:!0,silentValue:213};const e=TT.exec(n);me(e);let s;e[1]==="u"?s="unsigned":e[1]==="s"?s="signed":s="float";const r=Number(e[2])/8,o=e[3]!=="be",l=n==="pcm-u8"?2**7:0;return{dataType:s,sampleSize:r,littleEndian:o,silentValue:l}},CT=n=>n.startsWith("avc1")||n.startsWith("avc3")?"avc":n.startsWith("hev1")||n.startsWith("hvc1")?"hevc":n==="vp8"?"vp8":n.startsWith("vp09")?"vp9":n.startsWith("av01")?"av1":n.startsWith("mp4a.40")||n==="mp4a.67"?"aac":n==="mp3"||n==="mp4a.69"||n==="mp4a.6B"||n==="mp4a.6b"?"mp3":n==="opus"?"opus":n==="vorbis"?"vorbis":n==="flac"?"flac":n==="ulaw"?"ulaw":n==="alaw"?"alaw":TT.test(n)?n:n==="webvtt"?"webvtt":null,F5=n=>n==="avc"?{avc:{format:"avc"}}:n==="hevc"?{hevc:{format:"hevc"}}:{},L5=n=>n==="aac"?{aac:{format:"aac"}}:n==="opus"?{opus:{format:"opus"}}:{},j5=["avc1","avc3","hev1","hvc1","vp8","vp09","av01"],U5=/^(avc1|avc3)\.[0-9a-fA-F]{6}$/,H5=/^(hev1|hvc1)\.(?:[ABC]?\d+)\.[0-9a-fA-F]{1,8}\.[LH]\d+(?:\.[0-9a-fA-F]{1,2}){0,6}$/,q5=/^vp09(?:\.\d{2}){3}(?:(?:\.\d{2}){5})?$/,W5=/^av01\.\d\.\d{2}[MH]\.\d{2}(?:\.\d\.\d{3}\.\d{2}\.\d{2}\.\d{2}\.\d)?$/,G5=n=>{if(!n)throw new TypeError("Video chunk metadata must be provided.");if(typeof n!="object")throw new TypeError("Video chunk metadata must be an object.");if(!n.decoderConfig)throw new TypeError("Video chunk metadata must include a decoder configuration.");if(typeof n.decoderConfig!="object")throw new TypeError("Video chunk metadata decoder configuration must be an object.");if(typeof n.decoderConfig.codec!="string")throw new TypeError("Video chunk metadata decoder configuration must specify a codec string.");if(!j5.some(e=>n.decoderConfig.codec.startsWith(e)))throw new TypeError("Video chunk metadata decoder configuration codec string must be a valid video codec string as specified in the WebCodecs Codec Registry.");if(!Number.isInteger(n.decoderConfig.codedWidth)||n.decoderConfig.codedWidth<=0)throw new TypeError("Video chunk metadata decoder configuration must specify a valid codedWidth (positive integer).");if(!Number.isInteger(n.decoderConfig.codedHeight)||n.decoderConfig.codedHeight<=0)throw new TypeError("Video chunk metadata decoder configuration must specify a valid codedHeight (positive integer).");if(n.decoderConfig.description!==void 0&&!Kd(n.decoderConfig.description))throw new TypeError("Video chunk metadata decoder configuration description, when defined, must be an ArrayBuffer or an ArrayBuffer view.");if(n.decoderConfig.colorSpace!==void 0){const{colorSpace:e}=n.decoderConfig;if(typeof e!="object")throw new TypeError("Video chunk metadata decoder configuration colorSpace, when provided, must be an object.");const s=Object.keys(Xd);if(e.primaries!=null&&!s.includes(e.primaries))throw new TypeError(`Video chunk metadata decoder configuration colorSpace primaries, when defined, must be one of ${s.join(", ")}.`);const r=Object.keys(Qd);if(e.transfer!=null&&!r.includes(e.transfer))throw new TypeError(`Video chunk metadata decoder configuration colorSpace transfer, when defined, must be one of ${r.join(", ")}.`);const o=Object.keys($d);if(e.matrix!=null&&!o.includes(e.matrix))throw new TypeError(`Video chunk metadata decoder configuration colorSpace matrix, when defined, must be one of ${o.join(", ")}.`);if(e.fullRange!=null&&typeof e.fullRange!="boolean")throw new TypeError("Video chunk metadata decoder configuration colorSpace fullRange, when defined, must be a boolean.")}if(n.decoderConfig.codec.startsWith("avc1")||n.decoderConfig.codec.startsWith("avc3")){if(!U5.test(n.decoderConfig.codec))throw new TypeError("Video chunk metadata decoder configuration codec string for AVC must be a valid AVC codec string as specified in Section 3.4 of RFC 6381.")}else if(n.decoderConfig.codec.startsWith("hev1")||n.decoderConfig.codec.startsWith("hvc1")){if(!H5.test(n.decoderConfig.codec))throw new TypeError("Video chunk metadata decoder configuration codec string for HEVC must be a valid HEVC codec string as specified in Section E.3 of ISO 14496-15.")}else if(n.decoderConfig.codec.startsWith("vp8")){if(n.decoderConfig.codec!=="vp8")throw new TypeError('Video chunk metadata decoder configuration codec string for VP8 must be "vp8".')}else if(n.decoderConfig.codec.startsWith("vp09")){if(!q5.test(n.decoderConfig.codec))throw new TypeError('Video chunk metadata decoder configuration codec string for VP9 must be a valid VP9 codec string as specified in Section "Codecs Parameter String" of https://www.webmproject.org/vp9/mp4/.')}else if(n.decoderConfig.codec.startsWith("av01")&&!W5.test(n.decoderConfig.codec))throw new TypeError('Video chunk metadata decoder configuration codec string for AV1 must be a valid AV1 codec string as specified in Section "Codecs Parameter String" of https://aomediacodec.github.io/av1-isobmff/.')},Z5=["mp4a","mp3","opus","vorbis","flac","ulaw","alaw","pcm"],Y5=n=>{if(!n)throw new TypeError("Audio chunk metadata must be provided.");if(typeof n!="object")throw new TypeError("Audio chunk metadata must be an object.");if(!n.decoderConfig)throw new TypeError("Audio chunk metadata must include a decoder configuration.");if(typeof n.decoderConfig!="object")throw new TypeError("Audio chunk metadata decoder configuration must be an object.");if(typeof n.decoderConfig.codec!="string")throw new TypeError("Audio chunk metadata decoder configuration must specify a codec string.");if(!Z5.some(e=>n.decoderConfig.codec.startsWith(e)))throw new TypeError("Audio chunk metadata decoder configuration codec string must be a valid audio codec string as specified in the WebCodecs Codec Registry.");if(!Number.isInteger(n.decoderConfig.sampleRate)||n.decoderConfig.sampleRate<=0)throw new TypeError("Audio chunk metadata decoder configuration must specify a valid sampleRate (positive integer).");if(!Number.isInteger(n.decoderConfig.numberOfChannels)||n.decoderConfig.numberOfChannels<=0)throw new TypeError("Audio chunk metadata decoder configuration must specify a valid numberOfChannels (positive integer).");if(n.decoderConfig.description!==void 0&&!Kd(n.decoderConfig.description))throw new TypeError("Audio chunk metadata decoder configuration description, when defined, must be an ArrayBuffer or an ArrayBuffer view.");if(n.decoderConfig.codec.startsWith("mp4a")&&n.decoderConfig.codec!=="mp4a.69"&&n.decoderConfig.codec!=="mp4a.6B"&&n.decoderConfig.codec!=="mp4a.6b"){if(!["mp4a.40.2","mp4a.40.02","mp4a.40.5","mp4a.40.05","mp4a.40.29","mp4a.67"].includes(n.decoderConfig.codec))throw new TypeError("Audio chunk metadata decoder configuration codec string for AAC must be a valid AAC codec string as specified in https://www.w3.org/TR/webcodecs-aac-codec-registration/.");if(!n.decoderConfig.description)throw new TypeError("Audio chunk metadata decoder configuration for AAC must include a description, which is expected to be an AudioSpecificConfig as specified in ISO 14496-3.")}else if(n.decoderConfig.codec.startsWith("mp3")||n.decoderConfig.codec.startsWith("mp4a")){if(n.decoderConfig.codec!=="mp3"&&n.decoderConfig.codec!=="mp4a.69"&&n.decoderConfig.codec!=="mp4a.6B"&&n.decoderConfig.codec!=="mp4a.6b")throw new TypeError('Audio chunk metadata decoder configuration codec string for MP3 must be "mp3", "mp4a.69" or "mp4a.6B".')}else if(n.decoderConfig.codec.startsWith("opus")){if(n.decoderConfig.codec!=="opus")throw new TypeError('Audio chunk metadata decoder configuration codec string for Opus must be "opus".');if(n.decoderConfig.description&&n.decoderConfig.description.byteLength<18)throw new TypeError("Audio chunk metadata decoder configuration description, when specified, is expected to be an Identification Header as specified in Section 5.1 of RFC 7845.")}else if(n.decoderConfig.codec.startsWith("vorbis")){if(n.decoderConfig.codec!=="vorbis")throw new TypeError('Audio chunk metadata decoder configuration codec string for Vorbis must be "vorbis".');if(!n.decoderConfig.description)throw new TypeError("Audio chunk metadata decoder configuration for Vorbis must include a description, which is expected to adhere to the format described in https://www.w3.org/TR/webcodecs-vorbis-codec-registration/.")}else if(n.decoderConfig.codec.startsWith("flac")){if(n.decoderConfig.codec!=="flac")throw new TypeError('Audio chunk metadata decoder configuration codec string for FLAC must be "flac".');if(!n.decoderConfig.description||n.decoderConfig.description.byteLength<42)throw new TypeError("Audio chunk metadata decoder configuration for FLAC must include a description, which is expected to adhere to the format described in https://www.w3.org/TR/webcodecs-flac-codec-registration/.")}else if((n.decoderConfig.codec.startsWith("pcm")||n.decoderConfig.codec.startsWith("ulaw")||n.decoderConfig.codec.startsWith("alaw"))&&!Is.includes(n.decoderConfig.codec))throw new TypeError(`Audio chunk metadata decoder configuration codec string for PCM must be one of the supported PCM codecs (${Is.join(", ")}).`)},X5=n=>{if(!n)throw new TypeError("Subtitle metadata must be provided.");if(typeof n!="object")throw new TypeError("Subtitle metadata must be an object.");if(!n.config)throw new TypeError("Subtitle metadata must include a config object.");if(typeof n.config!="object")throw new TypeError("Subtitle metadata config must be an object.");if(typeof n.config.description!="string")throw new TypeError("Subtitle metadata config description must be a string.")};/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class Q5{constructor(e){this.mutex=new yT,this.firstMediaStreamTimestamp=null,this.trackTimestampInfo=new WeakMap,this.output=e}onTrackClose(e){}validateAndNormalizeTimestamp(e,s,r){s+=e.source._timestampOffset;let o=this.trackTimestampInfo.get(e);if(!o){if(!r)throw new Error("First frame must be a key frame.");o={maxTimestamp:s,maxTimestampBeforeLastKeyFrame:s},this.trackTimestampInfo.set(e,o)}if(s<0)throw new Error(`Timestamps must be non-negative (got ${s}s).`);if(r&&(o.maxTimestampBeforeLastKeyFrame=o.maxTimestamp),s<o.maxTimestampBeforeLastKeyFrame)throw new Error(`Timestamps cannot be smaller than the highest timestamp of the previous GOP (a GOP begins with a key frame and ends right before the next key frame). Got ${s}s, but highest timestamp is ${o.maxTimestampBeforeLastKeyFrame}s.`);return o.maxTimestamp=Math.max(o.maxTimestamp,s),s}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */var Il;(function(n){n[n.IDR=5]="IDR",n[n.SPS=7]="SPS",n[n.PPS=8]="PPS",n[n.SPS_EXT=13]="SPS_EXT"})(Il||(Il={}));var Ms;(function(n){n[n.RASL_N=8]="RASL_N",n[n.RASL_R=9]="RASL_R",n[n.BLA_W_LP=16]="BLA_W_LP",n[n.RSV_IRAP_VCL23=23]="RSV_IRAP_VCL23",n[n.VPS_NUT=32]="VPS_NUT",n[n.SPS_NUT=33]="SPS_NUT",n[n.PPS_NUT=34]="PPS_NUT",n[n.PREFIX_SEI_NUT=39]="PREFIX_SEI_NUT",n[n.SUFFIX_SEI_NUT=40]="SUFFIX_SEI_NUT"})(Ms||(Ms={}));const R0=n=>{const e=[];let s=0;for(;s<n.length;){let r=-1,o=0;for(let l=s;l<n.length-3;l++){if(n[l]===0&&n[l+1]===0&&n[l+2]===1){r=l,o=3;break}if(l<n.length-4&&n[l]===0&&n[l+1]===0&&n[l+2]===0&&n[l+3]===1){r=l,o=4;break}}if(r===-1)break;if(s>0&&r>s){const l=n.subarray(s,r);l.length>0&&e.push(l)}s=r+o}if(s<n.length){const r=n.subarray(s);r.length>0&&e.push(r)}return e},yp=n=>{const e=[],s=n.length;for(let r=0;r<s;r++)r+2<s&&n[r]===0&&n[r+1]===0&&n[r+2]===3?(e.push(0,0),r+=2):e.push(n[r]);return new Uint8Array(e)},$5=n=>{const s=R0(n);if(s.length===0)return null;let r=0;for(const d of s)r+=4+d.byteLength;const o=new Uint8Array(r),l=new DataView(o.buffer);let u=0;for(const d of s){const f=d.byteLength;l.setUint32(u,f,!1),u+=4,o.set(d,u),u+=d.byteLength}return o},km=n=>n[0]&31,K5=n=>{try{const e=R0(n),s=e.filter(y=>km(y)===Il.SPS),r=e.filter(y=>km(y)===Il.PPS),o=e.filter(y=>km(y)===Il.SPS_EXT);if(s.length===0||r.length===0)return null;const l=s[0],u=new ql(yp(l));if(u.skipBits(1),u.skipBits(2),u.readBits(5)!==7)return console.error("Invalid SPS NAL unit type"),null;const f=u.readAlignedByte(),h=u.readAlignedByte(),g=u.readAlignedByte(),p={configurationVersion:1,avcProfileIndication:f,profileCompatibility:h,avcLevelIndication:g,lengthSizeMinusOne:3,sequenceParameterSets:s,pictureParameterSets:r,chromaFormat:null,bitDepthLumaMinus8:null,bitDepthChromaMinus8:null,sequenceParameterSetExt:null};if(f===100||f===110||f===122||f===144){_e(u);const y=_e(u);y===3&&u.skipBits(1);const b=_e(u),x=_e(u);p.chromaFormat=y,p.bitDepthLumaMinus8=b,p.bitDepthChromaMinus8=x,p.sequenceParameterSetExt=o}return p}catch(e){return console.error("Error building AVC Decoder Configuration Record:",e),null}},J5=n=>{const e=[];e.push(n.configurationVersion),e.push(n.avcProfileIndication),e.push(n.profileCompatibility),e.push(n.avcLevelIndication),e.push(252|n.lengthSizeMinusOne&3),e.push(224|n.sequenceParameterSets.length&31);for(const s of n.sequenceParameterSets){const r=s.byteLength;e.push(r>>8),e.push(r&255);for(let o=0;o<r;o++)e.push(s[o])}e.push(n.pictureParameterSets.length);for(const s of n.pictureParameterSets){const r=s.byteLength;e.push(r>>8),e.push(r&255);for(let o=0;o<r;o++)e.push(s[o])}if(n.avcProfileIndication===100||n.avcProfileIndication===110||n.avcProfileIndication===122||n.avcProfileIndication===144){me(n.chromaFormat!==null),me(n.bitDepthLumaMinus8!==null),me(n.bitDepthChromaMinus8!==null),me(n.sequenceParameterSetExt!==null),e.push(252|n.chromaFormat&3),e.push(248|n.bitDepthLumaMinus8&7),e.push(248|n.bitDepthChromaMinus8&7),e.push(n.sequenceParameterSetExt.length);for(const s of n.sequenceParameterSetExt){const r=s.byteLength;e.push(r>>8),e.push(r&255);for(let o=0;o<r;o++)e.push(s[o])}}return new Uint8Array(e)},Wa=n=>n[0]>>1&63,ez=n=>{try{const e=R0(n),s=e.filter(U=>Wa(U)===Ms.VPS_NUT),r=e.filter(U=>Wa(U)===Ms.SPS_NUT),o=e.filter(U=>Wa(U)===Ms.PPS_NUT),l=e.filter(U=>Wa(U)===Ms.PREFIX_SEI_NUT||Wa(U)===Ms.SUFFIX_SEI_NUT);if(r.length===0||o.length===0)return null;const u=r[0],d=new ql(yp(u));d.skipBits(16),d.readBits(4);const f=d.readBits(3),h=d.readBits(1),{general_profile_space:g,general_tier_flag:p,general_profile_idc:y,general_profile_compatibility_flags:b,general_constraint_indicator_flags:x,general_level_idc:_}=tz(d,f);_e(d);const T=_e(d);T===3&&d.skipBits(1),_e(d),_e(d),d.readBits(1)&&(_e(d),_e(d),_e(d),_e(d));const C=_e(d),M=_e(d);_e(d);const B=d.readBits(1)?0:f;for(let U=B;U<=f;U++)_e(d),_e(d),_e(d);_e(d),_e(d),_e(d),_e(d),_e(d),_e(d),d.readBits(1)&&d.readBits(1)&&nz(d),d.skipBits(1),d.skipBits(1),d.readBits(1)&&(d.skipBits(4),d.skipBits(4),_e(d),_e(d),d.skipBits(1));const R=_e(d);if(sz(d,R),d.readBits(1)){const U=_e(d);for(let j=0;j<U;j++)_e(d),d.skipBits(1)}d.skipBits(1),d.skipBits(1);let z=0;d.readBits(1)&&(z=rz(d,f));let D=0;if(o.length>0){const U=o[0],j=new ql(yp(U));j.skipBits(16),_e(j),_e(j),j.skipBits(1),j.skipBits(1),j.skipBits(3),j.skipBits(1),j.skipBits(1),_e(j),_e(j),Bl(j),j.skipBits(1),j.skipBits(1),j.readBits(1)&&_e(j),Bl(j),Bl(j),j.skipBits(1),j.skipBits(1),j.skipBits(1),j.skipBits(1);const H=j.readBits(1),K=j.readBits(1);!H&&!K?D=0:H&&!K?D=2:!H&&K?D=3:D=0}const k=[...s.length?[{arrayCompleteness:1,nalUnitType:Ms.VPS_NUT,nalUnits:s}]:[],...r.length?[{arrayCompleteness:1,nalUnitType:Ms.SPS_NUT,nalUnits:r}]:[],...o.length?[{arrayCompleteness:1,nalUnitType:Ms.PPS_NUT,nalUnits:o}]:[],...l.length?[{arrayCompleteness:1,nalUnitType:Wa(l[0]),nalUnits:l}]:[]];return{configurationVersion:1,generalProfileSpace:g,generalTierFlag:p,generalProfileIdc:y,generalProfileCompatibilityFlags:b,generalConstraintIndicatorFlags:x,generalLevelIdc:_,minSpatialSegmentationIdc:z,parallelismType:D,chromaFormatIdc:T,bitDepthLumaMinus8:C,bitDepthChromaMinus8:M,avgFrameRate:0,constantFrameRate:0,numTemporalLayers:f+1,temporalIdNested:h,lengthSizeMinusOne:3,arrays:k}}catch(e){return console.error("Error building HEVC Decoder Configuration Record:",e),null}},tz=(n,e)=>{const s=n.readBits(2),r=n.readBits(1),o=n.readBits(5);let l=0;for(let g=0;g<32;g++)l=l<<1|n.readBits(1);const u=new Uint8Array(6);for(let g=0;g<6;g++)u[g]=n.readBits(8);const d=n.readBits(8),f=[],h=[];for(let g=0;g<e;g++)f.push(n.readBits(1)),h.push(n.readBits(1));if(e>0)for(let g=e;g<8;g++)n.skipBits(2);for(let g=0;g<e;g++)f[g]&&n.skipBits(88),h[g]&&n.skipBits(8);return{general_profile_space:s,general_tier_flag:r,general_profile_idc:o,general_profile_compatibility_flags:l,general_constraint_indicator_flags:u,general_level_idc:d}},nz=n=>{for(let e=0;e<4;e++)for(let s=0;s<(e===3?2:6);s++)if(!n.readBits(1))_e(n);else{const o=Math.min(64,1<<4+(e<<1));e>1&&Bl(n);for(let l=0;l<o;l++)Bl(n)}},sz=(n,e)=>{const s=[];for(let r=0;r<e;r++)s[r]=iz(n,r,e,s)},iz=(n,e,s,r)=>{let o=0,l=0,u=0;if(e!==0&&(l=n.readBits(1)),l){if(e===s){const f=_e(n);u=e-(f+1)}else u=e-1;n.readBits(1),_e(n);const d=r[u]??0;for(let f=0;f<=d;f++)n.readBits(1)||n.readBits(1);o=r[u]}else{const d=_e(n),f=_e(n);for(let h=0;h<d;h++)_e(n),n.readBits(1);for(let h=0;h<f;h++)_e(n),n.readBits(1);o=d+f}return o},rz=(n,e)=>{if(n.readBits(1)&&n.readBits(8)===255&&(n.readBits(16),n.readBits(16)),n.readBits(1)&&n.readBits(1),n.readBits(1)&&(n.readBits(3),n.readBits(1),n.readBits(1)&&(n.readBits(8),n.readBits(8),n.readBits(8))),n.readBits(1)&&(_e(n),_e(n)),n.readBits(1),n.readBits(1),n.readBits(1),n.readBits(1)&&(_e(n),_e(n),_e(n),_e(n)),n.readBits(1)&&(n.readBits(32),n.readBits(32),n.readBits(1)&&_e(n),n.readBits(1)&&az(n,!0,e)),n.readBits(1)){n.readBits(1),n.readBits(1),n.readBits(1);const s=_e(n);return _e(n),_e(n),_e(n),_e(n),s}return 0},az=(n,e,s)=>{let r=!1,o=!1,l=!1;r=n.readBits(1)===1,o=n.readBits(1)===1,(r||o)&&(l=n.readBits(1)===1,l&&(n.readBits(8),n.readBits(5),n.readBits(1),n.readBits(5)),n.readBits(4),n.readBits(4),l&&n.readBits(4),n.readBits(5),n.readBits(5),n.readBits(5));for(let u=0;u<=s;u++){const d=n.readBits(1)===1;let f=!0;d||(f=n.readBits(1)===1);let h=!1;f?_e(n):h=n.readBits(1)===1;let g=1;h||(g=_e(n)+1),r&&Kb(n,g,l),o&&Kb(n,g,l)}},Kb=(n,e,s)=>{for(let r=0;r<e;r++)_e(n),_e(n),s&&(_e(n),_e(n)),n.readBits(1)},oz=n=>{const e=[];e.push(n.configurationVersion),e.push((n.generalProfileSpace&3)<<6|(n.generalTierFlag&1)<<5|n.generalProfileIdc&31),e.push(n.generalProfileCompatibilityFlags>>>24&255),e.push(n.generalProfileCompatibilityFlags>>>16&255),e.push(n.generalProfileCompatibilityFlags>>>8&255),e.push(n.generalProfileCompatibilityFlags&255),e.push(...n.generalConstraintIndicatorFlags),e.push(n.generalLevelIdc&255),e.push(240|n.minSpatialSegmentationIdc>>8&15),e.push(n.minSpatialSegmentationIdc&255),e.push(252|n.parallelismType&3),e.push(252|n.chromaFormatIdc&3),e.push(248|n.bitDepthLumaMinus8&7),e.push(248|n.bitDepthChromaMinus8&7),e.push(n.avgFrameRate>>8&255),e.push(n.avgFrameRate&255),e.push((n.constantFrameRate&3)<<6|(n.numTemporalLayers&7)<<3|(n.temporalIdNested&1)<<2|n.lengthSizeMinusOne&3),e.push(n.arrays.length&255);for(const s of n.arrays){e.push((s.arrayCompleteness&1)<<7|0|s.nalUnitType&63),e.push(s.nalUnits.length>>8&255),e.push(s.nalUnits.length&255);for(const r of s.nalUnits){e.push(r.length>>8&255),e.push(r.length&255);for(let o=0;o<r.length;o++)e.push(r[o])}}return new Uint8Array(e)},lz=n=>{const e=vT(n),s=e.getUint8(9),r=e.getUint16(10,!0),o=e.getUint32(12,!0),l=e.getInt16(16,!0),u=e.getUint8(18);let d=null;return u&&(d=n.subarray(19,21+s)),{outputChannelCount:s,preSkip:r,inputSampleRate:o,outputGain:l,channelMappingFamily:u,channelMappingTable:d}};var Jb;(function(n){n[n.STREAMINFO=0]="STREAMINFO",n[n.VORBIS_COMMENT=4]="VORBIS_COMMENT",n[n.PICTURE=6]="PICTURE"})(Jb||(Jb={}));/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const cz=[],uz=[];/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const e_=new Uint8Array(0);class nr{constructor(e,s,r,o,l=-1,u,d){if(this.data=e,this.type=s,this.timestamp=r,this.duration=o,this.sequenceNumber=l,e===e_&&u===void 0)throw new Error("Internal error: byteLength must be explicitly provided when constructing metadata-only packets.");if(u===void 0&&(u=e.byteLength),!(e instanceof Uint8Array))throw new TypeError("data must be a Uint8Array.");if(s!=="key"&&s!=="delta")throw new TypeError('type must be either "key" or "delta".');if(!Number.isFinite(r))throw new TypeError("timestamp must be a number.");if(!Number.isFinite(o)||o<0)throw new TypeError("duration must be a non-negative number.");if(!Number.isFinite(l))throw new TypeError("sequenceNumber must be a number.");if(!Number.isInteger(u)||u<0)throw new TypeError("byteLength must be a non-negative integer.");if(d!==void 0&&(typeof d!="object"||!d))throw new TypeError("sideData, when provided, must be an object.");if((d==null?void 0:d.alpha)!==void 0&&!(d.alpha instanceof Uint8Array))throw new TypeError("sideData.alpha, when provided, must be a Uint8Array.");if((d==null?void 0:d.alphaByteLength)!==void 0&&(!Number.isInteger(d.alphaByteLength)||d.alphaByteLength<0))throw new TypeError("sideData.alphaByteLength, when provided, must be a non-negative integer.");this.byteLength=u,this.sideData=d??{},this.sideData.alpha&&this.sideData.alphaByteLength===void 0&&(this.sideData.alphaByteLength=this.sideData.alpha.byteLength)}get isMetadataOnly(){return this.data===e_}get microsecondTimestamp(){return Math.trunc(Ji*this.timestamp)}get microsecondDuration(){return Math.trunc(Ji*this.duration)}toEncodedVideoChunk(){if(this.isMetadataOnly)throw new TypeError("Metadata-only packets cannot be converted to a video chunk.");if(typeof EncodedVideoChunk>"u")throw new Error("Your browser does not support EncodedVideoChunk.");return new EncodedVideoChunk({data:this.data,type:this.type,timestamp:this.microsecondTimestamp,duration:this.microsecondDuration})}alphaToEncodedVideoChunk(e=this.type){if(!this.sideData.alpha)throw new TypeError("This packet does not contain alpha side data.");if(this.isMetadataOnly)throw new TypeError("Metadata-only packets cannot be converted to a video chunk.");if(typeof EncodedVideoChunk>"u")throw new Error("Your browser does not support EncodedVideoChunk.");return new EncodedVideoChunk({data:this.sideData.alpha,type:e,timestamp:this.microsecondTimestamp,duration:this.microsecondDuration})}toEncodedAudioChunk(){if(this.isMetadataOnly)throw new TypeError("Metadata-only packets cannot be converted to an audio chunk.");if(typeof EncodedAudioChunk>"u")throw new Error("Your browser does not support EncodedAudioChunk.");return new EncodedAudioChunk({data:this.data,type:this.type,timestamp:this.microsecondTimestamp,duration:this.microsecondDuration})}static fromEncodedChunk(e,s){if(!(e instanceof EncodedVideoChunk||e instanceof EncodedAudioChunk))throw new TypeError("chunk must be an EncodedVideoChunk or EncodedAudioChunk.");const r=new Uint8Array(e.byteLength);return e.copyTo(r),new nr(r,e.type,e.timestamp/1e6,(e.duration??0)/1e6,void 0,void 0,s)}clone(e){if(e!==void 0&&(typeof e!="object"||e===null))throw new TypeError("options, when provided, must be an object.");if((e==null?void 0:e.timestamp)!==void 0&&!Number.isFinite(e.timestamp))throw new TypeError("options.timestamp, when provided, must be a number.");if((e==null?void 0:e.duration)!==void 0&&!Number.isFinite(e.duration))throw new TypeError("options.duration, when provided, must be a number.");return new nr(this.data,this.type,(e==null?void 0:e.timestamp)??this.timestamp,(e==null?void 0:e.duration)??this.duration,this.sequenceNumber,this.byteLength)}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const dz=n=>{let r=n,o=4096,l=0,u=12,d=0;for(r<0&&(r=-r,l=128),r+=33,r>8191&&(r=8191);(r&o)!==o&&u>=5;)o>>=1,u--;return d=r>>u-4&15,~(l|u-5<<4|d)&255},fz=n=>{let s=2048,r=0,o=11,l=0,u=n;for(u<0&&(u=-u,r=128),u>4095&&(u=4095);(u&s)!==s&&o>=5;)s>>=1,o--;return l=u>>(o===4?1:o-4)&15,(r|o-4<<4|l)^85};/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */D5();class Ir{get displayWidth(){return this.rotation%180===0?this.codedWidth:this.codedHeight}get displayHeight(){return this.rotation%180===0?this.codedHeight:this.codedWidth}get microsecondTimestamp(){return Math.trunc(Ji*this.timestamp)}get microsecondDuration(){return Math.trunc(Ji*this.duration)}get hasAlpha(){return this.format&&this.format.includes("A")}constructor(e,s){if(this._closed=!1,e instanceof ArrayBuffer||ArrayBuffer.isView(e)){if(!s||typeof s!="object")throw new TypeError("init must be an object.");if(!("format"in s)||typeof s.format!="string")throw new TypeError("init.format must be a string.");if(!Number.isInteger(s.codedWidth)||s.codedWidth<=0)throw new TypeError("init.codedWidth must be a positive integer.");if(!Number.isInteger(s.codedHeight)||s.codedHeight<=0)throw new TypeError("init.codedHeight must be a positive integer.");if(s.rotation!==void 0&&![0,90,180,270].includes(s.rotation))throw new TypeError("init.rotation, when provided, must be 0, 90, 180, or 270.");if(!Number.isFinite(s.timestamp))throw new TypeError("init.timestamp must be a number.");if(s.duration!==void 0&&(!Number.isFinite(s.duration)||s.duration<0))throw new TypeError("init.duration, when provided, must be a non-negative number.");this._data=tr(e).slice(),this.format=s.format,this.codedWidth=s.codedWidth,this.codedHeight=s.codedHeight,this.rotation=s.rotation??0,this.timestamp=s.timestamp,this.duration=s.duration??0,this.colorSpace=new VideoColorSpace(s.colorSpace)}else if(typeof VideoFrame<"u"&&e instanceof VideoFrame){if((s==null?void 0:s.rotation)!==void 0&&![0,90,180,270].includes(s.rotation))throw new TypeError("init.rotation, when provided, must be 0, 90, 180, or 270.");if((s==null?void 0:s.timestamp)!==void 0&&!Number.isFinite(s==null?void 0:s.timestamp))throw new TypeError("init.timestamp, when provided, must be a number.");if((s==null?void 0:s.duration)!==void 0&&(!Number.isFinite(s.duration)||s.duration<0))throw new TypeError("init.duration, when provided, must be a non-negative number.");this._data=e,this.format=e.format,this.codedWidth=e.displayWidth,this.codedHeight=e.displayHeight,this.rotation=(s==null?void 0:s.rotation)??0,this.timestamp=(s==null?void 0:s.timestamp)??e.timestamp/1e6,this.duration=(s==null?void 0:s.duration)??(e.duration??0)/1e6,this.colorSpace=e.colorSpace}else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof SVGImageElement<"u"&&e instanceof SVGImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){if(!s||typeof s!="object")throw new TypeError("init must be an object.");if(s.rotation!==void 0&&![0,90,180,270].includes(s.rotation))throw new TypeError("init.rotation, when provided, must be 0, 90, 180, or 270.");if(!Number.isFinite(s.timestamp))throw new TypeError("init.timestamp must be a number.");if(s.duration!==void 0&&(!Number.isFinite(s.duration)||s.duration<0))throw new TypeError("init.duration, when provided, must be a non-negative number.");if(typeof VideoFrame<"u")return new Ir(new VideoFrame(e,{timestamp:Math.trunc(s.timestamp*Ji),duration:Math.trunc((s.duration??0)*Ji)||void 0}),s);let r=0,o=0;if("naturalWidth"in e?(r=e.naturalWidth,o=e.naturalHeight):"videoWidth"in e?(r=e.videoWidth,o=e.videoHeight):"width"in e&&(r=Number(e.width),o=Number(e.height)),!r||!o)throw new TypeError("Could not determine dimensions.");const l=new OffscreenCanvas(r,o),u=l.getContext("2d",{alpha:vp(),willReadFrequently:!0});me(u),u.drawImage(e,0,0),this._data=l,this.format="RGBX",this.codedWidth=r,this.codedHeight=o,this.rotation=s.rotation??0,this.timestamp=s.timestamp,this.duration=s.duration??0,this.colorSpace=new VideoColorSpace({matrix:"rgb",primaries:"bt709",transfer:"iec61966-2-1",fullRange:!0})}else throw new TypeError("Invalid data type: Must be a BufferSource or CanvasImageSource.")}clone(){if(this._closed)throw new Error("VideoSample is closed.");return me(this._data!==null),Al(this._data)?new Ir(this._data.clone(),{timestamp:this.timestamp,duration:this.duration,rotation:this.rotation}):this._data instanceof Uint8Array?new Ir(this._data.slice(),{format:this.format,codedWidth:this.codedWidth,codedHeight:this.codedHeight,timestamp:this.timestamp,duration:this.duration,colorSpace:this.colorSpace,rotation:this.rotation}):new Ir(this._data,{format:this.format,codedWidth:this.codedWidth,codedHeight:this.codedHeight,timestamp:this.timestamp,duration:this.duration,colorSpace:this.colorSpace,rotation:this.rotation})}close(){this._closed||(Al(this._data)?this._data.close():this._data=null,this._closed=!0)}allocationSize(){if(this._closed)throw new Error("VideoSample is closed.");return me(this._data!==null),Al(this._data)?this._data.allocationSize():this._data instanceof Uint8Array?this._data.byteLength:this.codedWidth*this.codedHeight*4}async copyTo(e){if(!Kd(e))throw new TypeError("destination must be an ArrayBuffer or an ArrayBuffer view.");if(this._closed)throw new Error("VideoSample is closed.");if(me(this._data!==null),Al(this._data))await this._data.copyTo(e);else if(this._data instanceof Uint8Array)tr(e).set(this._data);else{const r=this._data.getContext("2d");me(r);const o=r.getImageData(0,0,this.codedWidth,this.codedHeight);tr(e).set(o.data)}}toVideoFrame(){if(this._closed)throw new Error("VideoSample is closed.");return me(this._data!==null),Al(this._data)?new VideoFrame(this._data,{timestamp:this.microsecondTimestamp,duration:this.microsecondDuration||void 0}):this._data instanceof Uint8Array?new VideoFrame(this._data,{format:this.format,codedWidth:this.codedWidth,codedHeight:this.codedHeight,timestamp:this.microsecondTimestamp,duration:this.microsecondDuration||void 0,colorSpace:this.colorSpace}):new VideoFrame(this._data,{timestamp:this.microsecondTimestamp,duration:this.microsecondDuration||void 0})}draw(e,s,r,o,l,u,d,f,h){let g=0,p=0,y=this.displayWidth,b=this.displayHeight,x=0,_=0,T=this.displayWidth,C=this.displayHeight;if(u!==void 0?(g=s,p=r,y=o,b=l,x=u,_=d,f!==void 0?(T=f,C=h):(T=y,C=b)):(x=s,_=r,o!==void 0&&(T=o,C=l)),!(typeof CanvasRenderingContext2D<"u"&&e instanceof CanvasRenderingContext2D||typeof OffscreenCanvasRenderingContext2D<"u"&&e instanceof OffscreenCanvasRenderingContext2D))throw new TypeError("context must be a CanvasRenderingContext2D or OffscreenCanvasRenderingContext2D.");if(!Number.isFinite(g))throw new TypeError("sx must be a number.");if(!Number.isFinite(p))throw new TypeError("sy must be a number.");if(!Number.isFinite(y)||y<0)throw new TypeError("sWidth must be a non-negative number.");if(!Number.isFinite(b)||b<0)throw new TypeError("sHeight must be a non-negative number.");if(!Number.isFinite(x))throw new TypeError("dx must be a number.");if(!Number.isFinite(_))throw new TypeError("dy must be a number.");if(!Number.isFinite(T)||T<0)throw new TypeError("dWidth must be a non-negative number.");if(!Number.isFinite(C)||C<0)throw new TypeError("dHeight must be a non-negative number.");if(this._closed)throw new Error("VideoSample is closed.");({sx:g,sy:p,sWidth:y,sHeight:b}=this._rotateSourceRegion(g,p,y,b,this.rotation));const M=this.toCanvasImageSource();e.save();const N=x+T/2,B=_+C/2;e.translate(N,B),e.rotate(this.rotation*Math.PI/180);const R=this.rotation%180===0?1:T/C;e.scale(1/R,R),e.drawImage(M,g,p,y,b,-T/2,-C/2,T,C),e.restore()}drawWithFit(e,s){var C,M,N,B;if(!(typeof CanvasRenderingContext2D<"u"&&e instanceof CanvasRenderingContext2D||typeof OffscreenCanvasRenderingContext2D<"u"&&e instanceof OffscreenCanvasRenderingContext2D))throw new TypeError("context must be a CanvasRenderingContext2D or OffscreenCanvasRenderingContext2D.");if(!s||typeof s!="object")throw new TypeError("options must be an object.");if(!["fill","contain","cover"].includes(s.fit))throw new TypeError("options.fit must be 'fill', 'contain', or 'cover'.");if(s.rotation!==void 0&&![0,90,180,270].includes(s.rotation))throw new TypeError("options.rotation, when provided, must be 0, 90, 180, or 270.");s.crop!==void 0&&mz(s.crop,"options.");const r=e.canvas.width,o=e.canvas.height,l=s.rotation??this.rotation,[u,d]=l%180===0?[this.codedWidth,this.codedHeight]:[this.codedHeight,this.codedWidth];s.crop&&hz(s.crop,u,d);let f,h,g,p;const{sx:y,sy:b,sWidth:x,sHeight:_}=this._rotateSourceRegion(((C=s.crop)==null?void 0:C.left)??0,((M=s.crop)==null?void 0:M.top)??0,((N=s.crop)==null?void 0:N.width)??u,((B=s.crop)==null?void 0:B.height)??d,l);if(s.fit==="fill")f=0,h=0,g=r,p=o;else{const[R,z]=s.crop?[s.crop.width,s.crop.height]:[u,d],D=s.fit==="contain"?Math.min(r/R,o/z):Math.max(r/R,o/z);g=R*D,p=z*D,f=(r-g)/2,h=(o-p)/2}const T=l%180===0?1:g/p;e.translate(r/2,o/2),e.rotate(l*Math.PI/180),e.scale(1/T,T),e.translate(-r/2,-o/2),e.drawImage(this.toCanvasImageSource(),y,b,x,_,f,h,g,p)}_rotateSourceRegion(e,s,r,o,l){return l===90?[e,s,r,o]=[s,this.codedHeight-e-r,o,r]:l===180?[e,s]=[this.codedWidth-e-r,this.codedHeight-s-o]:l===270&&([e,s,r,o]=[this.codedWidth-s-o,e,o,r]),{sx:e,sy:s,sWidth:r,sHeight:o}}toCanvasImageSource(){if(this._closed)throw new Error("VideoSample is closed.");if(me(this._data!==null),this._data instanceof Uint8Array){const e=this.toVideoFrame();return queueMicrotask(()=>e.close()),e}else return this._data}setRotation(e){if(![0,90,180,270].includes(e))throw new TypeError("newRotation must be 0, 90, 180, or 270.");this.rotation=e}setTimestamp(e){if(!Number.isFinite(e))throw new TypeError("newTimestamp must be a number.");this.timestamp=e}setDuration(e){if(!Number.isFinite(e)||e<0)throw new TypeError("newDuration must be a non-negative number.");this.duration=e}[Symbol.dispose](){this.close()}}const Al=n=>typeof VideoFrame<"u"&&n instanceof VideoFrame,hz=(n,e,s)=>{n.left=Math.min(n.left,e),n.top=Math.min(n.top,s),n.width=Math.min(n.width,e-n.left),n.height=Math.min(n.height,s-n.top),me(n.width>=0),me(n.height>=0)},mz=(n,e)=>{if(!n||typeof n!="object")throw new TypeError(e+"crop, when provided, must be an object.");if(!Number.isInteger(n.left)||n.left<0)throw new TypeError(e+"crop.left must be a non-negative integer.");if(!Number.isInteger(n.top)||n.top<0)throw new TypeError(e+"crop.top must be a non-negative integer.");if(!Number.isInteger(n.width)||n.width<0)throw new TypeError(e+"crop.width must be a non-negative integer.");if(!Number.isInteger(n.height)||n.height<0)throw new TypeError(e+"crop.height must be a non-negative integer.")},Dm=new Set(["f32","f32-planar","s16","s16-planar","s32","s32-planar","u8","u8-planar"]);class $a{get microsecondTimestamp(){return Math.trunc(Ji*this.timestamp)}get microsecondDuration(){return Math.trunc(Ji*this.duration)}constructor(e){if(this._closed=!1,Ol(e)){if(e.format===null)throw new TypeError("AudioData with null format is not supported.");this._data=e,this.format=e.format,this.sampleRate=e.sampleRate,this.numberOfFrames=e.numberOfFrames,this.numberOfChannels=e.numberOfChannels,this.timestamp=e.timestamp/1e6,this.duration=e.numberOfFrames/e.sampleRate}else{if(!e||typeof e!="object")throw new TypeError("Invalid AudioDataInit: must be an object.");if(!Dm.has(e.format))throw new TypeError("Invalid AudioDataInit: invalid format.");if(!Number.isFinite(e.sampleRate)||e.sampleRate<=0)throw new TypeError("Invalid AudioDataInit: sampleRate must be > 0.");if(!Number.isInteger(e.numberOfChannels)||e.numberOfChannels===0)throw new TypeError("Invalid AudioDataInit: numberOfChannels must be an integer > 0.");if(!Number.isFinite(e==null?void 0:e.timestamp))throw new TypeError("init.timestamp must be a number.");const s=e.data.byteLength/(Ml(e.format)*e.numberOfChannels);if(!Number.isInteger(s))throw new TypeError("Invalid AudioDataInit: data size is not a multiple of frame size.");this.format=e.format,this.sampleRate=e.sampleRate,this.numberOfFrames=s,this.numberOfChannels=e.numberOfChannels,this.timestamp=e.timestamp,this.duration=s/e.sampleRate;let r;if(e.data instanceof ArrayBuffer)r=new Uint8Array(e.data);else if(ArrayBuffer.isView(e.data))r=new Uint8Array(e.data.buffer,e.data.byteOffset,e.data.byteLength);else throw new TypeError("Invalid AudioDataInit: data is not a BufferSource.");const o=this.numberOfFrames*this.numberOfChannels*Ml(this.format);if(r.byteLength<o)throw new TypeError("Invalid AudioDataInit: insufficient data size.");this._data=r}}allocationSize(e){if(!e||typeof e!="object")throw new TypeError("options must be an object.");if(!Number.isInteger(e.planeIndex)||e.planeIndex<0)throw new TypeError("planeIndex must be a non-negative integer.");if(e.format!==void 0&&!Dm.has(e.format))throw new TypeError("Invalid format.");if(e.frameOffset!==void 0&&(!Number.isInteger(e.frameOffset)||e.frameOffset<0))throw new TypeError("frameOffset must be a non-negative integer.");if(e.frameCount!==void 0&&(!Number.isInteger(e.frameCount)||e.frameCount<0))throw new TypeError("frameCount must be a non-negative integer.");if(this._closed)throw new Error("AudioSample is closed.");const s=e.format??this.format,r=e.frameOffset??0;if(r>=this.numberOfFrames)throw new RangeError("frameOffset out of range");const o=e.frameCount!==void 0?e.frameCount:this.numberOfFrames-r;if(o>this.numberOfFrames-r)throw new RangeError("frameCount out of range");const l=Ml(s),u=Du(s);if(u&&e.planeIndex>=this.numberOfChannels)throw new RangeError("planeIndex out of range");if(!u&&e.planeIndex!==0)throw new RangeError("planeIndex out of range");return(u?o:o*this.numberOfChannels)*l}copyTo(e,s){if(!Kd(e))throw new TypeError("destination must be an ArrayBuffer or an ArrayBuffer view.");if(!s||typeof s!="object")throw new TypeError("options must be an object.");if(!Number.isInteger(s.planeIndex)||s.planeIndex<0)throw new TypeError("planeIndex must be a non-negative integer.");if(s.format!==void 0&&!Dm.has(s.format))throw new TypeError("Invalid format.");if(s.frameOffset!==void 0&&(!Number.isInteger(s.frameOffset)||s.frameOffset<0))throw new TypeError("frameOffset must be a non-negative integer.");if(s.frameCount!==void 0&&(!Number.isInteger(s.frameCount)||s.frameCount<0))throw new TypeError("frameCount must be a non-negative integer.");if(this._closed)throw new Error("AudioSample is closed.");const{planeIndex:r,format:o,frameCount:l,frameOffset:u}=s,d=o??this.format;if(!d)throw new Error("Destination format not determined");const f=this.numberOfFrames,h=this.numberOfChannels,g=u??0;if(g>=f)throw new RangeError("frameOffset out of range");const p=l!==void 0?l:f-g;if(p>f-g)throw new RangeError("frameCount out of range");const y=Ml(d),b=Du(d);if(b&&r>=h)throw new RangeError("planeIndex out of range");if(!b&&r!==0)throw new RangeError("planeIndex out of range");const _=(b?p:p*h)*y;if(e.byteLength<_)throw new RangeError("Destination buffer is too small");const T=vT(e),C=gz(d);if(Ol(this._data))if(b)if(d==="f32-planar")this._data.copyTo(e,{planeIndex:r,frameOffset:g,frameCount:p,format:"f32-planar"});else{const M=new ArrayBuffer(p*4),N=new Float32Array(M);this._data.copyTo(N,{planeIndex:r,frameOffset:g,frameCount:p,format:"f32-planar"});const B=new DataView(M);for(let R=0;R<p;R++){const z=R*y,D=B.getFloat32(R*4,!0);C(T,z,D)}}else{const M=h,N=new Float32Array(p);for(let B=0;B<M;B++){this._data.copyTo(N,{planeIndex:B,frameOffset:g,frameCount:p,format:"f32-planar"});for(let R=0;R<p;R++){const D=(R*M+B)*y;C(T,D,N[R])}}}else{const M=this._data,N=new DataView(M.buffer,M.byteOffset,M.byteLength),B=this.format,R=pz(B),z=Ml(B),D=Du(B);for(let k=0;k<p;k++)if(b){const W=k*y;let U;D?U=(r*f+(k+g))*z:U=((k+g)*h+r)*z;const j=R(N,U);C(T,W,j)}else for(let W=0;W<h;W++){const j=(k*h+W)*y;let H;D?H=(W*f+(k+g))*z:H=((k+g)*h+W)*z;const K=R(N,H);C(T,j,K)}}}clone(){if(this._closed)throw new Error("AudioSample is closed.");if(Ol(this._data)){const e=new $a(this._data.clone());return e.setTimestamp(this.timestamp),e}else return new $a({format:this.format,sampleRate:this.sampleRate,numberOfFrames:this.numberOfFrames,numberOfChannels:this.numberOfChannels,timestamp:this.timestamp,data:this._data})}close(){this._closed||(Ol(this._data)?this._data.close():this._data=new Uint8Array(0),this._closed=!0)}toAudioData(){if(this._closed)throw new Error("AudioSample is closed.");if(Ol(this._data)){if(this._data.timestamp===this.microsecondTimestamp)return this._data.clone();if(Du(this.format)){const e=this.allocationSize({planeIndex:0,format:this.format}),s=new ArrayBuffer(e*this.numberOfChannels);for(let r=0;r<this.numberOfChannels;r++)this.copyTo(new Uint8Array(s,r*e,e),{planeIndex:r,format:this.format});return new AudioData({format:this.format,sampleRate:this.sampleRate,numberOfFrames:this.numberOfFrames,numberOfChannels:this.numberOfChannels,timestamp:this.microsecondTimestamp,data:s})}else{const e=new ArrayBuffer(this.allocationSize({planeIndex:0,format:this.format}));return this.copyTo(e,{planeIndex:0,format:this.format}),new AudioData({format:this.format,sampleRate:this.sampleRate,numberOfFrames:this.numberOfFrames,numberOfChannels:this.numberOfChannels,timestamp:this.microsecondTimestamp,data:e})}}else return new AudioData({format:this.format,sampleRate:this.sampleRate,numberOfFrames:this.numberOfFrames,numberOfChannels:this.numberOfChannels,timestamp:this.microsecondTimestamp,data:this._data})}toAudioBuffer(){if(this._closed)throw new Error("AudioSample is closed.");const e=new AudioBuffer({numberOfChannels:this.numberOfChannels,length:this.numberOfFrames,sampleRate:this.sampleRate}),s=new Float32Array(this.allocationSize({planeIndex:0,format:"f32-planar"})/4);for(let r=0;r<this.numberOfChannels;r++)this.copyTo(s,{planeIndex:r,format:"f32-planar"}),e.copyToChannel(s,r);return e}setTimestamp(e){if(!Number.isFinite(e))throw new TypeError("newTimestamp must be a number.");this.timestamp=e}[Symbol.dispose](){this.close()}static*_fromAudioBuffer(e,s){if(!(e instanceof AudioBuffer))throw new TypeError("audioBuffer must be an AudioBuffer.");const r=48e3*5,o=e.numberOfChannels,l=e.sampleRate,u=e.length,d=Math.floor(r/o);let f=0,h=u;for(;h>0;){const g=Math.min(d,h),p=new Float32Array(o*g);for(let y=0;y<o;y++)e.copyFromChannel(p.subarray(y*g,(y+1)*g),y,f);yield new $a({format:"f32-planar",sampleRate:l,numberOfFrames:g,numberOfChannels:o,timestamp:s+f/l,data:p}),f+=g,h-=g}}static fromAudioBuffer(e,s){if(!(e instanceof AudioBuffer))throw new TypeError("audioBuffer must be an AudioBuffer.");const r=48e3*5,o=e.numberOfChannels,l=e.sampleRate,u=e.length,d=Math.floor(r/o);let f=0,h=u;const g=[];for(;h>0;){const p=Math.min(d,h),y=new Float32Array(o*p);for(let x=0;x<o;x++)e.copyFromChannel(y.subarray(x*p,(x+1)*p),x,f);const b=new $a({format:"f32-planar",sampleRate:l,numberOfFrames:p,numberOfChannels:o,timestamp:s+f/l,data:y});g.push(b),f+=p,h-=p}return g}}const Ml=n=>{switch(n){case"u8":case"u8-planar":return 1;case"s16":case"s16-planar":return 2;case"s32":case"s32-planar":return 4;case"f32":case"f32-planar":return 4;default:throw new Error("Unknown AudioSampleFormat")}},Du=n=>{switch(n){case"u8-planar":case"s16-planar":case"s32-planar":case"f32-planar":return!0;default:return!1}},pz=n=>{switch(n){case"u8":case"u8-planar":return(e,s)=>(e.getUint8(s)-128)/128;case"s16":case"s16-planar":return(e,s)=>e.getInt16(s,!0)/32768;case"s32":case"s32-planar":return(e,s)=>e.getInt32(s,!0)/2147483648;case"f32":case"f32-planar":return(e,s)=>e.getFloat32(s,!0)}},gz=n=>{switch(n){case"u8":case"u8-planar":return(e,s,r)=>e.setUint8(s,En((r+1)*127.5,0,255));case"s16":case"s16-planar":return(e,s,r)=>e.setInt16(s,En(Math.round(r*32767),-32768,32767),!0);case"s32":case"s32-planar":return(e,s,r)=>e.setInt32(s,En(Math.round(r*2147483647),-2147483648,2147483647),!0);case"f32":case"f32-planar":return(e,s,r)=>e.setFloat32(s,r,!0)}},Ol=n=>typeof AudioData<"u"&&n instanceof AudioData;/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const vz=n=>{let s=(n.hasVideo?"video/":n.hasAudio?"audio/":"application/")+(n.isQuickTime?"quicktime":"mp4");if(n.codecStrings.length>0){const r=[...new Set(n.codecStrings)];s+=`; codecs="${r.join(", ")}"`}return s};/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const Vm=8,t_=16;/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const n_=/<(?:(\d{2}):)?(\d{2}):(\d{2}).(\d{3})>/g,yz=n=>{const e=Math.floor(n/36e5),s=Math.floor(n%(3600*1e3)/(60*1e3)),r=Math.floor(n%(60*1e3)/1e3),o=n%1e3;return e.toString().padStart(2,"0")+":"+s.toString().padStart(2,"0")+":"+r.toString().padStart(2,"0")+"."+o.toString().padStart(3,"0")};/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class s_{constructor(e){this.writer=e,this.helper=new Uint8Array(8),this.helperView=new DataView(this.helper.buffer),this.offsets=new WeakMap}writeU32(e){this.helperView.setUint32(0,e,!1),this.writer.write(this.helper.subarray(0,4))}writeU64(e){this.helperView.setUint32(0,Math.floor(e/2**32),!1),this.helperView.setUint32(4,e,!1),this.writer.write(this.helper.subarray(0,8))}writeAscii(e){for(let s=0;s<e.length;s++)this.helperView.setUint8(s%8,e.charCodeAt(s)),s%8===7&&this.writer.write(this.helper);e.length%8!==0&&this.writer.write(this.helper.subarray(0,e.length%8))}writeBox(e){if(this.offsets.set(e,this.writer.getPos()),e.contents&&!e.children)this.writeBoxHeader(e,e.size??e.contents.byteLength+8),this.writer.write(e.contents);else{const s=this.writer.getPos();if(this.writeBoxHeader(e,0),e.contents&&this.writer.write(e.contents),e.children)for(const l of e.children)l&&this.writeBox(l);const r=this.writer.getPos(),o=e.size??r-s;this.writer.seek(s),this.writeBoxHeader(e,o),this.writer.seek(r)}}writeBoxHeader(e,s){this.writeU32(e.largeSize?1:s),this.writeAscii(e.type),e.largeSize&&this.writeU64(s)}measureBoxHeader(e){return 8+(e.largeSize?8:0)}patchBox(e){const s=this.offsets.get(e);me(s!==void 0);const r=this.writer.getPos();this.writer.seek(s),this.writeBox(e),this.writer.seek(r)}measureBox(e){if(e.contents&&!e.children)return this.measureBoxHeader(e)+e.contents.byteLength;{let s=this.measureBoxHeader(e);if(e.contents&&(s+=e.contents.byteLength),e.children)for(const r of e.children)r&&(s+=this.measureBox(r));return s}}}const Ge=new Uint8Array(8),Ps=new DataView(Ge.buffer),At=n=>[(n%256+256)%256],Se=n=>(Ps.setUint16(0,n,!1),[Ge[0],Ge[1]]),ET=n=>(Ps.setInt16(0,n,!1),[Ge[0],Ge[1]]),AT=n=>(Ps.setUint32(0,n,!1),[Ge[1],Ge[2],Ge[3]]),fe=n=>(Ps.setUint32(0,n,!1),[Ge[0],Ge[1],Ge[2],Ge[3]]),Ki=n=>(Ps.setInt32(0,n,!1),[Ge[0],Ge[1],Ge[2],Ge[3]]),Qr=n=>(Ps.setUint32(0,Math.floor(n/2**32),!1),Ps.setUint32(4,n,!1),[Ge[0],Ge[1],Ge[2],Ge[3],Ge[4],Ge[5],Ge[6],Ge[7]]),MT=n=>(Ps.setInt16(0,2**8*n,!1),[Ge[0],Ge[1]]),di=n=>(Ps.setInt32(0,2**16*n,!1),[Ge[0],Ge[1],Ge[2],Ge[3]]),zm=n=>(Ps.setInt32(0,2**30*n,!1),[Ge[0],Ge[1],Ge[2],Ge[3]]),Bm=(n,e)=>{const s=[];let r=n;do{let o=r&127;r>>=7,s.length>0&&(o|=128),s.push(o)}while(r>0||e);return s.reverse()},an=(n,e=!1)=>{const s=Array(n.length).fill(null).map((r,o)=>n.charCodeAt(o));return e&&s.push(0),s},k0=n=>{let e=null;for(const s of n)(!e||s.timestamp>e.timestamp)&&(e=s);return e},OT=n=>{const e=n*(Math.PI/180),s=Math.round(Math.cos(e)),r=Math.round(Math.sin(e));return[s,r,0,-r,s,0,0,0,1]},NT=OT(0),RT=n=>[di(n[0]),di(n[1]),zm(n[2]),di(n[3]),di(n[4]),zm(n[5]),di(n[6]),di(n[7]),zm(n[8])],Te=(n,e,s)=>({type:n,contents:e&&new Uint8Array(e.flat(10)),children:s}),Qe=(n,e,s,r,o)=>Te(n,[At(e),AT(s),r??[]],o),bz=n=>n.isQuickTime?Te("ftyp",[an("qt  "),fe(512),an("qt  ")]):n.fragmented?Te("ftyp",[an("iso5"),fe(512),an("iso5"),an("iso6"),an("mp41")]):Te("ftyp",[an("isom"),fe(512),an("isom"),n.holdsAvc?an("avc1"):[],an("mp41")]),Vu=n=>({type:"mdat",largeSize:n}),_z=n=>({type:"free",size:n}),Nl=n=>Te("moov",void 0,[wz(n.creationTime,n.trackDatas),...n.trackDatas.map(e=>xz(e,n.creationTime)),n.isFragmented?sB(n.trackDatas):null,gB(n)]),wz=(n,e)=>{const s=Yt(Math.max(0,...e.filter(u=>u.samples.length>0).map(u=>{const d=k0(u.samples);return d.timestamp+d.duration})),bp),r=Math.max(0,...e.map(u=>u.track.id))+1,o=!mo(n)||!mo(s),l=o?Qr:fe;return Qe("mvhd",+o,0,[l(n),l(n),fe(bp),l(s),di(1),MT(1),Array(10).fill(0),RT(NT),Array(24).fill(0),fe(r)])},xz=(n,e)=>{const s=AB(n);return Te("trak",void 0,[Sz(n,e),Tz(n,e),s.name!==void 0?Te("udta",void 0,[Te("name",[...ks.encode(s.name)])]):null])},Sz=(n,e)=>{const s=k0(n.samples),r=Yt(s?s.timestamp+s.duration:0,bp),o=!mo(e)||!mo(r),l=o?Qr:fe;let u;if(n.type==="video"){const d=n.track.metadata.rotation;u=OT(d??0)}else u=NT;return Qe("tkhd",+o,3,[l(e),l(e),fe(n.track.id),fe(0),l(r),Array(8).fill(0),Se(0),Se(n.track.id),MT(n.type==="audio"?1:0),Se(0),RT(u),di(n.type==="video"?n.info.width:0),di(n.type==="video"?n.info.height:0)])},Tz=(n,e)=>Te("mdia",void 0,[Cz(n,e),D0(!0,Ez[n.type],Az[n.type]),Mz(n)]),Cz=(n,e)=>{const s=k0(n.samples),r=Yt(s?s.timestamp+s.duration:0,n.timescale),o=!mo(e)||!mo(r),l=o?Qr:fe;return Qe("mdhd",+o,0,[l(e),l(e),fe(n.timescale),l(r),Se(zT(n.track.metadata.languageCode??O5)),Se(0)])},Ez={video:"vide",audio:"soun",subtitle:"text"},Az={video:"MediabunnyVideoHandler",audio:"MediabunnySoundHandler",subtitle:"MediabunnyTextHandler"},D0=(n,e,s,r="\0\0\0\0")=>Qe("hdlr",0,0,[n?an("mhlr"):fe(0),an(e),an(r),fe(0),fe(0),an(s,!0)]),Mz=n=>Te("minf",void 0,[kz[n.type](),Dz(),Bz(n)]),Oz=()=>Qe("vmhd",0,1,[Se(0),Se(0),Se(0),Se(0)]),Nz=()=>Qe("smhd",0,0,[Se(0),Se(0)]),Rz=()=>Qe("nmhd",0,0),kz={video:Oz,audio:Nz,subtitle:Rz},Dz=()=>Te("dinf",void 0,[Vz()]),Vz=()=>Qe("dref",0,0,[fe(1)],[zz()]),zz=()=>Qe("url ",0,1),Bz=n=>{const e=n.compositionTimeOffsetTable.length>1||n.compositionTimeOffsetTable.some(s=>s.sampleCompositionTimeOffset!==0);return Te("stbl",void 0,[Iz(n),Qz(n),e?tB(n):null,e?nB(n):null,Kz(n),Jz(n),eB(n),$z(n)])},Iz=n=>{let e;if(n.type==="video")e=Pz(_B[n.track.source._codec],n);else if(n.type==="audio"){const s=VT(n.track.source._codec,n.muxer.isQuickTime);me(s),e=Hz(s,n)}else n.type==="subtitle"&&(e=Yz(SB[n.track.source._codec],n));return me(e),Qe("stsd",0,0,[fe(1)],[e])},Pz=(n,e)=>Te(n,[Array(6).fill(0),Se(1),Se(0),Se(0),Array(12).fill(0),Se(e.info.width),Se(e.info.height),fe(4718592),fe(4718592),fe(0),Se(1),Array(32).fill(0),Se(24),ET(65535)],[wB[e.track.source._codec](e),E5(e.info.decoderConfig.colorSpace)?Fz(e):null]),Fz=n=>Te("colr",[an("nclx"),Se(Xd[n.info.decoderConfig.colorSpace.primaries]),Se(Qd[n.info.decoderConfig.colorSpace.transfer]),Se($d[n.info.decoderConfig.colorSpace.matrix]),At((n.info.decoderConfig.colorSpace.fullRange?1:0)<<7)]),Lz=n=>n.info.decoderConfig&&Te("avcC",[...tr(n.info.decoderConfig.description)]),jz=n=>n.info.decoderConfig&&Te("hvcC",[...tr(n.info.decoderConfig.description)]),i_=n=>{var y,b,x,_;if(!n.info.decoderConfig)return null;const e=n.info.decoderConfig,s=e.codec.split("."),r=Number(s[1]),o=Number(s[2]),l=Number(s[3]),u=s[4]?Number(s[4]):1,d=s[8]?Number(s[8]):Number(((y=e.colorSpace)==null?void 0:y.fullRange)??0),f=(l<<4)+(u<<1)+d,h=s[5]?Number(s[5]):(b=e.colorSpace)!=null&&b.primaries?Xd[e.colorSpace.primaries]:2,g=s[6]?Number(s[6]):(x=e.colorSpace)!=null&&x.transfer?Qd[e.colorSpace.transfer]:2,p=s[7]?Number(s[7]):(_=e.colorSpace)!=null&&_.matrix?$d[e.colorSpace.matrix]:2;return Qe("vpcC",1,0,[At(r),At(o),At(f),At(h),At(g),At(p),Se(0)])},Uz=n=>Te("av1C",I5(n.info.decoderConfig.codec)),Hz=(n,e)=>{var l;let s=0,r,o=16;if(Is.includes(e.track.source._codec)){const u=e.track.source._codec,{sampleSize:d}=Ro(u);o=8*d,o>16&&(s=1)}return s===0?r=[Array(6).fill(0),Se(1),Se(s),Se(0),fe(0),Se(e.info.numberOfChannels),Se(o),Se(0),Se(0),Se(e.info.sampleRate<2**16?e.info.sampleRate:0),Se(0)]:r=[Array(6).fill(0),Se(1),Se(s),Se(0),fe(0),Se(e.info.numberOfChannels),Se(Math.min(o,16)),Se(0),Se(0),Se(e.info.sampleRate<2**16?e.info.sampleRate:0),Se(0),fe(1),fe(o/8),fe(e.info.numberOfChannels*o/8),fe(2)],Te(n,r,[((l=xB(e.track.source._codec,e.muxer.isQuickTime))==null?void 0:l(e))??null])},Im=n=>{let e;switch(n.track.source._codec){case"aac":e=64;break;case"mp3":e=107;break;case"vorbis":e=221;break;default:throw new Error(`Unhandled audio codec: ${n.track.source._codec}`)}let s=[...At(e),...At(21),...AT(0),...fe(0),...fe(0)];if(n.info.decoderConfig.description){const r=tr(n.info.decoderConfig.description);s=[...s,...At(5),...Bm(r.byteLength),...r]}return s=[...Se(1),...At(0),...At(4),...Bm(s.length),...s,...At(6),...At(1),...At(2)],s=[...At(3),...Bm(s.length),...s],Qe("esds",0,0,s)},Xi=n=>Te("wave",void 0,[qz(n),Wz(n),Te("\0\0\0\0")]),qz=n=>Te("frma",[an(VT(n.track.source._codec,n.muxer.isQuickTime))]),Wz=n=>{const{littleEndian:e}=Ro(n.track.source._codec);return Te("enda",[Se(+e)])},Gz=n=>{var f;let e=n.info.numberOfChannels,s=3840,r=n.info.sampleRate,o=0,l=0,u=new Uint8Array(0);const d=(f=n.info.decoderConfig)==null?void 0:f.description;if(d){me(d.byteLength>=18);const h=tr(d),g=lz(h);e=g.outputChannelCount,s=g.preSkip,r=g.inputSampleRate,o=g.outputGain,l=g.channelMappingFamily,g.channelMappingTable&&(u=g.channelMappingTable)}return Te("dOps",[At(0),At(e),Se(s),fe(r),ET(o),At(l),...u])},Zz=n=>{var r;const e=(r=n.info.decoderConfig)==null?void 0:r.description;me(e);const s=tr(e);return Qe("dfLa",0,0,[...s.subarray(4)])},Es=n=>{const{littleEndian:e,sampleSize:s}=Ro(n.track.source._codec),r=+e;return Qe("pcmC",0,0,[At(r),At(8*s)])},Yz=(n,e)=>Te(n,[Array(6).fill(0),Se(1)],[TB[e.track.source._codec](e)]),Xz=n=>Te("vttC",[...ks.encode(n.info.config.description)]),Qz=n=>Qe("stts",0,0,[fe(n.timeToSampleTable.length),n.timeToSampleTable.map(e=>[fe(e.sampleCount),fe(e.sampleDelta)])]),$z=n=>{if(n.samples.every(s=>s.type==="key"))return null;const e=[...n.samples.entries()].filter(([,s])=>s.type==="key");return Qe("stss",0,0,[fe(e.length),e.map(([s])=>fe(s+1))])},Kz=n=>Qe("stsc",0,0,[fe(n.compactlyCodedChunkTable.length),n.compactlyCodedChunkTable.map(e=>[fe(e.firstChunk),fe(e.samplesPerChunk),fe(1)])]),Jz=n=>{if(n.type==="audio"&&n.info.requiresPcmTransformation){const{sampleSize:e}=Ro(n.track.source._codec);return Qe("stsz",0,0,[fe(e*n.info.numberOfChannels),fe(n.samples.reduce((s,r)=>s+Yt(r.duration,n.timescale),0))])}return Qe("stsz",0,0,[fe(0),fe(n.samples.length),n.samples.map(e=>fe(e.size))])},eB=n=>n.finalizedChunks.length>0&&Ns(n.finalizedChunks).offset>=2**32?Qe("co64",0,0,[fe(n.finalizedChunks.length),n.finalizedChunks.map(e=>Qr(e.offset))]):Qe("stco",0,0,[fe(n.finalizedChunks.length),n.finalizedChunks.map(e=>fe(e.offset))]),tB=n=>Qe("ctts",1,0,[fe(n.compositionTimeOffsetTable.length),n.compositionTimeOffsetTable.map(e=>[fe(e.sampleCount),Ki(e.sampleCompositionTimeOffset)])]),nB=n=>{let e=1/0,s=-1/0,r=1/0,o=-1/0;me(n.compositionTimeOffsetTable.length>0),me(n.samples.length>0);for(let u=0;u<n.compositionTimeOffsetTable.length;u++){const d=n.compositionTimeOffsetTable[u];e=Math.min(e,d.sampleCompositionTimeOffset),s=Math.max(s,d.sampleCompositionTimeOffset)}for(let u=0;u<n.samples.length;u++){const d=n.samples[u];r=Math.min(r,Yt(d.timestamp,n.timescale)),o=Math.max(o,Yt(d.timestamp+d.duration,n.timescale))}const l=Math.max(-e,0);return o>=2**31?null:Qe("cslg",0,0,[Ki(l),Ki(e),Ki(s),Ki(r),Ki(o)])},sB=n=>Te("mvex",void 0,n.map(iB)),iB=n=>Qe("trex",0,0,[fe(n.track.id),fe(1),fe(0),fe(0),fe(0)]),r_=(n,e)=>Te("moof",void 0,[rB(n),...e.map(aB)]),rB=n=>Qe("mfhd",0,0,[fe(n)]),kT=n=>{let e=0,s=0;const r=0,o=0,l=n.type==="delta";return s|=+l,l?e|=1:e|=2,e<<24|s<<16|r<<8|o},aB=n=>Te("traf",void 0,[oB(n),lB(n),cB(n)]),oB=n=>{me(n.currentChunk);let e=0;e|=8,e|=16,e|=32,e|=131072;const s=n.currentChunk.samples[1]??n.currentChunk.samples[0],r={duration:s.timescaleUnitsToNextSample,size:s.size,flags:kT(s)};return Qe("tfhd",0,e,[fe(n.track.id),fe(r.duration),fe(r.size),fe(r.flags)])},lB=n=>(me(n.currentChunk),Qe("tfdt",1,0,[Qr(Yt(n.currentChunk.startTimestamp,n.timescale))])),cB=n=>{me(n.currentChunk);const e=n.currentChunk.samples.map(_=>_.timescaleUnitsToNextSample),s=n.currentChunk.samples.map(_=>_.size),r=n.currentChunk.samples.map(kT),o=n.currentChunk.samples.map(_=>Yt(_.timestamp-_.decodeTimestamp,n.timescale)),l=new Set(e),u=new Set(s),d=new Set(r),f=new Set(o),h=d.size===2&&r[0]!==r[1],g=l.size>1,p=u.size>1,y=!h&&d.size>1,b=f.size>1||[...f].some(_=>_!==0);let x=0;return x|=1,x|=4*+h,x|=256*+g,x|=512*+p,x|=1024*+y,x|=2048*+b,Qe("trun",1,x,[fe(n.currentChunk.samples.length),fe(n.currentChunk.offset-n.currentChunk.moofOffset||0),h?fe(r[0]):[],n.currentChunk.samples.map((_,T)=>[g?fe(e[T]):[],p?fe(s[T]):[],y?fe(r[T]):[],b?Ki(o[T]):[]])])},uB=n=>Te("mfra",void 0,[...n.map(dB),fB()]),dB=(n,e)=>Qe("tfra",1,0,[fe(n.track.id),fe(63),fe(n.finalizedChunks.length),n.finalizedChunks.map(r=>[Qr(Yt(r.samples[0].timestamp,n.timescale)),Qr(r.moofOffset),fe(e+1),fe(1),fe(1)])]),fB=()=>Qe("mfro",0,0,[fe(0)]),hB=()=>Te("vtte"),mB=(n,e,s,r,o)=>Te("vttc",void 0,[o!==null?Te("vsid",[Ki(o)]):null,s!==null?Te("iden",[...ks.encode(s)]):null,e!==null?Te("ctim",[...ks.encode(yz(e))]):null,r!==null?Te("sttg",[...ks.encode(r)]):null,Te("payl",[...ks.encode(n)])]),pB=n=>Te("vtta",[...ks.encode(n)]),gB=n=>{const e=[],s=n.format._options.metadataFormat??"auto",r=n.output._metadataTags;if(s==="mdir"||s==="auto"&&!n.isQuickTime){const o=yB(r);o&&e.push(o)}else if(s==="mdta"){const o=bB(r);o&&e.push(o)}else(s==="udta"||s==="auto"&&n.isQuickTime)&&vB(e,n.output._metadataTags);return e.length===0?null:Te("udta",void 0,e)},vB=(n,e)=>{for(const{key:s,value:r}of wT(e))switch(s){case"title":n.push(As("©nam",r));break;case"description":n.push(As("©des",r));break;case"artist":n.push(As("©ART",r));break;case"album":n.push(As("©alb",r));break;case"albumArtist":n.push(As("albr",r));break;case"genre":n.push(As("©gen",r));break;case"date":n.push(As("©day",r.toISOString().slice(0,10)));break;case"comment":n.push(As("©cmt",r));break;case"lyrics":n.push(As("©lyr",r));break;case"raw":break;case"discNumber":case"discsTotal":case"trackNumber":case"tracksTotal":case"images":break;default:N0(s)}if(e.raw)for(const s in e.raw){const r=e.raw[s];r==null||s.length!==4||n.some(o=>o.type===s)||(typeof r=="string"?n.push(As(s,r)):r instanceof Uint8Array&&n.push(Te(s,Array.from(r))))}},As=(n,e)=>{const s=ks.encode(e);return Te(n,[Se(s.length),Se(zT("und")),Array.from(s)])},a_={"image/jpeg":13,"image/png":14,"image/bmp":27},DT=(n,e)=>{const s=[];for(const{key:r,value:o}of wT(n))switch(r){case"title":s.push({key:e?"title":"©nam",value:as(o)});break;case"description":s.push({key:e?"description":"©des",value:as(o)});break;case"artist":s.push({key:e?"artist":"©ART",value:as(o)});break;case"album":s.push({key:e?"album":"©alb",value:as(o)});break;case"albumArtist":s.push({key:e?"album_artist":"aART",value:as(o)});break;case"comment":s.push({key:e?"comment":"©cmt",value:as(o)});break;case"genre":s.push({key:e?"genre":"©gen",value:as(o)});break;case"lyrics":s.push({key:e?"lyrics":"©lyr",value:as(o)});break;case"date":s.push({key:e?"date":"©day",value:as(o.toISOString().slice(0,10))});break;case"images":for(const l of o)l.kind==="coverFront"&&s.push({key:"covr",value:Te("data",[fe(a_[l.mimeType]??0),fe(0),Array.from(l.data)])});break;case"trackNumber":if(e){const l=n.tracksTotal!==void 0?`${o}/${n.tracksTotal}`:o.toString();s.push({key:"track",value:as(l)})}else s.push({key:"trkn",value:Te("data",[fe(0),fe(0),Se(0),Se(o),Se(n.tracksTotal??0),Se(0)])});break;case"discNumber":e||s.push({key:"disc",value:Te("data",[fe(0),fe(0),Se(0),Se(o),Se(n.discsTotal??0),Se(0)])});break;case"tracksTotal":case"discsTotal":break;case"raw":break;default:N0(r)}if(n.raw)for(const r in n.raw){const o=n.raw[r];o==null||!e&&r.length!==4||s.some(l=>l.key===r)||(typeof o=="string"?s.push({key:r,value:as(o)}):o instanceof Uint8Array?s.push({key:r,value:Te("data",[fe(0),fe(0),Array.from(o)])}):o instanceof xT&&s.push({key:r,value:Te("data",[fe(a_[o.mimeType]??0),fe(0),Array.from(o.data)])}))}return s},yB=n=>{const e=DT(n,!1);return e.length===0?null:Qe("meta",0,0,void 0,[D0(!1,"mdir","","appl"),Te("ilst",void 0,e.map(s=>Te(s.key,void 0,[s.value])))])},bB=n=>{const e=DT(n,!0);return e.length===0?null:Te("meta",void 0,[D0(!1,"mdta",""),Qe("keys",0,0,[fe(e.length)],e.map(s=>Te("mdta",[...ks.encode(s.key)]))),Te("ilst",void 0,e.map((s,r)=>{const o=String.fromCharCode(...fe(r+1));return Te(o,void 0,[s.value])}))])},as=n=>Te("data",[fe(1),fe(0),...ks.encode(n)]),_B={avc:"avc1",hevc:"hvc1",vp8:"vp08",vp9:"vp09",av1:"av01"},wB={avc:Lz,hevc:jz,vp8:i_,vp9:i_,av1:Uz},VT=(n,e)=>{switch(n){case"aac":return"mp4a";case"mp3":return"mp4a";case"opus":return"Opus";case"vorbis":return"mp4a";case"flac":return"fLaC";case"ulaw":return"ulaw";case"alaw":return"alaw";case"pcm-u8":return"raw ";case"pcm-s8":return"sowt"}if(e)switch(n){case"pcm-s16":return"sowt";case"pcm-s16be":return"twos";case"pcm-s24":return"in24";case"pcm-s24be":return"in24";case"pcm-s32":return"in32";case"pcm-s32be":return"in32";case"pcm-f32":return"fl32";case"pcm-f32be":return"fl32";case"pcm-f64":return"fl64";case"pcm-f64be":return"fl64"}else switch(n){case"pcm-s16":return"ipcm";case"pcm-s16be":return"ipcm";case"pcm-s24":return"ipcm";case"pcm-s24be":return"ipcm";case"pcm-s32":return"ipcm";case"pcm-s32be":return"ipcm";case"pcm-f32":return"fpcm";case"pcm-f32be":return"fpcm";case"pcm-f64":return"fpcm";case"pcm-f64be":return"fpcm"}},xB=(n,e)=>{switch(n){case"aac":return Im;case"mp3":return Im;case"opus":return Gz;case"vorbis":return Im;case"flac":return Zz}if(e)switch(n){case"pcm-s24":return Xi;case"pcm-s24be":return Xi;case"pcm-s32":return Xi;case"pcm-s32be":return Xi;case"pcm-f32":return Xi;case"pcm-f32be":return Xi;case"pcm-f64":return Xi;case"pcm-f64be":return Xi}else switch(n){case"pcm-s16":return Es;case"pcm-s16be":return Es;case"pcm-s24":return Es;case"pcm-s24be":return Es;case"pcm-s32":return Es;case"pcm-s32be":return Es;case"pcm-f32":return Es;case"pcm-f32be":return Es;case"pcm-f64":return Es;case"pcm-f64be":return Es}return null},SB={webvtt:"wvtt"},TB={webvtt:Xz},zT=n=>{me(n.length===3);let e=0;for(let s=0;s<3;s++)e<<=5,e+=n.charCodeAt(s)-96;return e};/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class CB{constructor(){this.ensureMonotonicity=!1,this.trackedWrites=null,this.trackedStart=-1,this.trackedEnd=-1}start(){}maybeTrackWrites(e){if(!this.trackedWrites)return;let s=this.getPos();if(s<this.trackedStart){if(s+e.byteLength<=this.trackedStart)return;e=e.subarray(this.trackedStart-s),s=0}const r=s+e.byteLength-this.trackedStart;let o=this.trackedWrites.byteLength;for(;o<r;)o*=2;if(o!==this.trackedWrites.byteLength){const l=new Uint8Array(o);l.set(this.trackedWrites,0),this.trackedWrites=l}this.trackedWrites.set(e,s-this.trackedStart),this.trackedEnd=Math.max(this.trackedEnd,s+e.byteLength)}startTrackingWrites(){this.trackedWrites=new Uint8Array(2**10),this.trackedStart=this.getPos(),this.trackedEnd=this.trackedStart}stopTrackingWrites(){if(!this.trackedWrites)throw new Error("Internal error: Can't get tracked writes since nothing was tracked.");const s={data:this.trackedWrites.subarray(0,this.trackedEnd-this.trackedStart),start:this.trackedStart,end:this.trackedEnd};return this.trackedWrites=null,s}}const Pm=2**16,Fm=2**32;class BT extends CB{constructor(e){if(super(),this.pos=0,this.maxPos=0,this.target=e,this.supportsResize="resize"in new ArrayBuffer(0),this.supportsResize)try{this.buffer=new ArrayBuffer(Pm,{maxByteLength:Fm})}catch{this.buffer=new ArrayBuffer(Pm),this.supportsResize=!1}else this.buffer=new ArrayBuffer(Pm);this.bytes=new Uint8Array(this.buffer)}ensureSize(e){let s=this.buffer.byteLength;for(;s<e;)s*=2;if(s!==this.buffer.byteLength){if(s>Fm)throw new Error(`ArrayBuffer exceeded maximum size of ${Fm} bytes. Please consider using another target.`);if(this.supportsResize)this.buffer.resize(s);else{const r=new ArrayBuffer(s),o=new Uint8Array(r);o.set(this.bytes,0),this.buffer=r,this.bytes=o}}}write(e){var s,r;this.maybeTrackWrites(e),this.ensureSize(this.pos+e.byteLength),this.bytes.set(e,this.pos),(r=(s=this.target).onwrite)==null||r.call(s,this.pos,this.pos+e.byteLength),this.pos+=e.byteLength,this.maxPos=Math.max(this.maxPos,this.pos)}seek(e){this.pos=e}getPos(){return this.pos}async flush(){}async finalize(){this.ensureSize(this.pos),this.target.buffer=this.buffer.slice(0,Math.max(this.maxPos,this.pos))}async close(){}getSlice(e,s){return this.bytes.slice(e,s)}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class IT{constructor(){this._output=null,this.onwrite=null}}class PT extends IT{constructor(){super(...arguments),this.buffer=null}_createWriter(){return new BT(this)}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const bp=1e3,EB=2082844800,AB=n=>{const e={},s=n.track;return s.metadata.name!==void 0&&(e.name=s.metadata.name),e},Yt=(n,e,s=!0)=>{const r=n*e;return s?Math.round(r):r};class MB extends Q5{constructor(e,s){super(e),this.auxTarget=new PT,this.auxWriter=this.auxTarget._createWriter(),this.auxBoxWriter=new s_(this.auxWriter),this.mdat=null,this.ftypSize=null,this.trackDatas=[],this.allTracksKnown=A5(),this.creationTime=Math.floor(Date.now()/1e3)+EB,this.finalizedChunks=[],this.nextFragmentNumber=1,this.maxWrittenTimestamp=-1/0,this.format=s,this.writer=e._writer,this.boxWriter=new s_(this.writer),this.isQuickTime=s instanceof UT;const r=this.writer instanceof BT?"in-memory":!1;this.fastStart=s._options.fastStart??r,this.isFragmented=this.fastStart==="fragmented",(this.fastStart==="in-memory"||this.isFragmented)&&(this.writer.ensureMonotonicity=!0),this.minimumFragmentDuration=s._options.minimumFragmentDuration??1}async start(){const e=await this.mutex.acquire(),s=this.output._tracks.some(r=>r.type==="video"&&r.source._codec==="avc");if(this.format._options.onFtyp&&this.writer.startTrackingWrites(),this.boxWriter.writeBox(bz({isQuickTime:this.isQuickTime,holdsAvc:s,fragmented:this.isFragmented})),this.format._options.onFtyp){const{data:r,start:o}=this.writer.stopTrackingWrites();this.format._options.onFtyp(r,o)}if(this.ftypSize=this.writer.getPos(),this.fastStart!=="in-memory")if(this.fastStart==="reserve"){for(const r of this.output._tracks)if(r.metadata.maximumPacketCount===void 0)throw new Error("All tracks must specify maximumPacketCount in their metadata when using fastStart: 'reserve'.")}else this.isFragmented||(this.format._options.onMdat&&this.writer.startTrackingWrites(),this.mdat=Vu(!0),this.boxWriter.writeBox(this.mdat));await this.writer.flush(),e()}allTracksAreKnown(){for(const e of this.output._tracks)if(!e.source._closed&&!this.trackDatas.some(s=>s.track===e))return!1;return!0}async getMimeType(){await this.allTracksKnown.promise;const e=this.trackDatas.map(s=>s.type==="video"||s.type==="audio"?s.info.decoderConfig.codec:{webvtt:"wvtt"}[s.track.source._codec]);return vz({isQuickTime:this.isQuickTime,hasVideo:this.trackDatas.some(s=>s.type==="video"),hasAudio:this.trackDatas.some(s=>s.type==="audio"),codecStrings:e})}getVideoTrackData(e,s,r){const o=this.trackDatas.find(h=>h.track===e);if(o)return o;G5(r),me(r),me(r.decoderConfig);const l={...r.decoderConfig};me(l.codedWidth!==void 0),me(l.codedHeight!==void 0);let u=!1;if(e.source._codec==="avc"&&!l.description){const h=K5(s.data);if(!h)throw new Error("Couldn't extract an AVCDecoderConfigurationRecord from the AVC packet. Make sure the packets are in Annex B format (as specified in ITU-T-REC-H.264) when not providing a description, or provide a description (must be an AVCDecoderConfigurationRecord as specified in ISO 14496-15) and ensure the packets are in AVCC format.");l.description=J5(h),u=!0}else if(e.source._codec==="hevc"&&!l.description){const h=ez(s.data);if(!h)throw new Error("Couldn't extract an HEVCDecoderConfigurationRecord from the HEVC packet. Make sure the packets are in Annex B format (as specified in ITU-T-REC-H.265) when not providing a description, or provide a description (must be an HEVCDecoderConfigurationRecord as specified in ISO 14496-15) and ensure the packets are in HEVC format.");l.description=oz(h),u=!0}const d=k5(1/(e.metadata.frameRate??57600),1e6).denominator,f={muxer:this,track:e,type:"video",info:{width:l.codedWidth,height:l.codedHeight,decoderConfig:l,requiresAnnexBTransformation:u},timescale:d,samples:[],sampleQueue:[],timestampProcessingQueue:[],timeToSampleTable:[],compositionTimeOffsetTable:[],lastTimescaleUnits:null,lastSample:null,finalizedChunks:[],currentChunk:null,compactlyCodedChunkTable:[]};return this.trackDatas.push(f),this.trackDatas.sort((h,g)=>h.track.id-g.track.id),this.allTracksAreKnown()&&this.allTracksKnown.resolve(),f}getAudioTrackData(e,s){const r=this.trackDatas.find(l=>l.track===e);if(r)return r;Y5(s),me(s),me(s.decoderConfig);const o={muxer:this,track:e,type:"audio",info:{numberOfChannels:s.decoderConfig.numberOfChannels,sampleRate:s.decoderConfig.sampleRate,decoderConfig:s.decoderConfig,requiresPcmTransformation:!this.isFragmented&&Is.includes(e.source._codec)},timescale:s.decoderConfig.sampleRate,samples:[],sampleQueue:[],timestampProcessingQueue:[],timeToSampleTable:[],compositionTimeOffsetTable:[],lastTimescaleUnits:null,lastSample:null,finalizedChunks:[],currentChunk:null,compactlyCodedChunkTable:[]};return this.trackDatas.push(o),this.trackDatas.sort((l,u)=>l.track.id-u.track.id),this.allTracksAreKnown()&&this.allTracksKnown.resolve(),o}getSubtitleTrackData(e,s){const r=this.trackDatas.find(l=>l.track===e);if(r)return r;X5(s),me(s),me(s.config);const o={muxer:this,track:e,type:"subtitle",info:{config:s.config},timescale:1e3,samples:[],sampleQueue:[],timestampProcessingQueue:[],timeToSampleTable:[],compositionTimeOffsetTable:[],lastTimescaleUnits:null,lastSample:null,finalizedChunks:[],currentChunk:null,compactlyCodedChunkTable:[],lastCueEndTimestamp:0,cueQueue:[],nextSourceId:0,cueToSourceId:new WeakMap};return this.trackDatas.push(o),this.trackDatas.sort((l,u)=>l.track.id-u.track.id),this.allTracksAreKnown()&&this.allTracksKnown.resolve(),o}async addEncodedVideoPacket(e,s,r){const o=await this.mutex.acquire();try{const l=this.getVideoTrackData(e,s,r);let u=s.data;if(l.info.requiresAnnexBTransformation){const h=$5(u);if(!h)throw new Error("Failed to transform packet data. Make sure all packets are provided in Annex B format, as specified in ITU-T-REC-H.264 and ITU-T-REC-H.265.");u=h}const d=this.validateAndNormalizeTimestamp(l.track,s.timestamp,s.type==="key"),f=this.createSampleForTrack(l,u,d,s.duration,s.type);await this.registerSample(l,f)}finally{o()}}async addEncodedAudioPacket(e,s,r){const o=await this.mutex.acquire();try{const l=this.getAudioTrackData(e,r),u=this.validateAndNormalizeTimestamp(l.track,s.timestamp,s.type==="key"),d=this.createSampleForTrack(l,s.data,u,s.duration,s.type);l.info.requiresPcmTransformation&&await this.maybePadWithSilence(l,u),await this.registerSample(l,d)}finally{o()}}async maybePadWithSilence(e,s){const r=Ns(e.samples),o=r?r.timestamp+r.duration:0,l=s-o,u=Yt(l,e.timescale);if(u>0){const{sampleSize:d,silentValue:f}=Ro(e.info.decoderConfig.codec),h=u*e.info.numberOfChannels,g=new Uint8Array(d*h).fill(f),p=this.createSampleForTrack(e,new Uint8Array(g.buffer),o,l,"key");await this.registerSample(e,p)}}async addSubtitleCue(e,s,r){const o=await this.mutex.acquire();try{const l=this.getSubtitleTrackData(e,r);this.validateAndNormalizeTimestamp(l.track,s.timestamp,!0),e.source._codec==="webvtt"&&(l.cueQueue.push(s),await this.processWebVTTCues(l,s.timestamp))}finally{o()}}async processWebVTTCues(e,s){for(;e.cueQueue.length>0;){const r=new Set([]);for(const h of e.cueQueue)me(h.timestamp<=s),me(e.lastCueEndTimestamp<=h.timestamp+h.duration),r.add(Math.max(h.timestamp,e.lastCueEndTimestamp)),r.add(h.timestamp+h.duration);const o=[...r].sort((h,g)=>h-g),l=o[0],u=o[1]??l;if(s<u)break;if(e.lastCueEndTimestamp<l){this.auxWriter.seek(0);const h=hB();this.auxBoxWriter.writeBox(h);const g=this.auxWriter.getSlice(0,this.auxWriter.getPos()),p=this.createSampleForTrack(e,g,e.lastCueEndTimestamp,l-e.lastCueEndTimestamp,"key");await this.registerSample(e,p),e.lastCueEndTimestamp=l}this.auxWriter.seek(0);for(let h=0;h<e.cueQueue.length;h++){const g=e.cueQueue[h];if(g.timestamp>=u)break;n_.lastIndex=0;const p=n_.test(g.text),y=g.timestamp+g.duration;let b=e.cueToSourceId.get(g);if(b===void 0&&u<y&&(b=e.nextSourceId++,e.cueToSourceId.set(g,b)),g.notes){const _=pB(g.notes);this.auxBoxWriter.writeBox(_)}const x=mB(g.text,p?l:null,g.identifier??null,g.settings??null,b??null);this.auxBoxWriter.writeBox(x),y===u&&e.cueQueue.splice(h--,1)}const d=this.auxWriter.getSlice(0,this.auxWriter.getPos()),f=this.createSampleForTrack(e,d,l,u-l,"key");await this.registerSample(e,f),e.lastCueEndTimestamp=u}}createSampleForTrack(e,s,r,o,l){return{timestamp:r,decodeTimestamp:r,duration:o,data:s,size:s.byteLength,type:l,timescaleUnitsToNextSample:Yt(o,e.timescale)}}processTimestamps(e,s){if(e.timestampProcessingQueue.length===0)return;if(e.type==="audio"&&e.info.requiresPcmTransformation){let o=0;for(let l=0;l<e.timestampProcessingQueue.length;l++){const u=e.timestampProcessingQueue[l],d=Yt(u.duration,e.timescale);o+=d}if(e.timeToSampleTable.length===0)e.timeToSampleTable.push({sampleCount:o,sampleDelta:1});else{const l=Ns(e.timeToSampleTable);l.sampleCount+=o}e.timestampProcessingQueue.length=0;return}const r=e.timestampProcessingQueue.map(o=>o.timestamp).sort((o,l)=>o-l);for(let o=0;o<e.timestampProcessingQueue.length;o++){const l=e.timestampProcessingQueue[o];l.decodeTimestamp=r[o],!this.isFragmented&&e.lastTimescaleUnits===null&&(l.decodeTimestamp=0);const u=Yt(l.timestamp-l.decodeTimestamp,e.timescale),d=Yt(l.duration,e.timescale);if(e.lastTimescaleUnits!==null){me(e.lastSample);const f=Yt(l.decodeTimestamp,e.timescale,!1),h=Math.round(f-e.lastTimescaleUnits);if(me(h>=0),e.lastTimescaleUnits+=h,e.lastSample.timescaleUnitsToNextSample=h,!this.isFragmented){let g=Ns(e.timeToSampleTable);if(me(g),g.sampleCount===1){g.sampleDelta=h;const y=e.timeToSampleTable[e.timeToSampleTable.length-2];y&&y.sampleDelta===h&&(y.sampleCount++,e.timeToSampleTable.pop(),g=y)}else g.sampleDelta!==h&&(g.sampleCount--,e.timeToSampleTable.push(g={sampleCount:1,sampleDelta:h}));g.sampleDelta===d?g.sampleCount++:e.timeToSampleTable.push({sampleCount:1,sampleDelta:d});const p=Ns(e.compositionTimeOffsetTable);me(p),p.sampleCompositionTimeOffset===u?p.sampleCount++:e.compositionTimeOffsetTable.push({sampleCount:1,sampleCompositionTimeOffset:u})}}else e.lastTimescaleUnits=Yt(l.decodeTimestamp,e.timescale,!1),this.isFragmented||(e.timeToSampleTable.push({sampleCount:1,sampleDelta:d}),e.compositionTimeOffsetTable.push({sampleCount:1,sampleCompositionTimeOffset:u}));e.lastSample=l}if(e.timestampProcessingQueue.length=0,me(e.lastSample),me(e.lastTimescaleUnits!==null),s!==void 0&&e.lastSample.timescaleUnitsToNextSample===0){me(s.type==="key");const o=Yt(s.timestamp,e.timescale,!1),l=Math.round(o-e.lastTimescaleUnits);e.lastSample.timescaleUnitsToNextSample=l}}async registerSample(e,s){s.type==="key"&&this.processTimestamps(e,s),e.timestampProcessingQueue.push(s),this.isFragmented?(e.sampleQueue.push(s),await this.interleaveSamples()):this.fastStart==="reserve"?await this.registerSampleFastStartReserve(e,s):await this.addSampleToTrack(e,s)}async addSampleToTrack(e,s){if(!this.isFragmented&&(e.samples.push(s),this.fastStart==="reserve")){const o=e.track.metadata.maximumPacketCount;if(me(o!==void 0),e.samples.length>o)throw new Error(`Track #${e.track.id} has already reached the maximum packet count (${o}). Either add less packets or increase the maximum packet count.`)}let r=!1;if(!e.currentChunk)r=!0;else{e.currentChunk.startTimestamp=Math.min(e.currentChunk.startTimestamp,s.timestamp);const o=s.timestamp-e.currentChunk.startTimestamp;if(this.isFragmented){const l=this.trackDatas.every(u=>{if(e===u)return s.type==="key";const d=u.sampleQueue[0];return d?d.type==="key":u.track.source._closed});o>=this.minimumFragmentDuration&&l&&s.timestamp>this.maxWrittenTimestamp&&(r=!0,await this.finalizeFragment())}else r=o>=.5}r&&(e.currentChunk&&await this.finalizeCurrentChunk(e),e.currentChunk={startTimestamp:s.timestamp,samples:[],offset:null,moofOffset:null}),me(e.currentChunk),e.currentChunk.samples.push(s),this.isFragmented&&(this.maxWrittenTimestamp=Math.max(this.maxWrittenTimestamp,s.timestamp))}async finalizeCurrentChunk(e){if(me(!this.isFragmented),!e.currentChunk)return;e.finalizedChunks.push(e.currentChunk),this.finalizedChunks.push(e.currentChunk);let s=e.currentChunk.samples.length;if(e.type==="audio"&&e.info.requiresPcmTransformation&&(s=e.currentChunk.samples.reduce((r,o)=>r+Yt(o.duration,e.timescale),0)),(e.compactlyCodedChunkTable.length===0||Ns(e.compactlyCodedChunkTable).samplesPerChunk!==s)&&e.compactlyCodedChunkTable.push({firstChunk:e.finalizedChunks.length,samplesPerChunk:s}),this.fastStart==="in-memory"){e.currentChunk.offset=0;return}e.currentChunk.offset=this.writer.getPos();for(const r of e.currentChunk.samples)me(r.data),this.writer.write(r.data),r.data=null;await this.writer.flush()}async interleaveSamples(e=!1){if(me(this.isFragmented),!(!e&&!this.allTracksAreKnown()))e:for(;;){let s=null,r=1/0;for(const l of this.trackDatas){if(!e&&l.sampleQueue.length===0&&!l.track.source._closed)break e;l.sampleQueue.length>0&&l.sampleQueue[0].timestamp<r&&(s=l,r=l.sampleQueue[0].timestamp)}if(!s)break;const o=s.sampleQueue.shift();await this.addSampleToTrack(s,o)}}async finalizeFragment(e=!0){me(this.isFragmented);const s=this.nextFragmentNumber++;if(s===1){this.format._options.onMoov&&this.writer.startTrackingWrites();const b=Nl(this);if(this.boxWriter.writeBox(b),this.format._options.onMoov){const{data:x,start:_}=this.writer.stopTrackingWrites();this.format._options.onMoov(x,_)}}const r=this.trackDatas.filter(b=>b.currentChunk),o=r_(s,r),l=this.writer.getPos(),u=l+this.boxWriter.measureBox(o);let d=u+Vm,f=1/0;for(const b of r){b.currentChunk.offset=d,b.currentChunk.moofOffset=l;for(const x of b.currentChunk.samples)d+=x.size;f=Math.min(f,b.currentChunk.startTimestamp)}const h=d-u,g=h>=2**32;if(g)for(const b of r)b.currentChunk.offset+=t_-Vm;this.format._options.onMoof&&this.writer.startTrackingWrites();const p=r_(s,r);if(this.boxWriter.writeBox(p),this.format._options.onMoof){const{data:b,start:x}=this.writer.stopTrackingWrites();this.format._options.onMoof(b,x,f)}me(this.writer.getPos()===u),this.format._options.onMdat&&this.writer.startTrackingWrites();const y=Vu(g);y.size=h,this.boxWriter.writeBox(y),this.writer.seek(u+(g?t_:Vm));for(const b of r)for(const x of b.currentChunk.samples)this.writer.write(x.data),x.data=null;if(this.format._options.onMdat){const{data:b,start:x}=this.writer.stopTrackingWrites();this.format._options.onMdat(b,x)}for(const b of r)b.finalizedChunks.push(b.currentChunk),this.finalizedChunks.push(b.currentChunk),b.currentChunk=null;e&&await this.writer.flush()}async registerSampleFastStartReserve(e,s){if(this.allTracksAreKnown()){if(!this.mdat){const r=Nl(this),l=this.boxWriter.measureBox(r)+this.computeSampleTableSizeUpperBound()+4096;me(this.ftypSize!==null),this.writer.seek(this.ftypSize+l),this.format._options.onMdat&&this.writer.startTrackingWrites(),this.mdat=Vu(!0),this.boxWriter.writeBox(this.mdat);for(const u of this.trackDatas){for(const d of u.sampleQueue)await this.addSampleToTrack(u,d);u.sampleQueue.length=0}}await this.addSampleToTrack(e,s)}else e.sampleQueue.push(s)}computeSampleTableSizeUpperBound(){me(this.fastStart==="reserve");let e=0;for(const s of this.trackDatas){const r=s.track.metadata.maximumPacketCount;me(r!==void 0),e+=8*Math.ceil(2/3*r),e+=4*r,e+=8*Math.ceil(2/3*r),e+=12*Math.ceil(2/3*r),e+=4*r,e+=8*r}return e}async onTrackClose(e){const s=await this.mutex.acquire();if(e.type==="subtitle"&&e.source._codec==="webvtt"){const r=this.trackDatas.find(o=>o.track===e);r&&await this.processWebVTTCues(r,1/0)}this.allTracksAreKnown()&&this.allTracksKnown.resolve(),this.isFragmented&&await this.interleaveSamples(),s()}async finalize(){const e=await this.mutex.acquire();this.allTracksKnown.resolve();for(const s of this.trackDatas)s.type==="subtitle"&&s.track.source._codec==="webvtt"&&await this.processWebVTTCues(s,1/0);if(this.isFragmented){await this.interleaveSamples(!0);for(const s of this.trackDatas)this.processTimestamps(s);await this.finalizeFragment(!1)}else for(const s of this.trackDatas)this.processTimestamps(s),await this.finalizeCurrentChunk(s);if(this.fastStart==="in-memory"){this.mdat=Vu(!1);let s;for(let o=0;o<2;o++){const l=Nl(this),u=this.boxWriter.measureBox(l);s=this.boxWriter.measureBox(this.mdat);let d=this.writer.getPos()+u+s;for(const f of this.finalizedChunks){f.offset=d;for(const{data:h}of f.samples)me(h),d+=h.byteLength,s+=h.byteLength}if(d<2**32)break;s>=2**32&&(this.mdat.largeSize=!0)}this.format._options.onMoov&&this.writer.startTrackingWrites();const r=Nl(this);if(this.boxWriter.writeBox(r),this.format._options.onMoov){const{data:o,start:l}=this.writer.stopTrackingWrites();this.format._options.onMoov(o,l)}this.format._options.onMdat&&this.writer.startTrackingWrites(),this.mdat.size=s,this.boxWriter.writeBox(this.mdat);for(const o of this.finalizedChunks)for(const l of o.samples)me(l.data),this.writer.write(l.data),l.data=null;if(this.format._options.onMdat){const{data:o,start:l}=this.writer.stopTrackingWrites();this.format._options.onMdat(o,l)}}else if(this.isFragmented){const s=this.writer.getPos(),r=uB(this.trackDatas);this.boxWriter.writeBox(r);const o=this.writer.getPos()-s;this.writer.seek(this.writer.getPos()-4),this.boxWriter.writeU32(o)}else{me(this.mdat);const s=this.boxWriter.offsets.get(this.mdat);me(s!==void 0);const r=this.writer.getPos()-s;if(this.mdat.size=r,this.mdat.largeSize=r>=2**32,this.boxWriter.patchBox(this.mdat),this.format._options.onMdat){const{data:l,start:u}=this.writer.stopTrackingWrites();this.format._options.onMdat(l,u)}const o=Nl(this);if(this.fastStart==="reserve"){me(this.ftypSize!==null),this.writer.seek(this.ftypSize),this.format._options.onMoov&&this.writer.startTrackingWrites(),this.boxWriter.writeBox(o);const l=this.boxWriter.offsets.get(this.mdat)-this.writer.getPos();this.boxWriter.writeBox(_z(l))}else this.format._options.onMoov&&this.writer.startTrackingWrites(),this.boxWriter.writeBox(o);if(this.format._options.onMoov){const{data:l,start:u}=this.writer.stopTrackingWrites();this.format._options.onMoov(l,u)}}e()}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class FT{getSupportedVideoCodecs(){return this.getSupportedCodecs().filter(e=>Xr.includes(e))}getSupportedAudioCodecs(){return this.getSupportedCodecs().filter(e=>po.includes(e))}getSupportedSubtitleCodecs(){return this.getSupportedCodecs().filter(e=>cd.includes(e))}_codecUnsupportedHint(e){return""}}class LT extends FT{constructor(e={}){if(!e||typeof e!="object")throw new TypeError("options must be an object.");if(e.fastStart!==void 0&&![!1,"in-memory","reserve","fragmented"].includes(e.fastStart))throw new TypeError("options.fastStart, when provided, must be false, 'in-memory', 'reserve', or 'fragmented'.");if(e.minimumFragmentDuration!==void 0&&(!Number.isFinite(e.minimumFragmentDuration)||e.minimumFragmentDuration<0))throw new TypeError("options.minimumFragmentDuration, when provided, must be a non-negative number.");if(e.onFtyp!==void 0&&typeof e.onFtyp!="function")throw new TypeError("options.onFtyp, when provided, must be a function.");if(e.onMoov!==void 0&&typeof e.onMoov!="function")throw new TypeError("options.onMoov, when provided, must be a function.");if(e.onMdat!==void 0&&typeof e.onMdat!="function")throw new TypeError("options.onMdat, when provided, must be a function.");if(e.onMoof!==void 0&&typeof e.onMoof!="function")throw new TypeError("options.onMoof, when provided, must be a function.");if(e.metadataFormat!==void 0&&!["mdir","mdta","udta","auto"].includes(e.metadataFormat))throw new TypeError("options.metadataFormat, when provided, must be either 'auto', 'mdir', 'mdta', or 'udta'.");super(),this._options=e}getSupportedTrackCounts(){return{video:{min:0,max:1/0},audio:{min:0,max:1/0},subtitle:{min:0,max:1/0},total:{min:1,max:2**32-1}}}get supportsVideoRotationMetadata(){return!0}_createMuxer(e){return new MB(e,this)}}class jT extends LT{constructor(e){super(e)}get _name(){return"MP4"}get fileExtension(){return".mp4"}get mimeType(){return"video/mp4"}getSupportedCodecs(){return[...Xr,...ST,"pcm-s16","pcm-s16be","pcm-s24","pcm-s24be","pcm-s32","pcm-s32be","pcm-f32","pcm-f32be","pcm-f64","pcm-f64be",...cd]}_codecUnsupportedHint(e){return new UT().getSupportedCodecs().includes(e)?" Switching to MOV will grant support for this codec.":""}}class UT extends LT{constructor(e){super(e)}get _name(){return"MOV"}get fileExtension(){return".mov"}get mimeType(){return"video/quicktime"}getSupportedCodecs(){return[...Xr,...po]}_codecUnsupportedHint(e){return new jT().getSupportedCodecs().includes(e)?" Switching to MP4 will grant support for this codec.":""}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const OB=n=>{if(!n||typeof n!="object")throw new TypeError("Encoding config must be an object.");if(!Xr.includes(n.codec))throw new TypeError(`Invalid video codec '${n.codec}'. Must be one of: ${Xr.join(", ")}.`);if(!(n.bitrate instanceof Jd)&&(!Number.isInteger(n.bitrate)||n.bitrate<=0))throw new TypeError("config.bitrate must be a positive integer or a quality.");if(n.keyFrameInterval!==void 0&&(!Number.isFinite(n.keyFrameInterval)||n.keyFrameInterval<0))throw new TypeError("config.keyFrameInterval, when provided, must be a non-negative number.");if(n.sizeChangeBehavior!==void 0&&!["deny","passThrough","fill","contain","cover"].includes(n.sizeChangeBehavior))throw new TypeError("config.sizeChangeBehavior, when provided, must be 'deny', 'passThrough', 'fill', 'contain' or 'cover'.");if(n.onEncodedPacket!==void 0&&typeof n.onEncodedPacket!="function")throw new TypeError("config.onEncodedChunk, when provided, must be a function.");if(n.onEncoderConfig!==void 0&&typeof n.onEncoderConfig!="function")throw new TypeError("config.onEncoderConfig, when provided, must be a function.");NB(n.codec,n)},NB=(n,e)=>{if(!e||typeof e!="object")throw new TypeError("Encoding options must be an object.");if(e.alpha!==void 0&&!["discard","keep"].includes(e.alpha))throw new TypeError("options.alpha, when provided, must be 'discard' or 'keep'.");if(e.bitrateMode!==void 0&&!["constant","variable"].includes(e.bitrateMode))throw new TypeError("bitrateMode, when provided, must be 'constant' or 'variable'.");if(e.latencyMode!==void 0&&!["quality","realtime"].includes(e.latencyMode))throw new TypeError("latencyMode, when provided, must be 'quality' or 'realtime'.");if(e.fullCodecString!==void 0&&typeof e.fullCodecString!="string")throw new TypeError("fullCodecString, when provided, must be a string.");if(e.fullCodecString!==void 0&&CT(e.fullCodecString)!==n)throw new TypeError(`fullCodecString, when provided, must be a string that matches the specified codec (${n}).`);if(e.hardwareAcceleration!==void 0&&!["no-preference","prefer-hardware","prefer-software"].includes(e.hardwareAcceleration))throw new TypeError("hardwareAcceleration, when provided, must be 'no-preference', 'prefer-hardware' or 'prefer-software'.");if(e.scalabilityMode!==void 0&&typeof e.scalabilityMode!="string")throw new TypeError("scalabilityMode, when provided, must be a string.");if(e.contentHint!==void 0&&typeof e.contentHint!="string")throw new TypeError("contentHint, when provided, must be a string.")},RB=n=>{const e=n.bitrate instanceof Jd?n.bitrate._toVideoBitrate(n.codec,n.width,n.height):n.bitrate;return{codec:n.fullCodecString??B5(n.codec,n.width,n.height,e),width:n.width,height:n.height,bitrate:e,bitrateMode:n.bitrateMode,alpha:n.alpha??"discard",framerate:n.framerate,latencyMode:n.latencyMode,hardwareAcceleration:n.hardwareAcceleration,scalabilityMode:n.scalabilityMode,contentHint:n.contentHint,...F5(n.codec)}},kB=n=>{if(!n||typeof n!="object")throw new TypeError("Encoding config must be an object.");if(!po.includes(n.codec))throw new TypeError(`Invalid audio codec '${n.codec}'. Must be one of: ${po.join(", ")}.`);if(n.bitrate===void 0&&(!Is.includes(n.codec)||n.codec==="flac"))throw new TypeError("config.bitrate must be provided for compressed audio codecs.");if(n.bitrate!==void 0&&!(n.bitrate instanceof Jd)&&(!Number.isInteger(n.bitrate)||n.bitrate<=0))throw new TypeError("config.bitrate, when provided, must be a positive integer or a quality.");if(n.onEncodedPacket!==void 0&&typeof n.onEncodedPacket!="function")throw new TypeError("config.onEncodedChunk, when provided, must be a function.");if(n.onEncoderConfig!==void 0&&typeof n.onEncoderConfig!="function")throw new TypeError("config.onEncoderConfig, when provided, must be a function.");DB(n.codec,n)},DB=(n,e)=>{if(!e||typeof e!="object")throw new TypeError("Encoding options must be an object.");if(e.bitrateMode!==void 0&&!["constant","variable"].includes(e.bitrateMode))throw new TypeError("bitrateMode, when provided, must be 'constant' or 'variable'.");if(e.fullCodecString!==void 0&&typeof e.fullCodecString!="string")throw new TypeError("fullCodecString, when provided, must be a string.");if(e.fullCodecString!==void 0&&CT(e.fullCodecString)!==n)throw new TypeError(`fullCodecString, when provided, must be a string that matches the specified codec (${n}).`)},VB=n=>{const e=n.bitrate instanceof Jd?n.bitrate._toAudioBitrate(n.codec):n.bitrate;return{codec:n.fullCodecString??P5(n.codec,n.numberOfChannels,n.sampleRate),numberOfChannels:n.numberOfChannels,sampleRate:n.sampleRate,bitrate:e,bitrateMode:n.bitrateMode,...L5(n.codec)}};class Jd{constructor(e){this._factor=e}_toVideoBitrate(e,s,r){const o=s*r,l={avc:1,hevc:.6,vp9:.6,av1:.4,vp8:1.2},u=1920*1080,d=3e6,f=Math.pow(o/u,.95),p=d*f*l[e]*this._factor;return Math.ceil(p/1e3)*1e3}_toAudioBitrate(e){if(Is.includes(e)||e==="flac")return;const r={aac:128e3,opus:64e3,mp3:16e4,vorbis:64e3}[e];if(!r)throw new Error(`Unhandled codec: ${e}`);let o=r*this._factor;return e==="aac"?o=[96e3,128e3,16e4,192e3].reduce((u,d)=>Math.abs(d-o)<Math.abs(u-o)?d:u):e==="opus"||e==="vorbis"?o=Math.max(6e3,o):e==="mp3"&&(o=[8e3,16e3,24e3,32e3,4e4,48e3,64e3,8e4,96e3,112e3,128e3,16e4,192e3,224e3,256e3,32e4].reduce((u,d)=>Math.abs(d-o)<Math.abs(u-o)?d:u)),Math.round(o/1e3)*1e3}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */class V0{constructor(){this._connectedTrack=null,this._closingPromise=null,this._closed=!1,this._timestampOffset=0}_ensureValidAdd(){if(!this._connectedTrack)throw new Error("Source is not connected to an output track.");if(this._connectedTrack.output.state==="canceled")throw new Error("Output has been canceled.");if(this._connectedTrack.output.state==="finalizing"||this._connectedTrack.output.state==="finalized")throw new Error("Output has been finalized.");if(this._connectedTrack.output.state==="pending")throw new Error("Output has not started.");if(this._closed)throw new Error("Source is closed.")}async _start(){}async _flushAndClose(e){}close(){if(this._closingPromise)return;const e=this._connectedTrack;if(!e)throw new Error("Cannot call close without connecting the source to an output track.");if(e.output.state==="pending")throw new Error("Cannot call close before output has been started.");this._closingPromise=(async()=>{await this._flushAndClose(!1),this._closed=!0,!(e.output.state==="finalizing"||e.output.state==="finalized")&&e.output._muxer.onTrackClose(e)})()}async _flushOrWaitForOngoingClose(e){return this._closingPromise?this._closingPromise:this._flushAndClose(e)}}class HT extends V0{constructor(e){if(super(),this._connectedTrack=null,!Xr.includes(e))throw new TypeError(`Invalid video codec '${e}'. Must be one of: ${Xr.join(", ")}.`);this._codec=e}}class zB{constructor(e,s){this.source=e,this.encodingConfig=s,this.ensureEncoderPromise=null,this.encoderInitialized=!1,this.encoder=null,this.muxer=null,this.lastMultipleOfKeyFrameInterval=-1,this.codedWidth=null,this.codedHeight=null,this.resizeCanvas=null,this.customEncoder=null,this.customEncoderCallSerializer=new _T,this.customEncoderQueueSize=0,this.alphaEncoder=null,this.splitter=null,this.splitterCreationFailed=!1,this.alphaFrameQueue=[],this.error=null,this.errorNeedsNewStack=!0}async add(e,s,r){try{if(this.checkForEncoderError(),this.source._ensureValidAdd(),this.codedWidth!==null&&this.codedHeight!==null){if(e.codedWidth!==this.codedWidth||e.codedHeight!==this.codedHeight){const d=this.encodingConfig.sizeChangeBehavior??"deny";if(d!=="passThrough"){if(d==="deny")throw new Error(`Video sample size must remain constant. Expected ${this.codedWidth}x${this.codedHeight}, got ${e.codedWidth}x${e.codedHeight}. To allow the sample size to change over time, set \`sizeChangeBehavior\` to a value other than 'strict' in the encoding options.`);{let f=!1;this.resizeCanvas||(typeof document<"u"?(this.resizeCanvas=document.createElement("canvas"),this.resizeCanvas.width=this.codedWidth,this.resizeCanvas.height=this.codedHeight):this.resizeCanvas=new OffscreenCanvas(this.codedWidth,this.codedHeight),f=!0);const h=this.resizeCanvas.getContext("2d",{alpha:vp()});me(h),f||(vp()?(h.fillStyle="black",h.fillRect(0,0,this.codedWidth,this.codedHeight)):h.clearRect(0,0,this.codedWidth,this.codedHeight)),e.drawWithFit(h,{fit:d}),s&&e.close(),e=new Ir(this.resizeCanvas,{timestamp:e.timestamp,duration:e.duration,rotation:e.rotation}),s=!0}}}}else this.codedWidth=e.codedWidth,this.codedHeight=e.codedHeight;this.encoderInitialized||(this.ensureEncoderPromise||this.ensureEncoder(e),this.encoderInitialized||await this.ensureEncoderPromise),me(this.encoderInitialized);const o=this.encodingConfig.keyFrameInterval??5,l=Math.floor(e.timestamp/o),u={...r,keyFrame:(r==null?void 0:r.keyFrame)||o===0||l!==this.lastMultipleOfKeyFrameInterval};if(this.lastMultipleOfKeyFrameInterval=l,this.customEncoder){this.customEncoderQueueSize++;const d=e.clone(),f=this.customEncoderCallSerializer.call(()=>this.customEncoder.encode(d,u)).then(()=>this.customEncoderQueueSize--).catch(h=>this.error??(this.error=h)).finally(()=>{d.close()});this.customEncoderQueueSize>=4&&await f}else{me(this.encoder);const d=e.toVideoFrame();if(!this.alphaEncoder)this.encoder.encode(d,u),d.close();else if(!!d.format&&!d.format.includes("A")||this.splitterCreationFailed)this.alphaFrameQueue.push(null),this.encoder.encode(d,u),d.close();else{const h=d.displayWidth,g=d.displayHeight;if(!this.splitter)try{this.splitter=new BB(h,g)}catch(p){console.error("Due to an error, only color data will be encoded.",p),this.splitterCreationFailed=!0,this.alphaFrameQueue.push(null),this.encoder.encode(d,u),d.close()}if(this.splitter){const p=this.splitter.extractColor(d),y=this.splitter.extractAlpha(d);this.alphaFrameQueue.push(y),this.encoder.encode(p,u),p.close(),d.close()}}s&&e.close(),this.encoder.encodeQueueSize>=4&&await new Promise(f=>this.encoder.addEventListener("dequeue",f,{once:!0}))}await this.muxer.mutex.currentPromise}finally{s&&e.close()}}ensureEncoder(e){const s=new Error;this.ensureEncoderPromise=(async()=>{var l,u,d;const r=RB({width:e.codedWidth,height:e.codedHeight,...this.encodingConfig,framerate:(l=this.source._connectedTrack)==null?void 0:l.metadata.frameRate});(d=(u=this.encodingConfig).onEncoderConfig)==null||d.call(u,r);const o=cz.find(f=>f.supports(this.encodingConfig.codec,r));if(o)this.customEncoder=new o,this.customEncoder.codec=this.encodingConfig.codec,this.customEncoder.config=r,this.customEncoder.onPacket=(f,h)=>{var g,p;if(!(f instanceof nr))throw new TypeError("The first argument passed to onPacket must be an EncodedPacket.");if(h!==void 0&&(!h||typeof h!="object"))throw new TypeError("The second argument passed to onPacket must be an object or undefined.");(p=(g=this.encodingConfig).onEncodedPacket)==null||p.call(g,f,h),this.muxer.addEncodedVideoPacket(this.source._connectedTrack,f,h).catch(y=>{this.error??(this.error=y),this.errorNeedsNewStack=!1})},await this.customEncoder.init();else{if(typeof VideoEncoder>"u")throw new Error("VideoEncoder is not supported by this browser.");if(r.alpha="discard",this.encodingConfig.alpha==="keep"&&(r.latencyMode="quality"),(r.width%2===1||r.height%2===1)&&(this.encodingConfig.codec==="avc"||this.encodingConfig.codec==="hevc"))throw new Error(`The dimensions ${r.width}x${r.height} are not supported for codec '${this.encodingConfig.codec}'; both width and height must be even numbers. Make sure to round your dimensions to the nearest even number.`);if(!(await VideoEncoder.isConfigSupported(r)).supported)throw new Error(`This specific encoder configuration (${r.codec}, ${r.bitrate} bps, ${r.width}x${r.height}, hardware acceleration: ${r.hardwareAcceleration??"no-preference"}) is not supported by this browser. Consider using another codec or changing your video parameters.`);const g=[],p=[];let y=0,b=0;const x=(_,T,C)=>{var B,R;const M={};if(T){const z=new Uint8Array(T.byteLength);T.copyTo(z),M.alpha=z}const N=nr.fromEncodedChunk(_,M);(R=(B=this.encodingConfig).onEncodedPacket)==null||R.call(B,N,C),this.muxer.addEncodedVideoPacket(this.source._connectedTrack,N,C).catch(z=>{this.error??(this.error=z),this.errorNeedsNewStack=!1})};this.encoder=new VideoEncoder({output:(_,T)=>{if(!this.alphaEncoder){x(_,null,T);return}const C=this.alphaFrameQueue.shift();me(C!==void 0),C?(this.alphaEncoder.encode(C,{keyFrame:_.type==="key"}),b++,C.close(),g.push({chunk:_,meta:T})):b===0?x(_,null,T):(p.push(y+b),g.push({chunk:_,meta:T}))},error:_=>{_.stack=s.stack,this.error??(this.error=_)}}),this.encoder.configure(r),this.encodingConfig.alpha==="keep"&&(this.alphaEncoder=new VideoEncoder({output:(_,T)=>{b--;const C=g.shift();for(me(C!==void 0),x(C.chunk,_,C.meta),y++;p.length>0&&p[0]===y;){p.shift();const M=g.shift();me(M!==void 0),x(M.chunk,null,M.meta)}},error:_=>{_.stack=s.stack,this.error??(this.error=_)}}),this.alphaEncoder.configure(r))}me(this.source._connectedTrack),this.muxer=this.source._connectedTrack.output._muxer,this.encoderInitialized=!0})()}async flushAndClose(e){var s,r;e||this.checkForEncoderError(),this.customEncoder?(e||this.customEncoderCallSerializer.call(()=>this.customEncoder.flush()),await this.customEncoderCallSerializer.call(()=>this.customEncoder.close())):this.encoder&&(e||(await this.encoder.flush(),await((s=this.alphaEncoder)==null?void 0:s.flush())),this.encoder.state!=="closed"&&this.encoder.close(),this.alphaEncoder&&this.alphaEncoder.state!=="closed"&&this.alphaEncoder.close(),this.alphaFrameQueue.forEach(o=>o==null?void 0:o.close()),(r=this.splitter)==null||r.close()),e||this.checkForEncoderError()}getQueueSize(){var e;return this.customEncoder?this.customEncoderQueueSize:((e=this.encoder)==null?void 0:e.encodeQueueSize)??0}checkForEncoderError(){if(this.error)throw this.errorNeedsNewStack&&(this.error.stack=new Error().stack),this.error}}class BB{constructor(e,s){this.lastFrame=null,typeof OffscreenCanvas<"u"?this.canvas=new OffscreenCanvas(e,s):(this.canvas=document.createElement("canvas"),this.canvas.width=e,this.canvas.height=s);const r=this.canvas.getContext("webgl2",{alpha:!0});if(!r)throw new Error("Couldn't acquire WebGL 2 context.");this.gl=r,this.colorProgram=this.createColorProgram(),this.alphaProgram=this.createAlphaProgram(),this.vao=this.createVAO(),this.sourceTexture=this.createTexture(),this.alphaResolutionLocation=this.gl.getUniformLocation(this.alphaProgram,"u_resolution"),this.gl.useProgram(this.colorProgram),this.gl.uniform1i(this.gl.getUniformLocation(this.colorProgram,"u_sourceTexture"),0),this.gl.useProgram(this.alphaProgram),this.gl.uniform1i(this.gl.getUniformLocation(this.alphaProgram,"u_sourceTexture"),0)}createVertexShader(){return this.createShader(this.gl.VERTEX_SHADER,`#version 300 es
			in vec2 a_position;
			in vec2 a_texCoord;
			out vec2 v_texCoord;
			
			void main() {
				gl_Position = vec4(a_position, 0.0, 1.0);
				v_texCoord = a_texCoord;
			}
		`)}createColorProgram(){const e=this.createVertexShader(),s=this.createShader(this.gl.FRAGMENT_SHADER,`#version 300 es
			precision highp float;
			
			uniform sampler2D u_sourceTexture;
			in vec2 v_texCoord;
			out vec4 fragColor;
			
			void main() {
				vec4 source = texture(u_sourceTexture, v_texCoord);
				fragColor = vec4(source.rgb, 1.0);
			}
		`),r=this.gl.createProgram();return this.gl.attachShader(r,e),this.gl.attachShader(r,s),this.gl.linkProgram(r),r}createAlphaProgram(){const e=this.createVertexShader(),s=this.createShader(this.gl.FRAGMENT_SHADER,`#version 300 es
			precision highp float;
			
			uniform sampler2D u_sourceTexture;
			uniform vec2 u_resolution; // The width and height of the canvas
			in vec2 v_texCoord;
			out vec4 fragColor;

			// This function determines the value for a single byte in the YUV stream
			float getByteValue(float byteOffset) {
				float width = u_resolution.x;
				float height = u_resolution.y;

				float yPlaneSize = width * height;

				if (byteOffset < yPlaneSize) {
					// This byte is in the luma plane. Find the corresponding pixel coordinates to sample from
					float y = floor(byteOffset / width);
					float x = mod(byteOffset, width);
					
					// Add 0.5 to sample the center of the texel
					vec2 sampleCoord = (vec2(x, y) + 0.5) / u_resolution;
					
					// The luma value is the alpha from the source texture
					return texture(u_sourceTexture, sampleCoord).a;
				} else {
					// Write a fixed value for chroma and beyond
					return 128.0 / 255.0;
				}
			}
			
			void main() {
				// Each fragment writes 4 bytes (R, G, B, A)
				float pixelIndex = floor(gl_FragCoord.y) * u_resolution.x + floor(gl_FragCoord.x);
				float baseByteOffset = pixelIndex * 4.0;

				vec4 result;
				for (int i = 0; i < 4; i++) {
					float currentByteOffset = baseByteOffset + float(i);
					result[i] = getByteValue(currentByteOffset);
				}
				
				fragColor = result;
			}
		`),r=this.gl.createProgram();return this.gl.attachShader(r,e),this.gl.attachShader(r,s),this.gl.linkProgram(r),r}createShader(e,s){const r=this.gl.createShader(e);return this.gl.shaderSource(r,s),this.gl.compileShader(r),this.gl.getShaderParameter(r,this.gl.COMPILE_STATUS)||console.error("Shader compile error:",this.gl.getShaderInfoLog(r)),r}createVAO(){const e=this.gl.createVertexArray();this.gl.bindVertexArray(e);const s=new Float32Array([-1,-1,0,1,1,-1,1,1,-1,1,0,0,1,1,1,0]),r=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r),this.gl.bufferData(this.gl.ARRAY_BUFFER,s,this.gl.STATIC_DRAW);const o=this.gl.getAttribLocation(this.colorProgram,"a_position"),l=this.gl.getAttribLocation(this.colorProgram,"a_texCoord");return this.gl.enableVertexAttribArray(o),this.gl.vertexAttribPointer(o,2,this.gl.FLOAT,!1,16,0),this.gl.enableVertexAttribArray(l),this.gl.vertexAttribPointer(l,2,this.gl.FLOAT,!1,16,8),e}createTexture(){const e=this.gl.createTexture();return this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),e}updateTexture(e){this.lastFrame!==e&&((e.displayWidth!==this.canvas.width||e.displayHeight!==this.canvas.height)&&(this.canvas.width=e.displayWidth,this.canvas.height=e.displayHeight),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.sourceTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e),this.lastFrame=e)}extractColor(e){return this.updateTexture(e),this.gl.useProgram(this.colorProgram),this.gl.viewport(0,0,this.canvas.width,this.canvas.height),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.bindVertexArray(this.vao),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),new VideoFrame(this.canvas,{timestamp:e.timestamp,duration:e.duration??void 0,alpha:"discard"})}extractAlpha(e){this.updateTexture(e),this.gl.useProgram(this.alphaProgram),this.gl.uniform2f(this.alphaResolutionLocation,this.canvas.width,this.canvas.height),this.gl.viewport(0,0,this.canvas.width,this.canvas.height),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.bindVertexArray(this.vao),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4);const{width:s,height:r}=this.canvas,o=Math.ceil(s/2)*Math.ceil(r/2),l=s*r+o*2,u=Math.ceil(l/(s*4));let d=new Uint8Array(4*s*u);this.gl.readPixels(0,0,s,u,this.gl.RGBA,this.gl.UNSIGNED_BYTE,d),d=d.subarray(0,l),me(d[s*r]===128),me(d[d.length-1]===128);const f={format:"I420",codedWidth:s,codedHeight:r,timestamp:e.timestamp,duration:e.duration??void 0,transfer:[d.buffer]};return new VideoFrame(d,f)}close(){var e;(e=this.gl.getExtension("WEBGL_lose_context"))==null||e.loseContext(),this.gl=null}}class IB extends HT{constructor(e,s){if(!(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement)&&!(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas))throw new TypeError("canvas must be an HTMLCanvasElement or OffscreenCanvas.");OB(s),super(s.codec),this._encoder=new zB(this,s),this._canvas=e}add(e,s=0,r){if(!Number.isFinite(e)||e<0)throw new TypeError("timestamp must be a non-negative number.");if(!Number.isFinite(s)||s<0)throw new TypeError("duration must be a non-negative number.");const o=new Ir(this._canvas,{timestamp:e,duration:s});return this._encoder.add(o,!0,r)}_flushAndClose(e){return this._encoder.flushAndClose(e)}}class qT extends V0{constructor(e){if(super(),this._connectedTrack=null,!po.includes(e))throw new TypeError(`Invalid audio codec '${e}'. Must be one of: ${po.join(", ")}.`);this._codec=e}}class PB{constructor(e,s){this.source=e,this.encodingConfig=s,this.ensureEncoderPromise=null,this.encoderInitialized=!1,this.encoder=null,this.muxer=null,this.lastNumberOfChannels=null,this.lastSampleRate=null,this.isPcmEncoder=!1,this.outputSampleSize=null,this.writeOutputValue=null,this.customEncoder=null,this.customEncoderCallSerializer=new _T,this.customEncoderQueueSize=0,this.error=null,this.errorNeedsNewStack=!0}async add(e,s){try{if(this.checkForEncoderError(),this.source._ensureValidAdd(),this.lastNumberOfChannels!==null&&this.lastSampleRate!==null){if(e.numberOfChannels!==this.lastNumberOfChannels||e.sampleRate!==this.lastSampleRate)throw new Error(`Audio parameters must remain constant. Expected ${this.lastNumberOfChannels} channels at ${this.lastSampleRate} Hz, got ${e.numberOfChannels} channels at ${e.sampleRate} Hz.`)}else this.lastNumberOfChannels=e.numberOfChannels,this.lastSampleRate=e.sampleRate;if(this.encoderInitialized||(this.ensureEncoderPromise||this.ensureEncoder(e),this.encoderInitialized||await this.ensureEncoderPromise),me(this.encoderInitialized),this.customEncoder){this.customEncoderQueueSize++;const r=e.clone(),o=this.customEncoderCallSerializer.call(()=>this.customEncoder.encode(r)).then(()=>this.customEncoderQueueSize--).catch(l=>this.error??(this.error=l)).finally(()=>{r.close()});this.customEncoderQueueSize>=4&&await o,await this.muxer.mutex.currentPromise}else if(this.isPcmEncoder)await this.doPcmEncoding(e,s);else{me(this.encoder);const r=e.toAudioData();this.encoder.encode(r),r.close(),s&&e.close(),this.encoder.encodeQueueSize>=4&&await new Promise(o=>this.encoder.addEventListener("dequeue",o,{once:!0})),await this.muxer.mutex.currentPromise}}finally{s&&e.close()}}async doPcmEncoding(e,s){var y,b;me(this.outputSampleSize),me(this.writeOutputValue);const{numberOfChannels:r,numberOfFrames:o,sampleRate:l,timestamp:u}=e,d=2048,f=[];for(let x=0;x<o;x+=d){const _=Math.min(d,e.numberOfFrames-x),T=_*r*this.outputSampleSize,C=new ArrayBuffer(T),M=new DataView(C);f.push({frameCount:_,view:M})}const h=e.allocationSize({planeIndex:0,format:"f32-planar"}),g=new Float32Array(h/Float32Array.BYTES_PER_ELEMENT);for(let x=0;x<r;x++){e.copyTo(g,{planeIndex:x,format:"f32-planar"});for(let _=0;_<f.length;_++){const{frameCount:T,view:C}=f[_];for(let M=0;M<T;M++)this.writeOutputValue(C,(M*r+x)*this.outputSampleSize,g[_*d+M])}}s&&e.close();const p={decoderConfig:{codec:this.encodingConfig.codec,numberOfChannels:r,sampleRate:l}};for(let x=0;x<f.length;x++){const{frameCount:_,view:T}=f[x],C=T.buffer,M=x*d,N=new nr(new Uint8Array(C),"key",u+M/l,_/l);(b=(y=this.encodingConfig).onEncodedPacket)==null||b.call(y,N,p),await this.muxer.addEncodedAudioPacket(this.source._connectedTrack,N,p)}}ensureEncoder(e){const s=new Error;this.ensureEncoderPromise=(async()=>{var d,f;const{numberOfChannels:r,sampleRate:o}=e,l=VB({numberOfChannels:r,sampleRate:o,...this.encodingConfig});(f=(d=this.encodingConfig).onEncoderConfig)==null||f.call(d,l);const u=uz.find(h=>h.supports(this.encodingConfig.codec,l));if(u)this.customEncoder=new u,this.customEncoder.codec=this.encodingConfig.codec,this.customEncoder.config=l,this.customEncoder.onPacket=(h,g)=>{var p,y;if(!(h instanceof nr))throw new TypeError("The first argument passed to onPacket must be an EncodedPacket.");if(g!==void 0&&(!g||typeof g!="object"))throw new TypeError("The second argument passed to onPacket must be an object or undefined.");(y=(p=this.encodingConfig).onEncodedPacket)==null||y.call(p,h,g),this.muxer.addEncodedAudioPacket(this.source._connectedTrack,h,g).catch(b=>{this.error??(this.error=b),this.errorNeedsNewStack=!1})},await this.customEncoder.init();else if(Is.includes(this.encodingConfig.codec))this.initPcmEncoder();else{if(typeof AudioEncoder>"u")throw new Error("AudioEncoder is not supported by this browser.");if(!(await AudioEncoder.isConfigSupported(l)).supported)throw new Error(`This specific encoder configuration (${l.codec}, ${l.bitrate} bps, ${l.numberOfChannels} channels, ${l.sampleRate} Hz) is not supported by this browser. Consider using another codec or changing your audio parameters.`);this.encoder=new AudioEncoder({output:(g,p)=>{var b,x;const y=nr.fromEncodedChunk(g);(x=(b=this.encodingConfig).onEncodedPacket)==null||x.call(b,y,p),this.muxer.addEncodedAudioPacket(this.source._connectedTrack,y,p).catch(_=>{this.error??(this.error=_),this.errorNeedsNewStack=!1})},error:g=>{g.stack=s.stack,this.error??(this.error=g)}}),this.encoder.configure(l)}me(this.source._connectedTrack),this.muxer=this.source._connectedTrack.output._muxer,this.encoderInitialized=!0})()}initPcmEncoder(){this.isPcmEncoder=!0;const e=this.encodingConfig.codec,{dataType:s,sampleSize:r,littleEndian:o}=Ro(e);switch(this.outputSampleSize=r,r){case 1:s==="unsigned"?this.writeOutputValue=(l,u,d)=>l.setUint8(u,En((d+1)*127.5,0,255)):s==="signed"?this.writeOutputValue=(l,u,d)=>{l.setInt8(u,En(Math.round(d*128),-128,127))}:s==="ulaw"?this.writeOutputValue=(l,u,d)=>{const f=En(Math.floor(d*32767),-32768,32767);l.setUint8(u,dz(f))}:s==="alaw"?this.writeOutputValue=(l,u,d)=>{const f=En(Math.floor(d*32767),-32768,32767);l.setUint8(u,fz(f))}:me(!1);break;case 2:s==="unsigned"?this.writeOutputValue=(l,u,d)=>l.setUint16(u,En((d+1)*32767.5,0,65535),o):s==="signed"?this.writeOutputValue=(l,u,d)=>l.setInt16(u,En(Math.round(d*32767),-32768,32767),o):me(!1);break;case 3:s==="unsigned"?this.writeOutputValue=(l,u,d)=>bT(l,u,En((d+1)*83886075e-1,0,16777215),o):s==="signed"?this.writeOutputValue=(l,u,d)=>M5(l,u,En(Math.round(d*8388607),-8388608,8388607),o):me(!1);break;case 4:s==="unsigned"?this.writeOutputValue=(l,u,d)=>l.setUint32(u,En((d+1)*21474836475e-1,0,4294967295),o):s==="signed"?this.writeOutputValue=(l,u,d)=>l.setInt32(u,En(Math.round(d*2147483647),-2147483648,2147483647),o):s==="float"?this.writeOutputValue=(l,u,d)=>l.setFloat32(u,d,o):me(!1);break;case 8:s==="float"?this.writeOutputValue=(l,u,d)=>l.setFloat64(u,d,o):me(!1);break;default:N0(r),me(!1)}}async flushAndClose(e){e||this.checkForEncoderError(),this.customEncoder?(e||this.customEncoderCallSerializer.call(()=>this.customEncoder.flush()),await this.customEncoderCallSerializer.call(()=>this.customEncoder.close())):this.encoder&&(e||await this.encoder.flush(),this.encoder.state!=="closed"&&this.encoder.close()),e||this.checkForEncoderError()}getQueueSize(){var e;return this.customEncoder?this.customEncoderQueueSize:this.isPcmEncoder?0:((e=this.encoder)==null?void 0:e.encodeQueueSize)??0}checkForEncoderError(){if(this.error)throw this.errorNeedsNewStack&&(this.error.stack=new Error().stack),this.error}}class FB extends qT{constructor(e){kB(e),super(e.codec),this._accumulatedTime=0,this._encoder=new PB(this,e)}async add(e){if(!(e instanceof AudioBuffer))throw new TypeError("audioBuffer must be an AudioBuffer.");const s=$a._fromAudioBuffer(e,this._accumulatedTime);this._accumulatedTime+=e.duration;for(const r of s)await this._encoder.add(r,!0)}_flushAndClose(e){return this._encoder.flushAndClose(e)}}class LB extends V0{constructor(e){if(super(),this._connectedTrack=null,!cd.includes(e))throw new TypeError(`Invalid subtitle codec '${e}'. Must be one of: ${cd.join(", ")}.`);this._codec=e}}/*!
 * Copyright (c) 2025-present, Vanilagy and contributors
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const jB=["video","audio","subtitle"],Lm=n=>{if(!n||typeof n!="object")throw new TypeError("metadata must be an object.");if(n.languageCode!==void 0&&!R5(n.languageCode))throw new TypeError("metadata.languageCode, when provided, must be a three-letter, ISO 639-2/T language code.");if(n.name!==void 0&&typeof n.name!="string")throw new TypeError("metadata.name, when provided, must be a string.");if(n.maximumPacketCount!==void 0&&(!Number.isInteger(n.maximumPacketCount)||n.maximumPacketCount<0))throw new TypeError("metadata.maximumPacketCount, when provided, must be a non-negative integer.")};class UB{constructor(e){if(this.state="pending",this._tracks=[],this._startPromise=null,this._cancelPromise=null,this._finalizePromise=null,this._mutex=new yT,this._metadataTags={},!e||typeof e!="object")throw new TypeError("options must be an object.");if(!(e.format instanceof FT))throw new TypeError("options.format must be an OutputFormat.");if(!(e.target instanceof IT))throw new TypeError("options.target must be a Target.");if(e.target._output)throw new Error("Target is already used for another output.");e.target._output=this,this.format=e.format,this.target=e.target,this._writer=e.target._createWriter(),this._muxer=e.format._createMuxer(this)}addVideoTrack(e,s={}){if(!(e instanceof HT))throw new TypeError("source must be a VideoSource.");if(Lm(s),s.rotation!==void 0&&![0,90,180,270].includes(s.rotation))throw new TypeError(`Invalid video rotation: ${s.rotation}. Has to be 0, 90, 180 or 270.`);if(!this.format.supportsVideoRotationMetadata&&s.rotation)throw new Error(`${this.format._name} does not support video rotation metadata.`);if(s.frameRate!==void 0&&(!Number.isFinite(s.frameRate)||s.frameRate<=0))throw new TypeError(`Invalid video frame rate: ${s.frameRate}. Must be a positive number.`);this._addTrack("video",e,s)}addAudioTrack(e,s={}){if(!(e instanceof qT))throw new TypeError("source must be an AudioSource.");Lm(s),this._addTrack("audio",e,s)}addSubtitleTrack(e,s={}){if(!(e instanceof LB))throw new TypeError("source must be a SubtitleSource.");Lm(s),this._addTrack("subtitle",e,s)}setMetadataTags(e){if(z5(e),this.state!=="pending")throw new Error("Cannot set metadata tags after output has been started or canceled.");this._metadataTags=e}_addTrack(e,s,r){if(this.state!=="pending")throw new Error("Cannot add track after output has been started or canceled.");if(s._connectedTrack)throw new Error("Source is already used for a track.");const o=this.format.getSupportedTrackCounts(),l=this._tracks.reduce((h,g)=>h+(g.type===e?1:0),0),u=o[e].max;if(l===u)throw new Error(u===0?`${this.format._name} does not support ${e} tracks.`:`${this.format._name} does not support more than ${u} ${e} track${u===1?"":"s"}.`);const d=o.total.max;if(this._tracks.length===d)throw new Error(`${this.format._name} does not support more than ${d} tracks${d===1?"":"s"} in total.`);const f={id:this._tracks.length+1,output:this,type:e,source:s,metadata:r};if(f.type==="video"){const h=this.format.getSupportedVideoCodecs();if(h.length===0)throw new Error(`${this.format._name} does not support video tracks.`+this.format._codecUnsupportedHint(f.source._codec));if(!h.includes(f.source._codec))throw new Error(`Codec '${f.source._codec}' cannot be contained within ${this.format._name}. Supported video codecs are: ${h.map(g=>`'${g}'`).join(", ")}.`+this.format._codecUnsupportedHint(f.source._codec))}else if(f.type==="audio"){const h=this.format.getSupportedAudioCodecs();if(h.length===0)throw new Error(`${this.format._name} does not support audio tracks.`+this.format._codecUnsupportedHint(f.source._codec));if(!h.includes(f.source._codec))throw new Error(`Codec '${f.source._codec}' cannot be contained within ${this.format._name}. Supported audio codecs are: ${h.map(g=>`'${g}'`).join(", ")}.`+this.format._codecUnsupportedHint(f.source._codec))}else if(f.type==="subtitle"){const h=this.format.getSupportedSubtitleCodecs();if(h.length===0)throw new Error(`${this.format._name} does not support subtitle tracks.`+this.format._codecUnsupportedHint(f.source._codec));if(!h.includes(f.source._codec))throw new Error(`Codec '${f.source._codec}' cannot be contained within ${this.format._name}. Supported subtitle codecs are: ${h.map(g=>`'${g}'`).join(", ")}.`+this.format._codecUnsupportedHint(f.source._codec))}this._tracks.push(f),s._connectedTrack=f}async start(){const e=this.format.getSupportedTrackCounts();for(const r of jB){const o=this._tracks.reduce((u,d)=>u+(d.type===r?1:0),0),l=e[r].min;if(o<l)throw new Error(l===e[r].max?`${this.format._name} requires exactly ${l} ${r} track${l===1?"":"s"}.`:`${this.format._name} requires at least ${l} ${r} track${l===1?"":"s"}.`)}const s=e.total.min;if(this._tracks.length<s)throw new Error(s===e.total.max?`${this.format._name} requires exactly ${s} track${s===1?"":"s"}.`:`${this.format._name} requires at least ${s} track${s===1?"":"s"}.`);if(this.state==="canceled")throw new Error("Output has been canceled.");return this._startPromise?(console.warn("Output has already been started."),this._startPromise):this._startPromise=(async()=>{this.state="started",this._writer.start();const r=await this._mutex.acquire();await this._muxer.start();const o=this._tracks.map(l=>l.source._start());await Promise.all(o),r()})()}getMimeType(){return this._muxer.getMimeType()}async cancel(){if(this._cancelPromise)return console.warn("Output has already been canceled."),this._cancelPromise;if(this.state==="finalizing"||this.state==="finalized"){console.warn("Output has already been finalized.");return}return this._cancelPromise=(async()=>{this.state="canceled";const e=await this._mutex.acquire(),s=this._tracks.map(r=>r.source._flushOrWaitForOngoingClose(!0));await Promise.all(s),await this._writer.close(),e()})()}async finalize(){if(this.state==="pending")throw new Error("Cannot finalize before starting.");if(this.state==="canceled")throw new Error("Cannot finalize after canceling.");return this._finalizePromise?(console.warn("Output has already been finalized."),this._finalizePromise):this._finalizePromise=(async()=>{this.state="finalizing";const e=await this._mutex.acquire(),s=this._tracks.map(r=>r.source._flushOrWaitForOngoingClose(!1));await Promise.all(s),await this._muxer.finalize(),await this._writer.flush(),await this._writer.finalize(),this.state="finalized",e()})()}}const HB=async n=>{if(typeof AudioEncoder>"u")return!1;try{return(await AudioEncoder.isConfigSupported({codec:n.codec,sampleRate:n.sampleRate,numberOfChannels:n.numberOfChannels,bitrate:n.bitrate})).supported??!1}catch{return!1}},qB=async n=>{if(typeof VideoEncoder>"u")return!1;try{return(await VideoEncoder.isConfigSupported({codec:n.codec,width:n.width,height:n.height,bitrate:n.bitrate,framerate:n.framerate})).supported??!1}catch{return!1}},WB=async(n,e,s)=>{const r=[{fullCodec:"mp4a.40.2",shortCodec:"aac",name:"AAC-LC"},{fullCodec:"opus",shortCodec:"opus",name:"Opus"},{fullCodec:"vorbis",shortCodec:"vorbis",name:"Vorbis"}];for(const{fullCodec:o,shortCodec:l,name:u}of r)if(await HB({codec:o,sampleRate:n,numberOfChannels:e,bitrate:s}))return{codec:l,name:u};return null},GB=async(n,e,s,r)=>{const o=[{fullCodec:"avc1.42E01E",shortCodec:"avc",name:"H.264 Baseline"},{fullCodec:"vp09.00.10.08",shortCodec:"vp9",name:"VP9"},{fullCodec:"vp8",shortCodec:"vp8",name:"VP8"}];for(const{fullCodec:l,shortCodec:u,name:d}of o)if(await qB({codec:l,width:n,height:e,bitrate:s,framerate:r}))return{codec:u,name:d};return null},ZB=["image/jpeg","image/png","image/gif"],YB=n=>{var o;const{type:e,name:s}=n;if(e&&ZB.includes(e))return!0;const r=(o=s.split(".").pop())==null?void 0:o.toLowerCase();return r?["jpg","jpeg","png","gif"].includes(r):!1},WT=n=>{if(!YB(n))throw new Error("Unsupported image format. Please upload a JPG, PNG, or GIF image.")},XB=n=>new Promise((e,s)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>e(r),r.onerror=()=>s(new Error("Failed to load image preview")),r.src=n}),QB=async n=>{if(WT(n),typeof createImageBitmap=="function")try{return await createImageBitmap(n)}catch{}const e=URL.createObjectURL(n);try{return await XB(e)}finally{URL.revokeObjectURL(e)}},zu=n=>{"close"in n&&typeof n.close=="function"&&n.close()},$B=n=>n instanceof HTMLImageElement?{width:n.naturalWidth||n.width,height:n.naturalHeight||n.height}:{width:n.width,height:n.height},KB=12,o_=22050,l_=64e3,c_=32e4,JB=4,eI=.45,tI=.55,nI=()=>{if(typeof VideoEncoder>"u"||typeof AudioEncoder>"u")throw new Error("WebCodecs API is not available in this browser. Video export is unsupported.")},sI=(n,e)=>{if(typeof OffscreenCanvas=="function")return new OffscreenCanvas(n,e);if(typeof document<"u"){const s=document.createElement("canvas");return s.width=n,s.height=e,s}throw new Error("Canvas API is unavailable in this environment.")},iI=(n,e,s,r)=>{n.save(),n.fillStyle="#000000",n.fillRect(0,0,s,r);const{width:o,height:l}=$B(e),u=w5(o,l,s,r);n.imageSmoothingEnabled=!0,n.drawImage(e,u.x,u.y,u.width,u.height),n.restore()},rI=async({audioBuffer:n,effects:e,imageFile:s,orientation:r,frameRate:o=KB,onProgress:l})=>{nI(),l==null||l({percent:0,stage:"processing-audio",detail:"Rendering audio effects"});const u=await Aw(n,e,{sampleRate:o_}),d=u.length/u.sampleRate,f=1,h=Math.max(1,Math.ceil(d/f)),{width:g,height:p}=_5(r),y=await QB(s),b=sI(g,p),x=b.getContext("2d");if(!x)throw zu(y),new Error("Unable to acquire a 2D canvas context for video export.");iI(x,y,g,p);let _=0,T=0;const C=(k,W,U)=>{const j=_*eI+T*tI;l==null||l({percent:Math.min(1,j),stage:k,detail:W,framesEncoded:U,totalFrames:h})},M=new PT,N=new UB({format:new jT,target:M});C("initializing","Detecting codec support");const B=await WB(o_,u.numberOfChannels,l_);if(!B)throw zu(y),new Error("No supported audio codec found. Your browser may not support audio encoding via WebCodecs API.");const R=await GB(g,p,c_,o);if(!R)throw zu(y),new Error("No supported video codec found. Your browser may not support video encoding via WebCodecs API.");C("initializing",`Using ${B.name} audio and ${R.name} video`);const z=new FB({codec:B.codec,bitrate:l_}),D=new IB(b,{codec:R.codec,bitrate:c_});N.addAudioTrack(z),N.addVideoTrack(D,{frameRate:o});try{await N.start();const k=u.length,W=u.numberOfChannels,U=u.sampleRate,j=Math.max(1,Math.floor(U*JB));C("encoding-audio","Encoding audio track");for(let O=0;O<k;O+=j){const I=Math.min(j,k-O),F=new AudioBuffer({length:I,numberOfChannels:W,sampleRate:U});for(let $=0;$<W;$++){const ne=u.getChannelData($).subarray(O,O+I);F.copyToChannel(ne,$,0)}await z.add(F),_=(O+I)/k,C("encoding-audio",`Encoding audio ${(_*100).toFixed(0)}%`)}_=1,C("encoding-audio","Audio encoding complete"),C("encoding-video","Encoding video frames",0);const H=1/o;for(let O=0;O<h;O++){const I=O*f,F=Math.max(0,d-I),$=O===h-1?Math.max(H,F||0):f;try{await D.add(I,$,{dropFrames:!0})}catch{await D.add(I,$)}const ne=O+1;T=ne/h,C("encoding-video",`Encoding frame ${ne} of ${h}`,ne)}T=1,C("finalizing","Finalizing video file"),await N.finalize();const K=await N.getMimeType().catch(()=>"video/mp4"),ee=M.buffer;if(!ee)throw new Error("Failed to finalize video export");const ce=new Blob([ee],{type:K||"video/mp4"});return l==null||l({percent:1,stage:"finalizing",detail:"Video export complete",framesEncoded:h,totalFrames:h}),{blob:ce,duration:d,width:g,height:p,frameRate:o,mimeType:K||"video/mp4"}}catch(k){throw await N.cancel().catch(()=>{}),k}finally{try{z.close()}catch{}try{D.close()}catch{}zu(y)}},u_={initializing:"Preparing export…","processing-audio":"Processing audio…","encoding-audio":"Encoding audio…","encoding-video":"Encoding video…",finalizing:"Finalizing…"};function aI({audioBuffer:n,fileName:e}){const[s,r]=w.useState(!1),[o,l]=w.useState(0),[u,d]=w.useState("");return{isVideoExporting:s,videoExportProgress:o,videoExportStage:u,handleVideoExport:async(h,g,p)=>{if(!n){on.error("Load audio before exporting video");return}if(!g){on.error("Upload an image to include in the video");return}if(!s){r(!0),l(0),d(u_["processing-audio"]);try{const y=await rI({audioBuffer:n,effects:h,imageFile:g,orientation:p,onProgress:C=>{l(Math.round(C.percent*100));const M=C.detail||u_[C.stage]||"Working…";d(M)}}),x=`doomer-${e?e.replace(/\.[^/.]+$/,""):"track"}-${p}.mp4`,_=URL.createObjectURL(y.blob),T=document.createElement("a");T.href=_,T.download=x,T.style.display="none",document.body.appendChild(T),requestAnimationFrame(()=>{T.click(),requestAnimationFrame(()=>{URL.revokeObjectURL(_),T.remove()})}),on.success("Video exported successfully"),l(100),setTimeout(()=>{r(!1),l(0),d("")},1200)}catch(y){const b=y instanceof Error?y.message:"Failed to export video";on.error(b),console.error(y),r(!1),l(0),d("")}}}}}function oI(){const[n,e]=w.useState(null),[s,r]=w.useState(null),[o,l]=w.useState("landscape"),u=w.useRef(null),d=g=>{r(p=>(p&&URL.revokeObjectURL(p),URL.createObjectURL(g)))},f=g=>{try{WT(g),e(g),d(g),on.success("Image ready for video export")}catch(p){const y=p instanceof Error?p.message:"Unsupported image format";on.error(y)}},h=g=>{var y;const p=(y=g.target.files)==null?void 0:y[0];p&&f(p)};return w.useEffect(()=>()=>{s&&URL.revokeObjectURL(s)},[s]),{videoImage:n,imagePreviewUrl:s,videoOrientation:o,imageInputRef:u,setVideoOrientation:l,handleImageInput:h}}function lI(){const[n,e]=w.useState(null),[s,r]=w.useState(""),[o,l]=w.useState(Ka),[u,d]=w.useState(.7),{presets:f,savePreset:h,loadPreset:g,deletePreset:p}=c5(),{loadAudioFile:y,play:b,pause:x,stop:_,seek:T,setVolume:C,updateEffects:M,exportAudio:N,isPlaying:B,currentTime:R,duration:z}=bO(),{isAudioExporting:D,audioExportProgress:k,handleAudioExport:W}=C5({audioBuffer:n,fileName:s,exportAudio:N}),{isVideoExporting:U,videoExportProgress:j,videoExportStage:H,handleVideoExport:K}=aI({audioBuffer:n,fileName:s}),{videoImage:ee,imagePreviewUrl:ce,videoOrientation:O,imageInputRef:I,setVideoOrientation:F,handleImageInput:$}=oI(),ne=async X=>{const te=await y(X);e(te),r(X.name)},V=(X,te)=>{const re={...o,[X]:te};l(re),M(re)},G=X=>{d(X),C(X)};return E.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-8",children:[E.jsx(HN,{position:"top-center",theme:"dark"}),E.jsx(aS,{children:E.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[E.jsx(_O,{}),E.jsx(qN,{fileName:s,onFileSelect:ne}),n&&E.jsxs(E.Fragment,{children:[E.jsx(NR,{audioBuffer:n,currentTime:R,duration:z,isPlaying:B,volume:u,onSeek:T,onPlay:b,onPause:x,onStop:_,onVolumeChange:G}),E.jsx(G3,{effects:o,onEffectChange:V,presetControls:E.jsx(o5,{presets:f,onLoad:X=>{const te=g(X);te&&(l(te),M(te))},onSave:X=>h(X,o),onDelete:p})}),E.jsx(T5,{isAudioExporting:D,audioExportProgress:k,onAudioExport:()=>W(o),isVideoExporting:U,videoExportProgress:j,videoExportStage:H,videoImage:ee,imagePreviewUrl:ce,imageInputRef:I,videoOrientation:O,onImageInput:$,onOrientationChange:F,onVideoExport:()=>K(o,ee,O)})]})]})}),E.jsx(wO,{})]})}const cI=Kw("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function uI({className:n,variant:e,...s}){return E.jsx("div",{"data-slot":"alert",role:"alert",className:ft(cI({variant:e}),n),...s})}function dI({className:n,...e}){return E.jsx("div",{"data-slot":"alert-title",className:ft("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",n),...e})}function fI({className:n,...e}){return E.jsx("div",{"data-slot":"alert-description",className:ft("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],mI=No("refresh-cw",hI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gI=No("triangle-alert",pI),vI=({error:n,resetErrorBoundary:e})=>E.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:E.jsxs("div",{className:"w-full max-w-md",children:[E.jsxs(uI,{variant:"destructive",className:"mb-6",children:[E.jsx(gI,{}),E.jsx(dI,{children:"The app ran into a runtime error"}),E.jsx(fI,{children:"Something unexpected happened while running the application. The error details are shown below. Please report this issue to the project maintainers so we can investigate."})]}),E.jsxs("div",{className:"bg-card border rounded-lg p-4 mb-6",children:[E.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Error Details:"}),E.jsx("pre",{className:"text-xs text-destructive bg-muted/50 p-3 rounded border overflow-auto max-h-32",children:n.message})]}),E.jsxs(rr,{onClick:e,className:"w-full",variant:"outline",children:[E.jsx(mI,{}),"Try Again"]})]})});fE.createRoot(document.getElementById("root")).render(E.jsx(mE,{FallbackComponent:vI,children:E.jsx(lI,{})}));
